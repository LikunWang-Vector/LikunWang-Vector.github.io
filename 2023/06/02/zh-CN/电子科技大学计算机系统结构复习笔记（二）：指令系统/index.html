<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>电子科技大学计算机系统结构复习笔记（二）：指令系统 | Likun Wang | 王立坤</title><meta name="author" content="Likun Wang (王立坤)"><meta name="copyright" content="Likun Wang (王立坤)"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="本文迁移自CSDN博客原文链接：电子科技大学计算机系统结构复习笔记（二）：指令系统📊 2199 阅读 | 👍 4 点赞 | 💬 1 评论 | ⭐ 21 收藏  目录 前言 重点一览 指令集系统结构（ISA）的分类 分类依据 存储结构 区别 图示 通用寄存器系统结构分类 存储器寻址 概述 寻址方式 MIPS寻址模式 小结 操作数类型 指令操作 与指令编码 常用操作数类型 常用指令系统的操作">
<meta property="og:type" content="article">
<meta property="og:title" content="电子科技大学计算机系统结构复习笔记（二）：指令系统">
<meta property="og:url" content="https://your-domain.com/2023/06/02/zh-CN/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/index.html">
<meta property="og:site_name" content="Likun Wang | 王立坤">
<meta property="og:description" content="本文迁移自CSDN博客原文链接：电子科技大学计算机系统结构复习笔记（二）：指令系统📊 2199 阅读 | 👍 4 点赞 | 💬 1 评论 | ⭐ 21 收藏  目录 前言 重点一览 指令集系统结构（ISA）的分类 分类依据 存储结构 区别 图示 通用寄存器系统结构分类 存储器寻址 概述 寻址方式 MIPS寻址模式 小结 操作数类型 指令操作 与指令编码 常用操作数类型 常用指令系统的操作">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://your-domain.com/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/b11fc38cc0a7.png">
<meta property="article:published_time" content="2023-06-02T15:00:00.000Z">
<meta property="article:modified_time" content="2023-06-02T15:00:00.000Z">
<meta property="article:author" content="Likun Wang (王立坤)">
<meta property="article:tag" content="ISA">
<meta property="article:tag" content="复习笔记">
<meta property="article:tag" content="学习资料">
<meta property="article:tag" content="指令系统">
<meta property="article:tag" content="系统结构">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://your-domain.com/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/b11fc38cc0a7.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "电子科技大学计算机系统结构复习笔记（二）：指令系统",
  "url": "https://your-domain.com/2023/06/02/zh-CN/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/",
  "image": "https://your-domain.com/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/b11fc38cc0a7.png",
  "datePublished": "2023-06-02T15:00:00.000Z",
  "dateModified": "2023-06-02T15:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Likun Wang (王立坤)",
      "url": "https://github.com/veckun"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://your-domain.com/2023/06/02/zh-CN/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":true},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":50,"languages":{"author":"Author: Likun Wang (王立坤)","link":"Link: ","source":"Source: Likun Wang | 王立坤","info":"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '电子科技大学计算机系统结构复习笔记（二）：指令系统',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/csdn-stats.css"><link rel="stylesheet" href="/css/lang-switch.css"><meta name="generator" content="Hexo 8.1.1"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      if ($loadingBox.classList.contains('loaded')) return
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()

  if (document.readyState === 'complete') {
    preloader.endLoading()
  } else {
    window.addEventListener('load', preloader.endLoading)
    document.addEventListener('DOMContentLoaded', preloader.endLoading)
    // Add timeout protection: force end after 7 seconds
    setTimeout(preloader.endLoading, 7000)
  }

  if (true) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">302</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">311</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">21</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/cv/"><i class="fa-fw fas fa-graduation-cap"></i><span> CV</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/b11fc38cc0a7.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Likun Wang | 王立坤</span></a><a class="nav-page-title" href="/"><span class="site-name">电子科技大学计算机系统结构复习笔记（二）：指令系统</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/cv/"><i class="fa-fw fas fa-graduation-cap"></i><span> CV</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">电子科技大学计算机系统结构复习笔记（二）：指令系统</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-06-02T15:00:00.000Z" title="Created 2023-06-03 00:00:00">2023-06-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-06-02T15:00:00.000Z" title="Updated 2023-06-03 00:00:00">2023-06-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/">复习笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">3.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>13mins</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:180,&quot;messagePrev&quot;:&quot;This article was last updated&quot;,&quot;messageNext&quot;:&quot;days ago. The content may be outdated.&quot;,&quot;postUpdate&quot;:&quot;2023-06-03 00:00:00&quot;}" hidden></div><blockquote>
<p>本文迁移自CSDN博客<br>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_59180666/article/details/131021510">电子科技大学计算机系统结构复习笔记（二）：指令系统</a><br>📊 2199 阅读 | 👍 4 点赞 | 💬 1 评论 | ⭐ 21 收藏</p>
</blockquote>
<p><strong>目录</strong></p>
<p>前言</p>
<p>重点一览</p>
<p>指令集系统结构（ISA）的分类</p>
<p>分类依据</p>
<p>存储结构</p>
<p>区别</p>
<p>图示</p>
<p>通用寄存器系统结构分类</p>
<p>存储器寻址</p>
<p>概述</p>
<p>寻址方式</p>
<p>MIPS寻址模式</p>
<p>小结</p>
<p>操作数类型 指令操作 与指令编码</p>
<p>常用操作数类型</p>
<p>常用指令系统的操作</p>
<p>常用指令系统编码方式</p>
<p>MIPS系统结构</p>
<p>概述</p>
<p>MIPS寄存器</p>
<p>MIPS的数据类型</p>
<p>MIPS数据传输的寻址方式</p>
<p>MIPS的指令格式</p>
<p>MIPS操作 </p>
<p>了解：谬误与易犯的错误</p>
<p>本章小结</p>
<hr>
<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>本复习笔记基于叶老师的课堂PPT，供自己期末复习与学弟学妹参考用。</p>
<hr>
<h3 id="重点一览"><a href="#重点一览" class="headerlink" title="重点一览"></a>重点一览</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/b11fc38cc0a7.png"></p>
<hr>
<h3 id="指令集系统结构（ISA）的分类"><a href="#指令集系统结构（ISA）的分类" class="headerlink" title="指令集系统结构（ISA）的分类"></a>指令集系统结构（ISA）的分类</h3><h4 id="分类依据"><a href="#分类依据" class="headerlink" title="分类依据"></a>分类依据</h4><p>处理器内部数据的存储结构</p>
<h4 id="存储结构"><a href="#存储结构" class="headerlink" title="存储结构"></a>存储结构</h4><p>堆栈、累加器、通用寄存器</p>
<h4 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h4><ul>
<li><strong>堆栈</strong> 系统结构中操作数<strong>隐含</strong> 的位于栈顶</li>
<li><strong>累加器</strong> 系统结构中的一个<strong>隐含</strong> 操作数就是累加器</li>
<li><strong>通用寄存器</strong> 结构系统中只能<strong>明确</strong> 的指定操作数，不是寄存器就是存储器地址</li>
</ul>
<h4 id="图示"><a href="#图示" class="headerlink" title="图示"></a>图示</h4><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/6fc112795255.png"></p>
<ul>
<li>(a)中，栈顶寄存器（TOS）指向堆栈顶部的输入操作数。第一个操作数被从堆栈中删除，运算结果存放在第二个操作数的位置，同时栈顶寄存器指向运算结果。 所有的操作数都是寄存器，只能通过push或pop指令传输到存储器中</li>
<li>(b)中， 累加器既是隐含的输入操作数也是运算结果。</li>
<li>(c)中，一个操作数在寄存器中， 另一个在存储器中， 运算结果存放在寄存器中。</li>
<li>(d)中， 所有的操作数都是寄存器，与堆栈结构（a）类似， 也只能通过一些单独的指令（load或store）传输到存储器中，属于<strong>MIPS结构</strong></li>
</ul>
<h4 id="通用寄存器系统结构分类"><a href="#通用寄存器系统结构分类" class="headerlink" title="通用寄存器系统结构分类"></a>通用寄存器系统结构分类</h4><p>（1）register-memory系统结构，一般指令都可以访问存储器。如上图C，Reg-Mem结构</p>
<p>（2）register-register或 load-store系统结构，只能通过load和store指令来访问内存 。如上图D，Reg-Reg结构</p>
<p>（3）教材提到的纯 memory-memory系统结构，现实中不存在的结构，把所有的数据都保存在存储器中。</p>
<hr>
<h3 id="存储器寻址"><a href="#存储器寻址" class="headerlink" title="存储器寻址"></a>存储器寻址</h3><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><blockquote>
<p>我们讨论的所有指令系统都是字节寻址的，都提供了字节（8位）、半字（16位）和字（32位）寻址，大多数的计算机还提供了双字（64位）寻址。</p>
<p>Intel的一个字是2个字节；MIPS的一个字是4个字节</p>
<p>将数据从存储器拷贝到寄存器的指令，叫取数指令（<strong>lw 指令：load word</strong> ）；将数据从寄存器拷贝到存储器的指令，叫存数指令（<strong>sw 指令：store word</strong> ）</p>
<p>小端模式：低地址存低字节，如04030201H；大端模式：低地址存高字节，如01020304H</p>
<p>MIPS的一个字是4个字节。在MIPS中，字的起始地址必须是4的倍数，称为<strong>对齐限制</strong> 。 这样可以简化硬件实现的复杂性，提高对齐访问的程序运行速度</p>
</blockquote>
<h4 id="寻址方式"><a href="#寻址方式" class="headerlink" title="寻址方式"></a>寻址方式</h4><p>寻址方式：寻找操作数或操作数地址的方式</p>
<table>
<thead>
<tr>
<th>寻址方式</th>
<th>指令举例</th>
<th>含义</th>
<th>何时使用</th>
</tr>
</thead>
<tbody><tr>
<td>寄存器寻址</td>
<td>Add R4，R3</td>
<td>Regs[R4]←Regs[R4]+Regs[R3]</td>
<td>数值在寄存器中</td>
</tr>
<tr>
<td>立即数寻址</td>
<td>Add R4，#3</td>
<td>Regs[R4]←Regs[R4]+3</td>
<td>数值是常量</td>
</tr>
<tr>
<td>位移量寻址</td>
<td>Add R4，100（R1）</td>
<td>Regs[R4]←Regs[R4] +Mem[100+Regs[R1]]</td>
<td>存取局部变量（+模拟寄存器 间接、直接寻址）</td>
</tr>
<tr>
<td>寄存器间接寻址</td>
<td>Add R4，（R1）</td>
<td>Regs[R4]←Regs[R4]+Mem[Regs[R1]]</td>
<td>使用指针或者计算出的地址 进行寻址</td>
</tr>
<tr>
<td>间接寻址</td>
<td>Add R3，[R1+R2]</td>
<td>Regs[R3]←Regs[R3] +Mem[Regs[R1]+[Regs[R2]]</td>
<td>有时用在数组寻址中</td>
</tr>
<tr>
<td>索引寻址</td>
<td>Add R1，（1001）</td>
<td>Regs[R1]←Regs[R1] +Mem[1001]</td>
<td>R1是数组的基址，R2是索引 值用来存取静态数据；地址 常量可能需要很大</td>
</tr>
<tr>
<td>存储器间接寻址</td>
<td>Add R1，@（R3）</td>
<td>Regs[R1]←Regs[R1] +Mem[Mem[Regs[R3]]]</td>
<td>如果R3是指针p的地址，那么 就得到*p</td>
</tr>
<tr>
<td>自动递增寻址</td>
<td>Add R1，（R2）+</td>
<td>Regs[R1]←Regs[R1]+Mem[Regs[R2]] Regs[R2]←Regs[R2]+d</td>
<td>用在循环中递增变量，R2是 数组的起始地址，每次增加d</td>
</tr>
<tr>
<td>自动递减寻址</td>
<td>Add R1，-(R2)</td>
<td>Regs[R2]←Regs[R2]-d Regs[R1]←Regs[R1]+Mem[Regs[R2]]</td>
<td>和自动递增类似，自动递增&#x2F; 递减用来实现类似堆栈的 push&#x2F;pop功能</td>
</tr>
<tr>
<td>比例寻址</td>
<td>Add R1，100(R2)[R3]</td>
<td>Regs[R1]←Regs[R1] +Mem[100+Regs[R2]+Regs[R3]*d]</td>
<td>用来对数组寻址。一些计算 机可以用任意的索引（间接） 寻址方式</td>
</tr>
</tbody></table>
<h4 id="MIPS寻址模式"><a href="#MIPS寻址模式" class="headerlink" title="MIPS寻址模式"></a>MIPS寻址模式</h4><p>立即数寻址：操作数是指令中的常数</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/aac50ae531d7.png"></p>
<p>寄存器寻址：操作数是寄存器</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/a7ad02179f0b.png"></p>
<p>基址寻址：操作数在内存中，地址是指令中基址寄存器和常数的和</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/120693768255.png"></p>
<p>PC相对寻址：操作数在内存中，地址是PC和指令中常数的和</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/51e5d61f1402.png"></p>
<p>伪直接寻址：跳转地址是指令中26位字段和PC高位相连而成</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/89d09c3f3823.png"></p>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>一般ISA支持的基本寻址方式：立即数寻址、位移量寻址、寄存器间址。</p>
<p>立即数为8<del>16位；位移量为13</del>16位。</p>
<hr>
<h3 id="操作数类型-指令操作-与指令编码"><a href="#操作数类型-指令操作-与指令编码" class="headerlink" title="操作数类型 指令操作 与指令编码"></a>操作数类型 指令操作 与指令编码</h3><h4 id="常用操作数类型"><a href="#常用操作数类型" class="headerlink" title="常用操作数类型"></a>常用操作数类型</h4><p>常见的操作数类型：</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/1f6303481392.png"></p>
<h4 id="常用指令系统的操作"><a href="#常用指令系统的操作" class="headerlink" title="常用指令系统的操作"></a>常用指令系统的操作</h4><p>大多数指令集系统结构支持的操作：</p>
<table>
<thead>
<tr>
<th>操作类型</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td>算术和逻辑运算</td>
<td>定点算术和逻辑操作：加、减、与、或、乘、除</td>
</tr>
<tr>
<td>数据传输</td>
<td>Load-store指令（在REG-MEN结构计算机上是传送指令）</td>
</tr>
<tr>
<td>控制</td>
<td>条件转移、跳转、过程调用和返回、陷阱</td>
</tr>
<tr>
<td>系统</td>
<td>操作系统调用、虚拟存储器管理指令</td>
</tr>
<tr>
<td>浮点</td>
<td>浮点操作：加、减、乘、除、比较</td>
</tr>
<tr>
<td>十进制</td>
<td>十进制加、十进制乘、十进制到字符的转换</td>
</tr>
<tr>
<td>字符串</td>
<td>字符串传送、字符串比较、字符串匹配</td>
</tr>
<tr>
<td>图像</td>
<td>像素、顶点操作、压缩&#x2F;解压缩操作</td>
</tr>
</tbody></table>
<p>使用最多的是一些简单指令。一般所有的计算机都提供前三类指令。指令集对后四类指令的支持数量可能为0，也可能包含大量特殊指令。</p>
<p>控制流指令分类：<strong>条件转移，跳转，过程调用，过程返回</strong></p>
<p>MIPS控制流指令：</p>
<table>
<thead>
<tr>
<th>指令举例</th>
<th>指令名称</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>J name</td>
<td>跳转</td>
<td>PC0..27←name</td>
</tr>
<tr>
<td>JAL name</td>
<td>跳转并链接</td>
<td>Regs[R31]←PC+4；PC0..27←name； ((PC+4)-227)≤name&lt;((PC+4)+227)</td>
</tr>
<tr>
<td>JALR R2</td>
<td>寄存器跳转并链接</td>
<td>Regs[R31]←PC+4；PC←Regs[R2]</td>
</tr>
<tr>
<td>JR R3</td>
<td>寄存器跳转</td>
<td>PC←Regs[R3]；</td>
</tr>
<tr>
<td>BEQZ R1，name</td>
<td>等于零时分支</td>
<td>If(Regs[R1]&#x3D;&#x3D;0) PC←name； ((PC+4)-217)≤name&lt;((PC+4)+217)</td>
</tr>
<tr>
<td>BNE R3，R4，name</td>
<td>不等于时分支</td>
<td>If(Regs[R3]!&#x3D;(Regs[R4]) PC←name； ((PC+4)-217)≤name&lt;((PC+4)+217)</td>
</tr>
<tr>
<td>MOVZ R1，R2，R3</td>
<td>等于零时传送</td>
<td>If(Regs[R3]&#x3D;&#x3D;0) Regs[R1]←Regs[R2]</td>
</tr>
</tbody></table>
<p>分支的目标地址&#x3D;16位带符号位移量左移2位 +（PC+4）</p>
<p><strong>控制流指令的寻址方式</strong></p>
<p><strong>PC相对寻址</strong> ，即使用基于程序计数器（PC）的位移量来指定目标地址。 </p>
<ul>
<li>PC相对寻址指令的<strong>优点</strong> ：</li>
</ul>
<p>目标与当前指令离得不远；使用相对偏移地址可以缩减指令长度。 </p>
<p>使用相对寻址的程序可以载入到主存任何位置（位置无关），对执行时才链接的程序可减少工作量</p>
<p><strong>寄存器间接跳转，</strong> 编译时不知道目标位置，为了实现<strong>返回和间接跳转</strong> ，需要使用寄存器间接跳转：给出<strong>包含目标地址的寄存器名称</strong> 。通常在寄存器间接跳转之前，才把地址从存储器载入到寄存器中</p>
<h4 id="常用指令系统编码方式"><a href="#常用指令系统编码方式" class="headerlink" title="常用指令系统编码方式"></a>常用指令系统编码方式</h4><p>指令编码包括：操作、寄存器地址、寻址方式编码；决定了处理器实现和编译后程序大小</p>
<p>对指令编码，需要在以下因素之间找到一个最佳平衡点：</p>
<ol>
<li>尽可能多的寄存器和寻址方式。</li>
<li>寄存器字段、寻址方式字段尽量少，以缩短指令长度。</li>
<li>指令长度易于流水线处理。</li>
</ol>
<p>三种常见编码方式</p>
<ol>
<li>变长编码：允许所有的操作使用所有的寻址方式，适合寻址方式和操作比较多的情形。最少的位数表示程序，译码复杂，不适合流水线。</li>
<li>定长编码：把操作和寻址方式组合在操作码里，通常所有的指令长度都相同。这种方式适合于寻址方式和操作比较少的情况。译码简单，适合流水线，代码量大。</li>
<li>混合编码：减少过多的指令，以减轻多种结构的指令带来的工作负担，但仍提供多种指令长度以减少代码长度。</li>
</ol>
<p>总之：* <strong>关注代码量</strong> 大小，选择<strong>变长</strong> 编码；* <strong>关注</strong> 程序的执行<strong>性能</strong> ，选择<strong>定长</strong> 编码；* <strong>折中</strong> 可以选择<strong>混合</strong> 编码。</p>
<hr>
<h3 id="MIPS系统结构"><a href="#MIPS系统结构" class="headerlink" title="MIPS系统结构"></a>MIPS系统结构</h3><h4 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h4><ul>
<li>一种简单64位load-store系统结构</li>
<li>固定长度指令编码，译码简单，有利于实现高效率流水线。</li>
<li>使编译器更容易产生高效的目标代码。</li>
</ul>
<h4 id="MIPS寄存器"><a href="#MIPS寄存器" class="headerlink" title="MIPS寄存器"></a>MIPS寄存器</h4><ul>
<li>32个64位通用寄存器（GPR）,名称为R0，R1，…，R31，也称为寄存器。</li>
<li>32个浮点寄存器（FPR），名称为F0，F1， …，F31，即可以作为32个32位单精度寄存器来使用，也可以作为32个64位双精度寄存器来使用。</li>
<li>R0的值永远是0</li>
</ul>
<h4 id="MIPS的数据类型"><a href="#MIPS的数据类型" class="headerlink" title="MIPS的数据类型"></a>MIPS的数据类型</h4><ul>
<li>定点数据类型有8位字节、16位半字、32位字和64位双字。</li>
<li>浮点数有32位单精度和64位双精度浮点数。 </li>
<li>操作面向64位定点以及32位或64位浮点数的。字节、半字或者字在调入64位寄存器中时，用零或者符号来填充64位寄存器的剩余部分。</li>
</ul>
<h4 id="MIPS数据传输的寻址方式"><a href="#MIPS数据传输的寻址方式" class="headerlink" title="MIPS数据传输的寻址方式"></a>MIPS数据传输的寻址方式</h4><ul>
<li>16位立即数 16位位移量方式（基址寻址），即操作数地址是一个存放在寄存器中的基地址与相对该基址的一个16位移量相加获得。</li>
<li>位移量为0—寄存器间接寻址；R0作为基址寄存器—16位绝对寻址</li>
<li>MIPS存储器是用64位地址字节寻址的。</li>
</ul>
<h4 id="MIPS的指令格式"><a href="#MIPS的指令格式" class="headerlink" title="MIPS的指令格式"></a>MIPS的指令格式</h4><ul>
<li>指令长度：32位，其中6位是基本操作码。可以使机器更容易进行流水线操作和译码。 </li>
<li>两种存储器寻址方式：编码到操作码中。</li>
</ul>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/8599c699bb03.png"></p>
<h4 id="MIPS操作"><a href="#MIPS操作" class="headerlink" title="MIPS操作"></a>MIPS操作</h4><ul>
<li>大致分为四类：载入和存储、ALU操作、分支与跳转、浮点操作。 </li>
<li>所有通用寄存器与浮点数寄存器都可以被载入或存储，唯一的例外是载入R0无效</li>
</ul>
<p><strong>载入与存储操作举例</strong></p>
<table>
<thead>
<tr>
<th>指令举例</th>
<th>指令名称</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>LD R1，30(R2)</td>
<td>载入双字</td>
<td>Regs[R1]←64Mem[30+Regs[R2]]</td>
</tr>
<tr>
<td>LD R1，1000(R0)</td>
<td>载入双字</td>
<td>Regs[R1]←64Mem[1000+0]</td>
</tr>
<tr>
<td>LW R1，60(R2)</td>
<td>载入字</td>
<td>Regs[R1]←64(Mem[60+Regs[R2]]0)32##Mem[60+Regs[R2]]</td>
</tr>
<tr>
<td>LB R1，40(R3)</td>
<td>载入字节</td>
<td>Regs[R1]←64(Mem[40+Regs[R3]]0)56##Mem[40+Regs[R3]]</td>
</tr>
<tr>
<td>LBU R1，40(R3)</td>
<td>载入无符号字节</td>
<td>Regs[R1]←64056##Mem[40+Regs[R3]]</td>
</tr>
<tr>
<td>LH R1，40(R3)</td>
<td>载入半字</td>
<td>Regs[R1]←64(Mem[40+Regs[R3]]0)48## Mem[40+Regs[R3]]##Mem[41+Regs[R3]]</td>
</tr>
<tr>
<td>L.S F0，50(R3)</td>
<td>载入单精度浮点数</td>
<td>Regs[F0]←64Mem[50+Regs[R3]]##032</td>
</tr>
<tr>
<td>L.D F0，50(R2)</td>
<td>载入双精度浮点数</td>
<td>Regs[F0]←64Mem[50+Regs[R2]]</td>
</tr>
<tr>
<td>SD R3，500(R4)</td>
<td>存储双字</td>
<td>Mem[500+Regs[R4]]←64Regs[R3]</td>
</tr>
<tr>
<td>SW R3，500(R4)</td>
<td>存储字</td>
<td>Mem[500+Regs[R3]]←32Regs[R3]32..63</td>
</tr>
<tr>
<td>S.S F0，40(R3)</td>
<td>存储单精度浮点数</td>
<td>Mem[40+Regs[R3]]←32Regs[F0]0..31</td>
</tr>
<tr>
<td>S.D F0，40(R2)</td>
<td>存储双精度浮点数</td>
<td>Mem[40+Regs[R3]]←64Regs[F0]</td>
</tr>
<tr>
<td>SH R3，502(R2)</td>
<td>存储半字</td>
<td>Mem[502+Regs[R2]]←16Regs[R31]48..63</td>
</tr>
<tr>
<td>SB R2，41(R3)</td>
<td>存储字节</td>
<td>Mem[41+Regs[R3]]←32Regs[F0]56..63</td>
</tr>
</tbody></table>
<p>注意</p>
<ul>
<li>当被传送的数据长度不确切时，在符号←上附加一个下标，表示传送n位。</li>
<li>下标用于标识字段中特定的位。位从以0开始的最高位开始标注。</li>
<li>变量Mem用来表示主存储器（内存），按字节编址，可以传输任意字节的数据。</li>
<li>上标用来表示对字段进行复制。</li>
<li>符号##用来链接两个字段并且可以出现在数据传送的任何一边。</li>
</ul>
<p><strong>ALU指令举例</strong></p>
<table>
<thead>
<tr>
<th>指令举例</th>
<th>指令名称</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>DADDU R1，R2，R3</td>
<td>无符号加</td>
<td>Regs[R1]←Regs[R2]+Regs[R3]</td>
</tr>
<tr>
<td>DADDIU R1，R2，#3</td>
<td>加无符号立即数</td>
<td>Regs[R1]←Regs[R2]+3</td>
</tr>
<tr>
<td>LUI R1，#42</td>
<td>载入立即数到高位</td>
<td>Regs[R1]←032##42##016</td>
</tr>
<tr>
<td>DSLL R1，R2，#5</td>
<td>逻辑左移立即数</td>
<td>Regs[R1]←Regs[R2]&lt;&lt;5</td>
</tr>
<tr>
<td>DSLT R1，R2，R3</td>
<td>置小于</td>
<td>If(Regs[R2]&lt;Regs[R3]) Regs[R1]←1 else Regs[R1]←0</td>
</tr>
</tbody></table>
<p><strong>分支与跳转(控制流)指令举例</strong></p>
<table>
<thead>
<tr>
<th>指令举例</th>
<th>指令名称</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>J name</td>
<td>跳转</td>
<td>PC0..27←name</td>
</tr>
<tr>
<td>JAL name</td>
<td>跳转并链接</td>
<td>Regs[R31]←PC+4；PC0..27←name； ((PC+4)-227)≤name&lt;((PC+4)+227)</td>
</tr>
<tr>
<td>JALR R2</td>
<td>寄存器跳转并链接</td>
<td>Regs[R31]←PC+4；PC←Regs[R2]</td>
</tr>
<tr>
<td>JR R3</td>
<td>寄存器跳转</td>
<td>PC←Regs[R3]；</td>
</tr>
<tr>
<td>BEQZ R1，name</td>
<td>等于零时分支</td>
<td>If(Regs[R1]&#x3D;&#x3D;0) PC←name； ((PC+4)-217)≤name&lt;((PC+4)+217)</td>
</tr>
<tr>
<td>BNE R3，R4，name</td>
<td>不等于时分支</td>
<td>If(Regs[R3]!&#x3D;(Regs[R4]) PC←name； ((PC+4)-217)≤name&lt;((PC+4)+217)</td>
</tr>
<tr>
<td>MOVZ R1，R2，R3</td>
<td>等于零时传送</td>
<td>If(Regs[R3]&#x3D;&#x3D;0) Regs[R1]←Regs[R2]</td>
</tr>
</tbody></table>
<p>分支的目标地址&#x3D;16位带符号位移量左移2位 +（PC+4） MIPS指令是32位，4个字节长 </p>
<p><strong>MIPS的浮点操作</strong></p>
<ul>
<li>MOV.S和MOV.D分别把一个单&#x2F;双精度浮点数寄存器的值复制到另一个同类型的寄存器中。 MFC1、MTC1、DMFC1和DMTC1在一个单精度或双精度浮点数寄存器和一个定点寄存器之间传送数据。 </li>
<li>浮点操作：加、减、乘、除。后缀S表示单精度浮点数，而后缀D表示双精度浮点数。 </li>
<li>为提高图形处理性能，MIPS64提供了在一个64位浮点数寄存器两半部分中分别进行两个32位浮点数的操作。</li>
</ul>
<h4 id="了解：谬误与易犯的错误"><a href="#了解：谬误与易犯的错误" class="headerlink" title="了解：谬误与易犯的错误"></a>了解：谬误与易犯的错误</h4><p>（下面五条是正确说法）</p>
<ol>
<li>不能设计专门支持高级语言结构的“高级”指令功能。</li>
<li>不存在一种典型的程序。</li>
<li>不可以不考虑编译器而改进指令系统以缩减代码大小。</li>
<li>有缺陷的系统结构有可能是一种成功的系统结构。</li>
<li>不可以设计一个没有缺陷的系统结构。</li>
</ol>
<hr>
<h3 id="本章小结"><a href="#本章小结" class="headerlink" title="本章小结"></a>本章小结</h3><p>掌握（重点）：指令系统结构分类，存储器寻址，操作数的大小与类型，MIPS系统结构。</p>
<p>理解：指令系统的操作，控制流指令，指令系统的编码。</p>
<p>了解：编译技术与计算机系统结构的相互影响</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://github.com/veckun">Likun Wang (王立坤)</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://your-domain.com/2023/06/02/zh-CN/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/">https://your-domain.com/2023/06/02/zh-CN/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/">复习笔记</a><a class="post-meta__tags" href="/tags/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/">学习资料</a><a class="post-meta__tags" href="/tags/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/">系统结构</a><a class="post-meta__tags" href="/tags/ISA/">ISA</a><a class="post-meta__tags" href="/tags/%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/">指令系统</a></div><div class="post-share"><div class="social-share" data-image="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/b11fc38cc0a7.png" data-sites="wechat,weibo,qq,twitter,facebook"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2023/06/04/en/UESTC-CA-Notes-3-Pipeline/" title="UESTC Computer Architecture Review Notes (3): Pipeline Technology"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89%EF%BC%9A%E6%B5%81%E6%B0%B4%E7%BA%BF%E6%8A%80%E6%9C%AF/16b1d84d8492.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">UESTC Computer Architecture Review Notes (3): Pipeline Technology</div></div><div class="info-2"><div class="info-item-1">Table of Contents Pipeline DefinitionPipeline HazardsPipeline Processor Instruction SystemPipeline Exceptions and Floating-Point PipelineChapter Summary  Key Points Overview  Pipeline DefinitionBasic ConceptA pipeline is a technique that exploits parallelism among instruction operations to achieve overlapped execution of multiple instructions. Pipeline Classification By stage uniformity: Uniform pipeline Non-uniform pipeline   By data type: Scalar pipeline processor Vector pipeline processor ...</div></div></div></a><a class="pagination-related" href="/2023/06/02/en/UESTC-CA-Notes-2-Instruction-Set/" title="UESTC Computer Architecture Review Notes (2): Instruction Set"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/b11fc38cc0a7.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">UESTC Computer Architecture Review Notes (2): Instruction Set</div></div><div class="info-2"><div class="info-item-1">Table of Contents ISA ClassificationMemory AddressingAddressing ModesOperand Types and Instruction OperationsInstruction EncodingMIPS Architecture  Key Points Overview  Instruction Set Architecture (ISA) ClassificationClassification BasisInternal data storage structure of the processor. Storage StructuresStack, Accumulator, General-Purpose Registers Differences Stack: Operands implicitly at stack top Accumulator: One implicit operand is the accumulator General-Purpose Registers: Operands must...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2023/06/05/zh-CN/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%EF%BC%9A%E8%AF%BE%E5%90%8E%E4%BD%9C%E4%B8%9A/" title="电子科技大学计算机系统结构：课后作业"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%EF%BC%9A%E8%AF%BE%E5%90%8E%E4%BD%9C%E4%B8%9A/259af20c29e6.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-06</div><div class="info-item-2">电子科技大学计算机系统结构：课后作业</div></div><div class="info-2"><div class="info-item-1"> 本文迁移自CSDN博客原文链接：电子科技大学计算机系统结构：课后作业📊 2671 阅读 | 👍 17 点赞 | 💬 0 评论 | ⭐ 35 收藏  计算机体系结构作业答案 第一二章作业 1.试述Flynn 分类的4 种计算机系统结构有何特点。 参考答案： Flynn按照指令流和数据流两种不同的组合，把计算机系统的结构分为以下4 类： （1）单指令流单数据流SISD（Single Instruction Stream Single Datastream），SISD 是传统的顺序处理计算机； （2）单指令流多数据流SIMD（Single Instruction Stream Multiple Datastream），SIMD 以阵列处理机为代表； （3）多指令流单数据流MISD（Multiple Instruction Stream Single Datastream），MISD 实际代表何种计算机，存在着不同的看法； （4）多指令流多数据流MIMD（Multiple Instruction Stream Multiple Datastream），多处理机与多计算机系统属于M...</div></div></div></a><a class="pagination-related" href="/2023/06/01/zh-CN/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E6%A6%82%E8%BF%B0/" title="电子科技大学计算机系统结构复习笔记（一）：概述"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E6%A6%82%E8%BF%B0/0e0baf20a0b1.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-02</div><div class="info-item-2">电子科技大学计算机系统结构复习笔记（一）：概述</div></div><div class="info-2"><div class="info-item-1"> 本文迁移自CSDN博客原文链接：电子科技大学计算机系统结构复习笔记（一）：概述📊 2684 阅读 | 👍 6 点赞 | 💬 1 评论 | ⭐ 33 收藏  目录 前言 重点一览 计算机分类 弗林分类法 市场分类 计算机系统结构定义 实现技术\功耗\成本的趋势\可靠性(了解)  计算机性能 性能评价指标 性能评价方法 计算机设计的量化原则 基本方法 Amdahl‘s 定律 CPU 性能公式 &#x2F; 时间计算 本章小结  前言本复习笔记基于叶老师的课堂PPT和复习提纲，供自己期末复习与学弟学妹参考用。  重点一览  计算机分类弗林分类法定义 ：基于指令流和数据流数量的计算机结构分类 内容 ：  SISD  Single instruction: 在任一时钟周期只有单个指令流在CPU执行 Single data: 在任一时钟周期只有单个数据流用作输入 例子: 串行计算机   MISD  每个处理单元用多个指令流对单个数据进行独立操作 单个数据流进入多个处理单元。 例子: 很少有这类计算机的实例   SIMD  例子: 适用于处理高度规整操作的问题，如图像处理   MIMD...</div></div></div></a><a class="pagination-related" href="/2023/02/11/zh-CN/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/" title="电子科技大学操作系统期末复习笔记（一）：操作系统概述"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/5e52ba583b39.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-12</div><div class="info-item-2">电子科技大学操作系统期末复习笔记（一）：操作系统概述</div></div><div class="info-2"><div class="info-item-1"> 本文迁移自CSDN博客原文链接：电子科技大学操作系统期末复习笔记（一）：操作系统概述📊 2672 阅读 | 👍 23 点赞 | 💬 2 评论 | ⭐ 50 收藏  目录 前言 操作系统概述 操作系统的目标与功能 操作系统的定义 目标 功能 操作系统的历史 单用户系统 简单批处理系统 多道批处理系统 分时系统 个人电脑 → 分布式系统 → 互联网时代 → 移动计算时代 → …… 实时系统 操作系统的基本特征 并发 共享 虚拟 不确定性 操作系统的体系结构 无结构操作系统 模块化系统结构 分层式系统结构 操作系统安全 内存 信息保护和安全  前言本复习笔记基于电子科技大学计算机操作系统-教学大纲（2022）中的课程模块部分，分为五大章节，分别是：   CM1： 操作系统概念。操作系统基本功能、操作系统发展历史及趋势、操作系统主流架构、常见操作系统特点、操作系统安全机制。  CM2： 进程管理。进程概念、线程概念、进程生命周期、进程调度算法、进程同步互斥、进程间通信和死锁。  CM3： 内存管理。内存空间的概念、连续分配、离散分配（分页管理、分段管理、段页式管理）、虚拟存储管理...</div></div></div></a><a class="pagination-related" href="/2023/05/28/zh-CN/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AD%EF%BC%89%EF%BC%9A%E8%87%AA%E4%B8%8A%E8%80%8C%E4%B8%8B%E7%9A%84%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/" title="电子科技大学编译原理复习笔记（六）：自上而下的语法分析"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AD%EF%BC%89%EF%BC%9A%E8%87%AA%E4%B8%8A%E8%80%8C%E4%B8%8B%E7%9A%84%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/62b5a5f1f1f4.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-29</div><div class="info-item-2">电子科技大学编译原理复习笔记（六）：自上而下的语法分析</div></div><div class="info-2"><div class="info-item-1"> 本文迁移自CSDN博客原文链接：电子科技大学编译原理复习笔记（六）：自上而下的语法分析📊 1734 阅读 | 👍 5 点赞 | 💬 0 评论 | ⭐ 20 收藏  目录 前言 重点一览 引言 语法分析的功能 语法分析的分类 自上而下分析方法 回溯分析法 回溯分析法例子 方法 存在的问题 产生的原因 特点 解决缺陷 消除回溯（重点）  递归下降分析器  递归下降分析法 递归过程的构造 扩充BNF 改进的递归下降分析法  预测分析法 预测分析表 ⭐分析方法（重点） ⭐构造预测分析表（重点） 本章小结  前言本复习笔记基于张老师的课堂PPT，供自己期末复习与学弟学妹参考用。  重点一览   引言语法分析的功能 语法分析的分类自上而下：从文法开始符出发，能否找到一个最左推导序列， 使得S&#x3D;&gt;*w ？ 自下而上：从w出发，能否找到一个最左规约（最右推导的逆过程）序列，逐步向上规约，直至文法的开始符S？ 自上而下分析方法不确定 的分析的方法：回溯分析法 确定的 分析方法：递归下降分析法  回溯分析法回溯分析法例子  方法   从文法的开始符号S出发；    选取S...</div></div></div></a><a class="pagination-related" href="/2023/02/06/zh-CN/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89%EF%BC%9A%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90/" title="电子科技大学软件工程期末复习笔记（三）：需求分析"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89%EF%BC%9A%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90/6c855d5ad8ae.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-07</div><div class="info-item-2">电子科技大学软件工程期末复习笔记（三）：需求分析</div></div><div class="info-2"><div class="info-item-1"> 本文迁移自CSDN博客原文链接：电子科技大学软件工程期末复习笔记（三）：需求分析📊 2488 阅读 | 👍 22 点赞 | 💬 3 评论 | ⭐ 40 收藏  目录 前言 重点一览 需求分析 需求的定义 需求的特性 功能性需求与非功能性需求 需求分析的四个步骤 结构化需求分析方法 结构化需求分析建模的核心 围绕该核心建立的三种图 ⭐绘制数据流图（重点） 绘制数据流图实例 面向对象分析 面向对象分析的三种模型 用例图的三个元素 ⭐绘制用例图（重点） 本章小结  前言本复习笔记基于王玉林老师的课堂PPT与复习大纲，供自己期末复习与学弟学妹参考用。  重点一览 分为三个部分讲解：需求分析、结构化需求分析方法、面向对象分析   需求分析需求的定义  软件需求表达了对解决现实世界中某类问题的产品的要求和约束 确定系统必须具有的功能和性能，系统要求的运行环境，并且预测系统发展的前景 需求就是以一种清晰、简洁、一致且无二义性的方式，对一个待开发系统中各个有意义方面的陈述的一个集合   需求的特性   可验证性  需求是测试的依据（即能测试) 尽可能量化表述  不可验证:“软件应该是可靠...</div></div></div></a><a class="pagination-related" href="/2023/05/26/zh-CN/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89%EF%BC%9A%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80%E7%9A%84%E8%AE%BE%E8%AE%A1/" title="电子科技大学编译原理复习笔记（四）：程序语言的设计"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/%E7%94%B5%E5%AD%90%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89%EF%BC%9A%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80%E7%9A%84%E8%AE%BE%E8%AE%A1/de6a3e230164.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-27</div><div class="info-item-2">电子科技大学编译原理复习笔记（四）：程序语言的设计</div></div><div class="info-2"><div class="info-item-1"> 本文迁移自CSDN博客原文链接：电子科技大学编译原理复习笔记（四）：程序语言的设计📊 2049 阅读 | 👍 8 点赞 | 💬 1 评论 | ⭐ 25 收藏  目录 前言 重点一览 语言的定义 比较：生成观点与识别观点 语义又该怎么描述？ 符号串 符号串集合 ⭐文法（超重点） 定义 组成 表示 ⭐分类（重点）  文法产生的语言 ⭐短语、直接短语和句柄（求它们目的是语法分析） ⭐语法树（推导树） 语言的设计 本章习题 本章小结  前言本复习笔记基于张老师的课堂PPT，供自己期末复习与学弟学妹参考用。  重点一览 这一章开始正式进入编译原理的重点，文法部分。   语言的定义 语言&#x3D;语法（规则）+语义（规则） 语法：用以构造程序及其成分（语法单位）的规则的集合 语义：用以规定语法正确的语法单位的含义的规则的集合 程序设计语言是用来描述计算机所执行的算法的形式表示 词法规则：规定什么样的字符序列可以构成语言的有效符号 语法规则：确定一个符号序列是否为一个句子，并提供句子结构（判断是否合法） 生成的观点：每一行称为一条语法规则，语法就是所有句子的集合，可形成文法 识别的观...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comments</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Likun Wang (王立坤)</div><div class="author-info-description">Algorithm Engineer | AI Engineer
Waseda University M.E.
Deep Learning & TPU Development
</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">302</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">311</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">21</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/veckun"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/veckun" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:vector_kun@ruri.waseda.jp" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://linkedin.com/in/veckun" target="_blank" title="LinkedIn"><i class="fab fa-linkedin" style="color: #0077b5;"></i></a><a class="social-icon" href="javascript:void(0)" target="_blank" title="WeChat vectorkun"><i class="fab fa-weixin" style="color: #07c160;"></i></a><a class="social-icon" href="https://blog.csdn.net/m0_59180666" target="_blank" title="CSDN"><i class="fab fa-blogger" style="color: #fc5531;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Welcome to my blog! Sharing AI, algorithms & tech insights.</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E7%82%B9%E4%B8%80%E8%A7%88"><span class="toc-number">2.</span> <span class="toc-text">重点一览</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E9%9B%86%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%EF%BC%88ISA%EF%BC%89%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">3.</span> <span class="toc-text">指令集系统结构（ISA）的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E4%BE%9D%E6%8D%AE"><span class="toc-number">3.1.</span> <span class="toc-text">分类依据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84"><span class="toc-number">3.2.</span> <span class="toc-text">存储结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BA%E5%88%AB"><span class="toc-number">3.3.</span> <span class="toc-text">区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E7%A4%BA"><span class="toc-number">3.4.</span> <span class="toc-text">图示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E7%94%A8%E5%AF%84%E5%AD%98%E5%99%A8%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%88%86%E7%B1%BB"><span class="toc-number">3.5.</span> <span class="toc-text">通用寄存器系统结构分类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%99%A8%E5%AF%BB%E5%9D%80"><span class="toc-number">4.</span> <span class="toc-text">存储器寻址</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">4.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F"><span class="toc-number">4.2.</span> <span class="toc-text">寻址方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MIPS%E5%AF%BB%E5%9D%80%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.3.</span> <span class="toc-text">MIPS寻址模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">4.4.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%95%B0%E7%B1%BB%E5%9E%8B-%E6%8C%87%E4%BB%A4%E6%93%8D%E4%BD%9C-%E4%B8%8E%E6%8C%87%E4%BB%A4%E7%BC%96%E7%A0%81"><span class="toc-number">5.</span> <span class="toc-text">操作数类型 指令操作 与指令编码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.1.</span> <span class="toc-text">常用操作数类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">5.2.</span> <span class="toc-text">常用指令系统的操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A0%81%E6%96%B9%E5%BC%8F"><span class="toc-number">5.3.</span> <span class="toc-text">常用指令系统编码方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MIPS%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84"><span class="toc-number">6.</span> <span class="toc-text">MIPS系统结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-1"><span class="toc-number">6.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MIPS%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-number">6.2.</span> <span class="toc-text">MIPS寄存器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MIPS%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.3.</span> <span class="toc-text">MIPS的数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MIPS%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F"><span class="toc-number">6.4.</span> <span class="toc-text">MIPS数据传输的寻址方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MIPS%E7%9A%84%E6%8C%87%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-number">6.5.</span> <span class="toc-text">MIPS的指令格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MIPS%E6%93%8D%E4%BD%9C"><span class="toc-number">6.6.</span> <span class="toc-text">MIPS操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3%EF%BC%9A%E8%B0%AC%E8%AF%AF%E4%B8%8E%E6%98%93%E7%8A%AF%E7%9A%84%E9%94%99%E8%AF%AF"><span class="toc-number">6.7.</span> <span class="toc-text">了解：谬误与易犯的错误</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93"><span class="toc-number">7.</span> <span class="toc-text">本章小结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/01/04/en/Kiro-Batch-Registration-Vulnerability-Whistleblower/" title="On 'I Report Myself': The 'Modern-Day Hero' Behind Kiro's Batch Registration Vulnerability"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/kiro-whistleblower.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="On 'I Report Myself': The 'Modern-Day Hero' Behind Kiro's Batch Registration Vulnerability"/></a><div class="content"><a class="title" href="/2026/01/04/en/Kiro-Batch-Registration-Vulnerability-Whistleblower/" title="On 'I Report Myself': The 'Modern-Day Hero' Behind Kiro's Batch Registration Vulnerability">On 'I Report Myself': The 'Modern-Day Hero' Behind Kiro's Batch Registration Vulnerability</a><time datetime="2026-01-04T15:00:00.000Z" title="Created 2026-01-05 00:00:00">2026-01-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/04/zh-CN/%E8%AE%BA%E3%80%8A%E6%88%91-%E4%B8%BE-%E6%8A%A5-%E6%88%91-%E8%87%AA-%E5%B7%B1%E3%80%8B%EF%BC%9AKiro-%E6%89%B9%E9%87%8F%E6%B3%A8%E5%86%8C%E6%BC%8F%E6%B4%9E%E8%83%8C%E5%90%8E%E7%9A%84%E2%80%9C%E5%BD%93%E4%BB%A3%E6%B4%BB%E9%9B%B7%E9%94%8B%E2%80%9D/" title="论《我 举 报 我 自 己》：Kiro 批量注册漏洞背后的&quot;当代活雷锋&quot;"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/kiro-whistleblower.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="论《我 举 报 我 自 己》：Kiro 批量注册漏洞背后的&quot;当代活雷锋&quot;"/></a><div class="content"><a class="title" href="/2026/01/04/zh-CN/%E8%AE%BA%E3%80%8A%E6%88%91-%E4%B8%BE-%E6%8A%A5-%E6%88%91-%E8%87%AA-%E5%B7%B1%E3%80%8B%EF%BC%9AKiro-%E6%89%B9%E9%87%8F%E6%B3%A8%E5%86%8C%E6%BC%8F%E6%B4%9E%E8%83%8C%E5%90%8E%E7%9A%84%E2%80%9C%E5%BD%93%E4%BB%A3%E6%B4%BB%E9%9B%B7%E9%94%8B%E2%80%9D/" title="论《我 举 报 我 自 己》：Kiro 批量注册漏洞背后的&quot;当代活雷锋&quot;">论《我 举 报 我 自 己》：Kiro 批量注册漏洞背后的&quot;当代活雷锋&quot;</a><time datetime="2026-01-04T15:00:00.000Z" title="Created 2026-01-05 00:00:00">2026-01-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/12/en/Common-Archive-Formats-Explained/" title="Common Archive Formats Explained: Differences and Extraction Methods"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Common Archive Formats Explained: Differences and Extraction Methods"/></a><div class="content"><a class="title" href="/2025/10/12/en/Common-Archive-Formats-Explained/" title="Common Archive Formats Explained: Differences and Extraction Methods">Common Archive Formats Explained: Differences and Extraction Methods</a><time datetime="2025-10-12T15:00:00.000Z" title="Created 2025-10-13 00:00:00">2025-10-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/12/zh-CN/%E5%B8%B8%E8%A7%81%E5%8E%8B%E7%BC%A9%E5%8C%85%E6%A0%BC%E5%BC%8F%E8%AF%A6%E8%A7%A3%EF%BC%9A%E5%8C%BA%E5%88%AB%E5%8F%8A%E5%9C%A8%E4%B8%8D%E5%90%8C%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E8%A7%A3%E5%8E%8B%E6%96%B9%E5%BC%8F/" title="常见压缩包格式详解：区别及在不同系统中的解压方式"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="常见压缩包格式详解：区别及在不同系统中的解压方式"/></a><div class="content"><a class="title" href="/2025/10/12/zh-CN/%E5%B8%B8%E8%A7%81%E5%8E%8B%E7%BC%A9%E5%8C%85%E6%A0%BC%E5%BC%8F%E8%AF%A6%E8%A7%A3%EF%BC%9A%E5%8C%BA%E5%88%AB%E5%8F%8A%E5%9C%A8%E4%B8%8D%E5%90%8C%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E8%A7%A3%E5%8E%8B%E6%96%B9%E5%BC%8F/" title="常见压缩包格式详解：区别及在不同系统中的解压方式">常见压缩包格式详解：区别及在不同系统中的解压方式</a><time datetime="2025-10-12T15:00:00.000Z" title="Created 2025-10-13 00:00:00">2025-10-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/18/en/Master-Python-Debugger-pdb-in-10-Minutes/" title="Master Python Debugger pdb in 10 Minutes"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/posts/10%E5%88%86%E9%92%9F%E6%8E%8C%E6%8F%A1Python%E8%B0%83%E8%AF%95%E5%99%A8pdb/0d565b653736.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Master Python Debugger pdb in 10 Minutes"/></a><div class="content"><a class="title" href="/2025/09/18/en/Master-Python-Debugger-pdb-in-10-Minutes/" title="Master Python Debugger pdb in 10 Minutes">Master Python Debugger pdb in 10 Minutes</a><time datetime="2025-09-18T15:00:00.000Z" title="Created 2025-09-19 00:00:00">2025-09-19</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By Likun Wang (王立坤)</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.3</a></span></div><div class="footer_custom_text"><p>Likun Wang | Algorithm Engineer</p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll to Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3"></script><script src="/js/main.js?v=5.5.3"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        loader: {
          load: [
            // Four font extension packages (optional)
            //- '[tex]/bbm',
            //- '[tex]/bboldx',
            //- '[tex]/dsfont',
            '[tex]/mhchem'
          ],
          paths: {
            'mathjax-newcm': '[mathjax]/../@mathjax/mathjax-newcm-font',

            //- // Four font extension packages (optional)
            //- 'mathjax-bbm-extension': '[mathjax]/../@mathjax/mathjax-bbm-font-extension',
            //- 'mathjax-bboldx-extension': '[mathjax]/../@mathjax/mathjax-bboldx-font-extension',
            //- 'mathjax-dsfont-extension': '[mathjax]/../@mathjax/mathjax-dsfont-font-extension',
            'mathjax-mhchem-extension': '[mathjax]/../@mathjax/mathjax-mhchem-font-extension'
          }
        },
        output: {
          font: 'mathjax-newcm',
        },
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'ams',
          packages: {
            '[+]': [
              'mhchem'
            ]
          }
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          menuOptions: {
            settings: {
              enrich: false  // Turn off Braille and voice narration text automatic generation
            }
          },
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax@4.0.0/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.2/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://your-twikoo.vercel.app',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://your-twikoo.vercel.app',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    GLOBAL_CONFIG_SITE.pageType === 'post' && getCount()

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.44/dist/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script src="/js/lang-router.js"></script><script src="/js/csdn-stats.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js" defer="defer"></script><script>document.addEventListener('DOMContentLoaded', () => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      true
        ? pjax.loadUrl('/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="local-search-input"><input placeholder="Search..." type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.3"></script></div></div></body></html>