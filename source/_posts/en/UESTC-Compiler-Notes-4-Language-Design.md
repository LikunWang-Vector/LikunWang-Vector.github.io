---
title: "UESTC Compiler Principles Review Notes (4): Programming Language Design"
date: 2023-05-27
updated: 2023-05-27
categories:
  - Review Notes
tags:
  - review-notes
  - compiler-principles
  - study-materials
  - grammar
  - language-design
cover: /images/posts/电子科技大学编译原理复习笔记（四）：程序语言的设计/de6a3e230164.png
lang_pair:
  zh-CN: "电子科技大学编译原理复习笔记（四）：程序语言的设计"
---

**Table of Contents**

Language Definition
Strings and String Sets
Grammar (Key Topic)
Grammar Classification
Phrases, Direct Phrases, and Handles
Syntax Trees

---

## Key Points Overview

![](/images/posts/电子科技大学编译原理复习笔记（四）：程序语言的设计/de6a3e230164.png)

This chapter formally enters the key part of compiler principles: Grammar.

---

## Language Definition

- **Language = Syntax (rules) + Semantics (rules)**
- Syntax: Collection of rules for constructing programs and their components (syntactic units)
- Semantics: Collection of rules specifying the meaning of syntactically correct syntactic units
- Programming languages are formal representations for describing algorithms executed by computers
- Lexical rules: Specify what character sequences can form valid language symbols
- Syntax rules: Determine whether a symbol sequence is a sentence and provide sentence structure
- **Generative view**: Each line is a syntax rule; syntax is the set of all sentences, forming a grammar
- **Recognition view**: Use syntax diagrams to define a given language

![](/images/posts/电子科技大学编译原理复习笔记（四）：程序语言的设计/580e65594e12.png)

![](/images/posts/电子科技大学编译原理复习笔记（四）：程序语言的设计/b0800a3e0b83.png)

### Comparison: Generative vs Recognition Views

![](/images/posts/电子科技大学编译原理复习笔记（四）：程序语言的设计/d310169d6c64.png)

---

## Strings and String Sets

**Basic Concepts**:
- If x and y are strings, x is "abc", y is "edf", then xy is "abcdef" - this is called string concatenation
- When string z is "kk...kk", write z=k^n, meaning k repeated n times
- Specially, when n=0, z=ε (empty string, null symbol); when k=pq, z=pqpq...pqpq

**String Sets Example**:

![](/images/posts/电子科技大学编译原理复习笔记（四）：程序语言的设计/50361b50f723.png)

Specially, A^0={ε}, and string set concatenation must have order.

---

## ⭐ Grammar (Key Topic)

### Definition

Grammar is the formal rules describing the syntactic structure of a language.

**Important property of grammar**: **Finite rules describe infinite languages**

### Components

![](/images/posts/电子科技大学编译原理复习笔记（四）：程序语言的设计/d445f33ef4a8.png)

Grammar contains four elements: **Terminals, Non-terminals, Start symbol, Productions**

**Convention**: Uppercase letters represent non-terminals, lowercase letters represent terminals, Greek lowercase letters represent strings.

Productions can be abbreviated: when left sides are the same, right sides can be separated by "|" meaning "or".

### Representation

To describe a grammar, just give the set of productions.

Example: Arithmetic expression grammar G0:

![](/images/posts/电子科技大学编译原理复习笔记（四）：程序语言的设计/cfc5315dc558.png)

### ⭐ Classification (Key Topic)

**① Type 0 Grammar (Phrase Grammar)**

Productions of form α→β, where α contains at least one non-terminal, and β is any string.

**② Type 1 Grammar (Context-Sensitive Grammar)**

Type 1 adds restrictions to Type 0: left side length must be less than right side length. Productions of form αAβ→αγβ.

Essentially A→γ, but with context restrictions α and β, so replacement only occurs in this context.

**③ Type 2 Grammar (Context-Free Grammar)**

Productions of form A→α. Type 2 removes context restrictions - replacement can occur wherever the left-side non-terminal appears. Since this grammar can basically describe programs, **context-free grammar is often simply called grammar**.

**④ Type 3 Grammar (Regular Grammar / Right-Linear Grammar)**

Productions of form A→α or A→αB (A, B are non-terminals, α is a terminal string). After replacement, the left side is locked by terminals; only the right side can change.

### Language Generated by Grammar

**Derivation and Reduction**:
- Direct derivation: Directly replace production left side with right side
- Derivation: Star arrow means 0 or more derivations; plus arrow means at least 1 derivation
- Reduction: Reverse process of derivation
- Leftmost/Rightmost derivation: Always replace leftmost/rightmost non-terminal; **rightmost** derivation is also called **canonical derivation**

**Sentential Forms and Sentences**:
- A string derived from the start symbol containing non-terminals is a sentential form; if it contains only terminals, it's a sentence
- A sentential form containing only terminals is a sentence
- A sentence is always a sentential form; a sentential form is not always a sentence
- **The set of all sentences generated by grammar G is called the language L(G) generated by the grammar**
- **If two grammars generate the same language, they are called equivalent**

---

## ⭐ Phrases, Direct Phrases, and Handles

**Phrase**:

![](/images/posts/电子科技大学编译原理复习笔记（四）：程序语言的设计/cb63cd6b9bc6.png)

**Direct Phrase (Simple Phrase)**:

![](/images/posts/电子科技大学编译原理复习笔记（四）：程序语言的设计/8a561f154707.png)

**Handle**: The leftmost direct phrase of a sentential form is called the handle.

**Prime Phrase**: A phrase containing terminals whose proper substrings don't have this property.

---

## ⭐ Syntax Trees (Derivation Trees)

- Syntax trees represent derivation processes graphically; the essence of a syntax tree is the derivation process, so every sentential form (sentence) of a grammar has a corresponding syntax tree
- The frontier of a derivation tree (left-to-right connection of all leaf nodes) is the sentential form (sentence)
- When a sentence has two different syntax trees, the grammar is said to be **ambiguous**
- We can determine phrases/direct phrases/handles through derivation trees: subtrees and simple subtrees correspond to phrases and direct phrases; the leftmost simple subtree is the handle
- A syntax tree with n internal nodes has n subtrees and n phrases; m simple subtrees (only parent-child generations) means m direct phrases

Example:

![](/images/posts/电子科技大学编译原理复习笔记（四）：程序语言的设计/c26ba1f2a4c3.png)

![](/images/posts/电子科技大学编译原理复习笔记（四）：程序语言的设计/b7f1af0fe4af.png)

---

## Chapter Summary

![](/images/posts/电子科技大学编译原理复习笔记（四）：程序语言的设计/eaee2b4cc3ad.png)

Key topics: Phrases, direct phrases, handles, prime phrases; Syntax tree concepts, relationship with phrases, drawing syntax trees.
