---
title: "ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶"
date: 2023-02-14
updated: 2023-02-14
categories:
  - å¤ä¹ ç¬”è®°
tags:
  - æ“ä½œç³»ç»Ÿ
  - è¿›ç¨‹
  - å¹¶å‘æ§åˆ¶
  - ç®—æ³•
  - å¤ä¹ ç¬”è®°
csdn_views: 2513
csdn_likes: 18
csdn_comments: 2
csdn_favorites: 47
csdn_url: https://blog.csdn.net/m0_59180666/article/details/128996730
cover: /images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/e94870088ab1.png
lang_pair:
  en: "UESTC Operating System Review Notes (2): Process and Concurrency Control"
---

> æœ¬æ–‡è¿ç§»è‡ªCSDNåšå®¢
> åŸæ–‡é“¾æ¥ï¼š[ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶](https://blog.csdn.net/m0_59180666/article/details/128996730)
> ğŸ“Š 2513 é˜…è¯» | ğŸ‘ 18 ç‚¹èµ | ğŸ’¬ 2 è¯„è®º | â­ 47 æ”¶è—

**ç›®å½•**

å‰è¨€

è¿›ç¨‹ç®¡ç†

è¿›ç¨‹åŸºæœ¬çŸ¥è¯†

ç¨‹åºçš„é¡ºåºæ‰§è¡Œ

å‰è¶‹å›¾

ç¨‹åºçš„å¹¶å‘æ‰§è¡Œ

å¹¶å‘ç¨‹åº

è¿›ç¨‹çš„å®šä¹‰å’Œç‰¹å¾ 

è¿›ç¨‹çš„ç‰¹å¾å’ŒçŠ¶æ€

æ“ä½œç³»ç»Ÿå†…æ ¸

å®šä¹‰

åŠŸèƒ½

åŸè¯­

åŸå­æ“ä½œçš„å®ç° 

æ“ä½œç³»ç»Ÿæ§åˆ¶ç»“æ„

è¿›ç¨‹æ§åˆ¶å—PCB

è¿›ç¨‹ç»„ç»‡ï¼ˆè¿›ç¨‹æ ‘ï¼‰

è¿›ç¨‹çš„åˆ›å»º

è¿›ç¨‹æ§åˆ¶å‡½æ•°ï¼ˆforkä¸execä¸ºä¸»ï¼‰

è¿›ç¨‹çš„ç»ˆæ­¢

è¿›ç¨‹åˆ‡æ¢

çº¿ç¨‹

ä¸è¿›ç¨‹çš„åŒºåˆ«å’Œè”ç³»

çº¿ç¨‹çš„ä¼˜åŠ¿

çº¿ç¨‹çš„ç‰¹ç‚¹

çº¿ç¨‹çš„çŠ¶æ€

çº¿ç¨‹çš„åˆ†ç±»

å¤„ç†æœºè°ƒåº¦

â­å•å¤„ç†æœºè°ƒåº¦ï¼ˆé‡ç‚¹ï¼‰

è°ƒåº¦åŸåˆ™

è°ƒåº¦ç®—æ³•ï¼šèµ„æºåˆ†é…é—®é¢˜

å…ˆæ¥å…ˆæœåŠ¡ï¼šFCFS

çŸ­ä½œä¸šä¼˜å…ˆï¼šSPF/SJF

æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ï¼šTSRR

æœ€çŸ­å‰©ä½™æ—¶é—´è°ƒåº¦ï¼šSRT

åŸºäºä¼˜å…ˆæƒ/ä¼˜å…ˆçº§çš„è°ƒåº¦ç®—æ³•

é«˜å“åº”æ¯”ä¼˜å…ˆç®—æ³•ï¼šHRRN

å¤šçº§é˜Ÿåˆ—è°ƒåº¦ç®—æ³•

å¤šçº§åé¦ˆé˜Ÿåˆ—è°ƒåº¦ï¼šMFQ

æ€»ç»“

å®æ—¶è°ƒåº¦ 

åŸºæœ¬æ¡ä»¶

ç³»ç»Ÿå¤„ç†èƒ½åŠ›ä¸‹ç•Œ

å®æ—¶è°ƒåº¦ç®—æ³•

å¤šå¤„ç†æœºè°ƒåº¦

åˆ†ç±»

è¿›ç¨‹åˆ†é…æ–¹å¼

å•é˜Ÿåˆ—å¤šå¤„ç†æœºè°ƒåº¦

å¤šé˜Ÿåˆ—å¤šå¤„ç†æœºè°ƒåº¦

æˆç»„è°ƒåº¦

ä¸“ç”¨å¤„ç†æœºåˆ†é… 

è¿›ç¨‹å¹¶å‘æ§åˆ¶ï¼šäº’æ–¥ä¸åŒæ­¥

è¿›ç¨‹/çº¿ç¨‹çš„å¹¶å‘æ§åˆ¶

åŸºæœ¬æ¦‚å¿µ

åŒæ­¥çš„è§£å†³ç­–ç•¥

è½¯ä»¶æ–¹æ³•

ç¡¬ä»¶æ–¹æ³•

ä¿¡å·é‡

ç®¡ç¨‹

â­è¿›ç¨‹å¹¶å‘æ§åˆ¶ï¼šä¿¡å·é‡çš„åº”ç”¨ï¼ˆé‡ç‚¹ï¼‰

è§‚å¯Ÿè€…é—®é¢˜

å›¾ä¹¦é¦†é—®é¢˜

å…¬äº¤è½¦é—®é¢˜

â­ç”Ÿäº§è€…/æ¶ˆè´¹è€…é—®é¢˜ï¼ˆé‡ç‚¹ï¼‰

ä¾‹é¢˜ï¼š

å¯ç¤º

â­è¯»/å†™è€…é—®é¢˜ï¼ˆé‡ç‚¹ï¼‰

è¯»è€…ä¼˜å…ˆ

å†™è€…ä¼˜å…ˆ

å…¬å¹³ä¼˜å…ˆ

â­ç†å‘å¸ˆé—®é¢˜ï¼ˆé‡ç‚¹ï¼‰

â­å“²å­¦å®¶é—®é¢˜ï¼ˆé‡ç‚¹ï¼‰

é‡ç‚¹çŸ¥è¯†ç‚¹å›é¡¾

è¿›ç¨‹å¹¶å‘æ§åˆ¶ï¼šç»ƒä¹ é¢˜

é—®é¢˜1

é—®é¢˜2

é—®é¢˜3

é—®é¢˜4

é—®é¢˜5

é—®é¢˜6

é—®é¢˜7

é—®é¢˜8 

é—®é¢˜9

è¿›ç¨‹é—´é€šä¿¡

åŸºæœ¬æ¦‚å¿µ

æ¶ˆæ¯ä¼ é€’

ç®¡é“ï¼ˆPipeï¼‰é€šä¿¡

æ­»é” 

äº§ç”Ÿæ­»é”çš„åŸå› 

ç³»ç»Ÿæ¨¡å‹

èµ„æºç±»å‹

èµ„æºåˆ†é…å›¾

å®ä¾‹

æ­»é”çš„å……è¦æ¡ä»¶ 

å¤„ç†æ­»é”çš„åŸºæœ¬æ–¹æ³• 

æ­»é”é¢„é˜²

æ­»é”é¿å…

æ­»é”æ£€æµ‹

æ­»é”è§£é™¤

æ­»é”å¿½ç•¥

å†™åœ¨æœ€å

* * *

## å‰è¨€

æ“ä½œç³»ç»Ÿæ¦‚è¿°å·²ç»æ›´æ–°ï¼Œä¼ é€é—¨ï¼š[ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰ï¼šæ“ä½œç³»ç»Ÿæ¦‚è¿°](https://blog.csdn.net/m0_59180666/article/details/128982979 "ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰ï¼šæ“ä½œç³»ç»Ÿæ¦‚è¿°")

æœ¬å¤ä¹ ç¬”è®°åŸºäºç”µå­ç§‘æŠ€å¤§å­¦è®¡ç®—æœºæ“ä½œç³»ç»Ÿ-æ•™å­¦å¤§çº²ï¼ˆ2022ï¼‰ä¸­çš„è¯¾ç¨‹æ¨¡å—éƒ¨åˆ†ï¼Œåˆ†ä¸ºäº”å¤§ç« èŠ‚ï¼Œåˆ†åˆ«æ˜¯ï¼š

>   * **CM1****ï¼š** æ“ä½œç³»ç»Ÿæ¦‚å¿µã€‚æ“ä½œç³»ç»ŸåŸºæœ¬åŠŸèƒ½ã€æ“ä½œç³»ç»Ÿå‘å±•å†å²åŠè¶‹åŠ¿ã€æ“ä½œç³»ç»Ÿä¸»æµæ¶æ„ã€å¸¸è§æ“ä½œç³»ç»Ÿç‰¹ç‚¹ã€æ“ä½œç³»ç»Ÿå®‰å…¨æœºåˆ¶ã€‚
>   * **CM2****ï¼š** è¿›ç¨‹ç®¡ç†ã€‚è¿›ç¨‹æ¦‚å¿µã€çº¿ç¨‹æ¦‚å¿µã€è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸã€è¿›ç¨‹è°ƒåº¦ç®—æ³•ã€è¿›ç¨‹åŒæ­¥äº’æ–¥ã€è¿›ç¨‹é—´é€šä¿¡å’Œæ­»é”ã€‚
>   * **CM3****ï¼š** å†…å­˜ç®¡ç†ã€‚å†…å­˜ç©ºé—´çš„æ¦‚å¿µã€è¿ç»­åˆ†é…ã€ç¦»æ•£åˆ†é…ï¼ˆåˆ†é¡µç®¡ç†ã€åˆ†æ®µç®¡ç†ã€æ®µé¡µå¼ç®¡ç†ï¼‰ã€è™šæ‹Ÿå­˜å‚¨ç®¡ç†å’Œé¡µé¢ç½®æ¢ç®—æ³•ã€‚
>   * **CM4****ï¼š** è®¾å¤‡ç®¡ç†ã€‚I/O ç³»ç»Ÿç»“æ„ã€ç¼“å†²ç®¡ç†ã€ç£ç›˜ç»“æ„å’Œç£ç›˜è°ƒåº¦ç®—æ³•ã€‚
>   * **CM5****ï¼š** æ–‡ä»¶ç®¡ç†ã€‚æ–‡ä»¶ç³»ç»Ÿçš„ä½œç”¨ã€é€»è¾‘ç»“æ„ã€ç‰©ç†ç»“æ„ã€ç›®å½•ã€æ–‡ä»¶å…±äº«å’Œæ–‡ä»¶ç³»ç»Ÿçš„ä¸€è‡´æ€§ã€‚
> 

æœ¬èŠ‚è¦ç‚¹åœ¨CM2ï¼Œå¤§è‡´å†…å®¹å¦‚ä¸‹ï¼š

> **ç¬¬äºŒç« ** è¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶ï¼ˆ20 å­¦æ—¶ï¼Œå¤šåª’ä½“è¯¾ä»¶ç»“åˆæ¿ä¹¦é¢æˆï¼‰CM2 
> 
> 1ã€ä¸»è¦å†…å®¹ 
> 
> ç¨‹åºé¡ºåºæ‰§è¡Œã€ç¨‹åºå¹¶å‘æ‰§è¡Œã€è¿›ç¨‹çš„å®šä¹‰ä¸ç‰¹å¾ã€è¿›ç¨‹çš„åŸºæœ¬çŠ¶æ€ã€è¿›ç¨‹çš„æŒ‚èµ·çŠ¶æ€ã€è¿› 
> 
> ç¨‹æ§åˆ¶å—ã€è¿›ç¨‹çš„åˆ›å»ºã€è¿›ç¨‹çš„ç»ˆæ­¢ã€è¿›ç¨‹çš„é˜»å¡ä¸å”¤é†’ã€è¿›ç¨‹çš„æŒ‚èµ·ä¸æ¿€æ´»ã€‚ä¸´ç•Œèµ„æºã€ä¸´ç•ŒåŒºã€åˆ©ç”¨è½¯ä»¶å’Œç¡¬ä»¶è§£å†³è¿›ç¨‹äº’æ–¥é—®é¢˜ã€æ•´å‹ä¿¡å·é‡æœºåˆ¶ã€è®°å½•å‹ä¿¡å·é‡æœºåˆ¶ã€ä¿¡å·é‡é›†æœºåˆ¶ã€ç”Ÿäº§è€…ï¼æ¶ˆè´¹è€…é—®é¢˜ã€è¯»è€…å’Œå†™è€…é—®é¢˜ã€å“²å­¦å®¶è¿›é¤é—®é¢˜ã€ç®¡ç¨‹æœºåˆ¶ã€è¿›ç¨‹é€šä¿¡çš„ç±»å‹ã€ç›´æ¥é€šä¿¡å’Œé—´æ¥é€šä¿¡æ–¹å¼ã€æ¶ˆæ¯ä¼ é€’ç³»ç»Ÿä¸­çš„å‡ ä¸ªé—®é¢˜ã€æ¶ˆæ¯ç¼“å†²é˜Ÿåˆ—é€šä¿¡æœºåˆ¶ã€‚è°ƒåº¦çš„ç±»å‹ã€è°ƒåº¦é˜Ÿåˆ—æ¨¡å‹ã€è°ƒåº¦æ–¹å¼å’Œå„ç§è°ƒåº¦ç®—æ³•ã€äº§ç”Ÿæ­»é”çš„åŸå› å’Œå¿…è¦æ¡ä»¶ã€å¤„ç†æ­»é”çš„åŸºæœ¬æ–¹æ³•ã€æ­»é”çš„é¢„é˜²å’Œé¿å…ã€æ­»é”çš„æ£€æµ‹ä¸è§£é™¤ã€‚è¿›ç¨‹è°ƒåº¦ç®—æ³•ã€‚æ»¡è¶³å®æ—¶ç³»ç»Ÿè¦æ±‚æ—¶ï¼Œåº”é€‰æ‹©é€‚åˆå®æ—¶ç³»ç»Ÿä¸­çš„è°ƒåº¦ç®—æ³•ã€‚çº¿ç¨‹çš„æ¦‚å¿µã€çº¿ç¨‹é—´çš„åŒæ­¥å’Œé€šä¿¡ã€ç”¨æˆ·çº¿ç¨‹å’Œå†…æ ¸æ”¯æŒçº¿ç¨‹çš„æ¦‚å¿µã€‚ 
> 
> 2ã€åº”è¾¾åˆ°çš„è¦æ±‚ 
> 
> è®°å¿†ï¼šè¿›ç¨‹çš„åˆ†é…æ–¹å¼ã€ç®¡ç¨‹æœºåˆ¶ã€‚ 
> 
> ç†è§£ï¼šè¿›ç¨‹çš„å¹¶å‘æ‰§è¡Œä¸æ§åˆ¶ï¼›å®æ—¶ç³»ç»Ÿçš„ç±»å‹åŠå®æ—¶è°ƒåº¦ç®—æ³•ã€‚çº¿ç¨‹çš„æ¦‚å¿µã€çº¿ç¨‹é—´çš„åŒ 
> 
> æ­¥å’Œé€šä¿¡ã€ç”¨æˆ·çº¿ç¨‹å’Œå†…æ ¸æ”¯æŒçº¿ç¨‹çš„æ¦‚å¿µã€‚ 
> 
> åº”ç”¨ï¼šç¨‹åºçš„æ‰§è¡Œã€è¿›ç¨‹çš„å®šä¹‰ä¸ç‰¹å¾ã€è¿›ç¨‹çš„åŸºæœ¬çŠ¶æ€ã€è¿›ç¨‹æ§åˆ¶å—ã€æ“ä½œç³»ç»Ÿå†…æ ¸ã€è¿› 
> 
> ç¨‹çš„åˆ›å»ºã€è¿›ç¨‹çš„ç»ˆæ­¢ã€è¿›ç¨‹çš„é˜»å¡ä¸å”¤é†’ã€è¿›ç¨‹çš„æŒ‚èµ·ä¸æ¿€æ´»ã€çº¿ç¨‹ä¸è¿›ç¨‹ã€è¿›ç¨‹è°ƒåº¦ç®—æ³•ã€‚ ä¸´ç•Œèµ„æºã€ä¸´ç•ŒåŒºã€è¿›ç¨‹äº’æ–¥é—®é¢˜ã€ä¿¡å·é‡çš„åº”ç”¨ã€‚ 
> 
> åˆ†æï¼šè¿›ç¨‹è°ƒåº¦å’Œæ­»é”ã€å¤„ç†æ­»é”çš„åŸºæœ¬æ–¹æ³•ã€‚è¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰çš„è°ƒåº¦ç®—æ³•ã€ç”Ÿäº§è€…/æ¶ˆè´¹è€… 
> 
> é—®é¢˜ã€è¯»è€…å’Œå†™è€…é—®é¢˜ã€å“²å­¦å®¶è¿›é¤é—®é¢˜ã€‚

å¯ä»¥çœ‹åˆ°å†…å®¹è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œè¿™éƒ¨åˆ†ä¹Ÿæ˜¯é‡ç‚¹å†…å®¹ï¼Œæ¶‰åŠåˆ°7ä¸ªPPTé‚£å°±åˆ†7ä¸ªæ ‡é¢˜å§ã€‚

* * *

## è¿›ç¨‹ç®¡ç†

* * *

### è¿›ç¨‹åŸºæœ¬çŸ¥è¯†

#### ç¨‹åºçš„é¡ºåºæ‰§è¡Œ

> ç¨‹åºæ‰§è¡Œæœ‰å›ºå®šçš„æ—¶åº
> 
> ç‰¹å¾ï¼šé¡ºåºæ€§ã€å°é—­æ€§ã€å¯å†ç°æ€§

#### å‰è¶‹å›¾

>   * æœ‰å‘æ— å¾ªç¯å›¾
>   * è¡¨ç¤ºæ–¹å¼ï¼š 
>     * p1â†’p2
>     * â†’={(p1,p2)| p1 å¿…é¡»åœ¨p2å¼€å§‹å‰å®Œæˆ}
>   * èŠ‚ç‚¹è¡¨ç¤ºï¼šä¸€æ¡è¯­å¥ï¼Œä¸€ä¸ªç¨‹åºæ®µï¼Œä¸€ä¸ªè¿›ç¨‹
> 

> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/e94870088ab1.png)

#### ç¨‹åºçš„å¹¶å‘æ‰§è¡Œ

ç‰¹å¾ï¼šé—´æ–­æ€§ã€å¤±å»å°é—­æ€§ï¼ˆä¸»è¦ç”±å…±äº«èµ„æºå¼•èµ·ï¼‰ã€ä¸å¯å†ç°æ€§ï¼ˆå¹¶å‘ç¨‹åºå¯èƒ½å¯¹å…±äº«èµ„æºåšä¸åŒçš„ä¿®æ”¹ï¼‰

ä¾‹å­ï¼š

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/dbfe0f30ceda.png)

> Aåœ¨Bä¹‹å‰ï¼Œåˆ™Nåˆ†åˆ«ä¸º n+1, n+1, 0
> 
> Aåœ¨Bä¹‹åï¼Œåˆ™Nåˆ†åˆ«ä¸º n, 0, 1
> 
> Aåœ¨Bä¸­é—´ï¼Œåˆ™Nåˆ†åˆ«ä¸º n, n+1, 0 

#### å¹¶å‘ç¨‹åº

èµ„æºå…±äº«ï¼šç³»ç»Ÿä¸­èµ„æºè¢«å¤šä¸ªç¨‹åºä½¿ç”¨

ç‹¬ç«‹æ€§å’Œåˆ¶çº¦æ€§ï¼šç‹¬ç«‹çš„ç›¸å¯¹é€Ÿåº¦ã€èµ·å§‹æ—¶é—´ï¼Œç¨‹åºä¹‹é—´ç›¸äº’ä½œç”¨/åˆ¶çº¦

ç¨‹åºä¸ç¨‹åºçš„æ‰§è¡Œä¸å†ä¸€ä¸€å¯¹åº”

å¼•å…¥å¹¶å‘çš„ç›®çš„ï¼šæé«˜èµ„æºåˆ©ç”¨ç‡å’Œç³»ç»Ÿæ•ˆç‡

> ä¾‹å­ï¼š
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/4b547fbd86aa.png)
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/09219604f67a.png)

#### **è¿›ç¨‹çš„å®šä¹‰å’Œç‰¹å¾**

> å®šä¹‰ï¼šä¸€ä¸ªå…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡åŠ¨æ€æ‰§è¡Œçš„è¿‡ç¨‹ã€‚
> 
> å¤šè¿›ç¨‹å¯ä»¥iæé«˜å¯¹ç¡¬ä»¶èµ„æºçš„åˆ©ç”¨ç‡ï¼Œä½†ä¼šå¢åŠ é¢å¤–çš„æ—¶é—´ç©ºé—´å¼€é”€ï¼Œå¢åŠ OSçš„å¤æ‚æ€§ã€‚
> 
> ç‰¹å¾ï¼šåŠ¨æ€æ€§ã€ç‹¬ç«‹æ€§ã€å¹¶å‘æ€§ã€å¼‚æ­¥æ€§ã€ç»“æ„åŒ–
> 
> **è¿›ç¨‹=ä»£ç æ®µ+æ•°æ®æ®µ+PCBï¼ˆè¿›ç¨‹æ§åˆ¶å—ï¼‰**
> 
> **ä¸€ä¸ªç¨‹åºå¯ä»¥å¯¹åº”å¤šä¸ªè¿›ç¨‹ï¼ˆè¿›ç¨‹ï¼šç¨‹åº=nï¼š1ï¼‰**
> 
> **è¿›ç¨‹æ˜¯èµ„æºç”³è¯·å’Œç³»ç»Ÿè°ƒåº¦çš„åŸºæœ¬å•ä½**

è¿›ç¨‹| ç¨‹åº  
---|---  
åŠ¨æ€çš„| é™æ€çš„  
ç¨‹åºçš„æ‰§è¡Œ| ä»£ç çš„é›†åˆ  
æš‚æ—¶çš„| æ°¸ä¹…çš„  
çŠ¶æ€å˜åŒ–è¿‡ç¨‹| å¯ä»¥é•¿ä¹…ä¿å­˜  
çœŸå®åœ°æè¿°å¹¶å‘| ä¸èƒ½çœŸå®åœ°æè¿°  
å¯ä»¥åˆ›å»ºå…¶ä»–è¿›ç¨‹| ä¸å¯åˆ›å»ºå…¶ä»–ç¨‹åº  
  
#### è¿›ç¨‹çš„ç‰¹å¾å’ŒçŠ¶æ€

è¿›ç¨‹çš„ä¸‰ç§åŸºæœ¬çŠ¶æ€ï¼šå°±ç»ªã€æ‰§è¡Œã€ç­‰å¾…/é˜»å¡

**è¿›ç¨‹çŠ¶æ€å›¾ï¼š**

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/f91db0c12984.png)

* * *

### æ“ä½œç³»ç»Ÿå†…æ ¸

#### **å®šä¹‰**

ä¸€äº›ä¸ç¡¬ä»¶ç´§å¯†ç›¸å…³çš„æ¨¡å—ã€è¿è¡Œé¢‘ç‡è¾ƒé«˜çš„æ¨¡å—ã€å…±ç”¨åŸºæœ¬æ“ä½œæ¨¡å—ç­‰**å¸¸é©»å†…å­˜çš„ä¸”ä¾¿äºæé«˜æ“ä½œç³»ç»Ÿè¿è¡Œæ•ˆèƒ½çš„è½¯ä»¶** ï¼Œç§°ä¸ºæ“ä½œç³»ç»Ÿå†…æ ¸ã€‚

#### **åŠŸèƒ½**

>   * **è¿›ç¨‹ç®¡ç†** ï¼šåˆ›å»ºï¼›æ’¤é”€ï¼›è°ƒåº¦ï¼›æ§åˆ¶
>   * **å­˜å‚¨ç®¡ç†** ï¼šåˆ†é…/å›æ”¶ç©ºé—´ï¼›è™šæ‹Ÿå­˜å‚¨ç®¡ç†
>   * **I/Oè®¾å¤‡ç®¡ç†** ï¼šè®¾å¤‡ã€é€šé“çš„åˆ†é…/å›æ”¶ï¼›è®¾å¤‡çš„ç®¡ç†ï¼›è™šæ‹Ÿè®¾å¤‡çš„å®ç°
>   * **ä¸­æ–­å¤„ç†** ï¼šæ“ä½œç³»ç»Ÿçš„é‡è¦æ´»åŠ¨éƒ½ä¾èµ–äºä¸­æ–­
> 

* * *

### åŸè¯­

>   * å®šä¹‰ï¼šç”±è‹¥å¹²æœºå™¨æŒ‡ä»¤æ„æˆä»¥å®Œæˆä¸€æ®µç‰¹å®šåŠŸèƒ½ï¼Œä¸”åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸å¯åˆ†å‰²ã€‚
>   * åŸå­æ“ä½œï¼šä¸€ä¸ªæ“ä½œä¸­çš„æ‰€æœ‰åŠ¨ä½œï¼Œè¦ä¹ˆå…¨åšï¼Œè¦ä¹ˆä¸åšï¼ˆAll-or-Noneï¼‰
> 

#### åŸå­æ“ä½œçš„å®ç° 

>   * å•æœºç³»ç»Ÿï¼ˆ**å±è”½ä¸­æ–­** ï¼‰ 
>     * å•æ¡æŒ‡ä»¤
>     * ä»¥å±è”½ä¸­æ–­çš„æ–¹å¼æ¥ä¿è¯æ“ä½œçš„åŸå­æ€§
>   * å¤šæ ¸ç³»ç»Ÿï¼ˆ**å†…å­˜æ …éšœ** ï¼‰ 
>     * ä¸€ä¸ªCPUæ ¸æ‰§è¡ŒåŸå­æ“ä½œæ—¶ï¼Œå…¶ä»–CPUæ ¸å¿…é¡»ä¸å¯¹æŒ‡å®šçš„å†…å­˜è¿›è¡Œæ“ä½œï¼Œé¿å…**æ•°æ®ç«äº‰** é—®é¢˜
> 

* * *

### æ“ä½œç³»ç»Ÿæ§åˆ¶ç»“æ„

> æ“ä½œç³»ç»Ÿç®¡ç†è®¡ç®—æœºèµ„æºå¸¸ç”¨ï¼š
> 
>   * è¡¨æ ¼ï¼šï¼ˆæˆ–æ•°æ®ç»“æ„ï¼‰è®°è½½å„èµ„æºä¿¡æ¯
>   * ä»£ç ï¼šå¯¹èµ„æºç®¡ç†ã€ç»´æŠ¤ã€æ›´æ–°ç­‰
> 

#### è¿›ç¨‹æ§åˆ¶å—PCB

> PCBï¼šProcess Control Blockï¼Œæ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚
> 
>   * **æ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼Œä¸”å¸¸é©»å†…å­˜**
> 

> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/440189917eee.png)

> PCBçš„ç»„ç»‡æ–¹å¼
> 
>   * é“¾æ¥æ–¹å¼ 
>     * æŠŠå…·æœ‰åŒä¸€çŠ¶æ€çš„PCBç”¨å…¶ä¸­çš„é“¾æ¥æŒ‡é’ˆé“¾æ¥æˆä¸€ä¸ªé˜Ÿåˆ—
> 

> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/131d858fb14e.png)
> 
>   * ç´¢å¼•æ–¹å¼ 
>     * ç³»ç»Ÿæ ¹æ®æ‰€æœ‰è¿›ç¨‹çš„çŠ¶æ€å»ºç«‹å‡ å¼ ç´¢å¼•è¡¨
> 

> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/2435f91fedf1.png)

#### è¿›ç¨‹ç»„ç»‡ï¼ˆè¿›ç¨‹æ ‘ï¼‰

> æè¿°äº†è¿›ç¨‹çš„å®¶æ—å…³ç³»
> 
>   * å­è¿›ç¨‹å¯ç»§æ‰¿çˆ¶è¿›ç¨‹çš„èµ„æº
>   * **çˆ¶è¿›ç¨‹çš„æ’¤é”€ä¼šæ’¤é”€å…¨éƒ¨å­è¿›ç¨‹**
>   * æ ¹è¿›ç¨‹ï¼šinitï¼Œlaunchedï¼Œpid=1
>   * **å­¤å„¿è¿›ç¨‹ç›´æ¥æ‰˜ç®¡ç»™æ ¹è¿›ç¨‹**
> 

> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/ea4141399655.png)

#### è¿›ç¨‹çš„åˆ›å»º

åˆ›å»ºåœºæ™¯ï¼šç”¨æˆ·ç™»å½•/ä½œä¸šè°ƒåº¦/æä¾›æœåŠ¡/åº”ç”¨è¯·æ±‚

åˆ›å»ºè¿‡ç¨‹ï¼šç”³è¯·ç©ºç™½PCBï¼Œåˆ†é…èµ„æºï¼Œåˆå§‹åŒ–PCBï¼Œæ’å…¥å°±ç»ªé˜Ÿåˆ—

#### è¿›ç¨‹æ§åˆ¶å‡½æ•°ï¼ˆforkä¸execä¸ºä¸»ï¼‰

**å¤§å¤šæ•°ç¨‹åºä¸­ï¼Œç³»ç»Ÿè°ƒç”¨çš„forkå’Œexecæ˜¯ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨çš„ï¼šçˆ¶è¿›ç¨‹ç”Ÿæˆä¸€ä¸ªå­è¿›ç¨‹ï¼Œå†é€šè¿‡è°ƒç”¨execè¦†ç›–è¯¥å­è¿›ç¨‹ã€‚**

> **fork()ï¼šåˆ›å»ºæ–°è¿›ç¨‹**
> 
>   * è°ƒç”¨æ ¼å¼ï¼špid = fork()
>   * è°ƒç”¨forkåï¼Œçˆ¶å­è¿›ç¨‹å‡åœ¨ä¸‹ä¸€æ¡è¯­å¥ä¸Šç»§ç»­è¿è¡Œ
>   * çˆ¶å­è¿›ç¨‹forkè¿”å›å€¼ä¸åŒ 
>     * å¤±è´¥è¿”å›-1
>     * åœ¨å­è¿›ç¨‹ä¸­è¿”å›æ—¶ï¼Œpidä¸º0
>     * åœ¨çˆ¶è¿›ç¨‹è¿”å›æ—¶ï¼Œä¸ºå…¶åˆ›å»ºçš„å­è¿›ç¨‹pid
> 

> 
> **fork()ï¼šä¸¤ä¸ªå…³é”®ç‚¹**
> 
>   * è¿è¡Œé¡ºåºï¼šçˆ¶å­è¿›ç¨‹è¿è¡Œæ— å…³ï¼Œè¿è¡Œé¡ºåºä¹Ÿä¸å›ºå®šã€‚ï¼ˆè‹¥è¦è¿è¡Œé¡ºåºä¸€å®šï¼Œéœ€è¦ç”¨åˆ°è¿›ç¨‹é—´é€šä¿¡ï¼‰
>   * æ•°æ®å…±äº«ï¼šé™¤å­è¿›ç¨‹æ ‡è¯†ç¬¦å’ŒPCBç‰¹æ€§å‚æ•°ä¸åŒå¤–ï¼Œå­è¿›ç¨‹æ˜¯çˆ¶è¿›ç¨‹çš„ç²¾ç¡®å¤åˆ¶
> 

> 
> ä¾‹å­ï¼š
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/c4c22be40734.png)

> **exec()ï¼šæ‰§è¡Œä¸€ä¸ªæ–‡ä»¶çš„è°ƒç”¨**
> 
>   * å­è¿›ç¨‹å¯ä»¥é€šè¿‡exec()è°ƒç”¨åŠ è½½æ–°çš„ç¨‹åºæ–‡ä»¶
>   * å­è¿›ç¨‹å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„å¯æ‰§è¡Œä»£ç ï¼Œç”¨æ–°è¿›ç¨‹è¦†ç›–è°ƒç”¨è¿›ç¨‹ 
>   * è°ƒç”¨å‚æ•°ï¼šæ–‡ä»¶+å‘½ä»¤è¡Œå‚æ•°ã€‚æˆåŠŸï¼šä¸è¿”å›ï¼›å¤±è´¥ï¼šè¿”å›-1
>   * execæŒ‡çš„æ˜¯ä¸€ç»„å‡½æ•°ï¼Œä¸€å…±æœ‰6ä¸ªï¼Œåˆ†åˆ«æ˜¯
> 
> ```cpp #include <unistd.h> int execl(const char *path, const char *arg, ...); int execlp(const char *file, const char *arg, ...); int execle(const char *path, const char *arg, ..., char *const envp[]); int execv(const char *path, char *const argv[]); int execvp(const char *file, char *const argv[]); int execve(const char *path, char *const argv[], char *const envp[]); ``` 
> 
> ä¸ä¸€èˆ¬æƒ…å†µä¸åŒï¼Œexecå‡½æ•°æ—çš„å‡½æ•°æ‰§è¡ŒæˆåŠŸåä¸ä¼šè¿”å›ï¼Œå› ä¸ºè°ƒç”¨è¿›ç¨‹çš„å®ä½“ï¼ŒåŒ…æ‹¬ä»£ç æ®µï¼Œæ•°æ®æ®µå’Œå †æ ˆç­‰éƒ½å·²ç»è¢«æ–°çš„å†…å®¹å–ä»£ï¼Œåªç•™ä¸‹è¿›ç¨‹IDç­‰ä¸€äº›è¡¨é¢ä¸Šçš„ä¿¡æ¯ä»ä¿æŒåŸæ ·ã€‚
> 
> åªæœ‰è°ƒç”¨å¤±è´¥äº†ï¼Œå®ƒä»¬æ‰ä¼šè¿”å›ä¸€ä¸ª-1ï¼Œä»åŸç¨‹åºçš„è°ƒç”¨ç‚¹æ¥ç€å¾€ä¸‹æ‰§è¡Œã€‚
> 
> 

> 
> ä¾‹å­:
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/bc422af1a912.png)

#### è¿›ç¨‹çš„ç»ˆæ­¢

> ä¸­æ­¢æƒ…å†µï¼šæ­£å¸¸ç»“æŸ/å¼‚å¸¸ç»“æŸ/å¤–ç•Œå¹²é¢„
> 
>   * æ­£å¸¸ç»“æŸï¼šexit/halt/logoff
>   * å¼‚å¸¸ç»“æŸï¼šæ— å¯ç”¨å­˜å‚¨å™¨/è¶Šç•Œ/ä¿æŠ¤é”™è¯¯/ç®—æœ¯é”™è¯¯/IOå¤±è´¥/æ— æ•ˆæŒ‡ä»¤/ç‰¹æƒæŒ‡ä»¤
>   * å¤–ç•Œå¹²é¢„ï¼škillè¿›ç¨‹/çˆ¶è¿›ç¨‹ä¸­æ­¢
> 

> 
> ä¸­æ­¢è¿‡ç¨‹ï¼š
> 
>   * æ£€ç´¢PCBæ£€æŸ¥è¿›ç¨‹çŠ¶æ€â†’æ‰§è¡Œæ€æ”¹ä¸ºä¸­æ­¢â†’æ£€æŸ¥æœ‰æ— å­å­™éœ€è¦ä¸­æ­¢â†’å½’è¿˜èµ„æºç»™çˆ¶è¿›ç¨‹æˆ–ç³»ç»Ÿâ†’ä»PCBé˜Ÿåˆ—ä¸­ç§»é™¤
>   * ç³»ç»Ÿè°ƒç”¨exit(int ret)ï¼Œè¿”å›retåˆ°çˆ¶è¿›ç¨‹ï¼Œé‡Šæ”¾æ‰€æœ‰èµ„æºï¼Œçˆ¶è¿›ç¨‹é€šè¿‡wait()ç­‰å¾…å­è¿›ç¨‹ç»“æŸã€‚ï¼ˆwait(pid, status)ï¼Œretï¼‰
> 

> 
> **ä¾‹å­ï¼š**
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/8230eea6856e.png)
> 
> ```cpp Process A: void main(){ printf("Hello World!"); } Process B: void main(){ if((child=fork())<0){ printf("Fork Failed!"); } else if(child==0){ if(execv(A)<0){ printf("Execv Failed!"); } else{ printf("Bye!") } } } ``` 

#### è¿›ç¨‹åˆ‡æ¢

>   * é˜»å¡/å”¤é†’ï¼Œæ—¶é—´ç‰‡
>   * ä¿å­˜ç°åœº/æ¢å¤ç°åœº
> 

> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/d18fe0d28bdc.png)
> 
> ç³»ç»Ÿè°ƒç”¨ï¼šä¼šå¼•èµ·ä»ç”¨æˆ·æ€è¿›å…¥æ ¸å¿ƒæ€

* * *

### çº¿ç¨‹

#### ä¸è¿›ç¨‹çš„åŒºåˆ«å’Œè”ç³»

è¿›ç¨‹ï¼šçº¿ç¨‹=1ï¼šn

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/739a5ed19208.png)

#### çº¿ç¨‹çš„ä¼˜åŠ¿

>   * å‡å°‘å¹¶å‘æ‰§è¡Œæ—¶çš„æ—¶ç©ºå¼€é”€ï¼ˆè¿›ç¨‹çš„å¼€é”€è¾ƒå¤§ï¼‰
>   * çº¿ç¨‹æ˜¯ç³»ç»Ÿç‹¬ç«‹è°ƒåº¦çš„åŸºæœ¬å•ä½
>     * åŸºæœ¬ä¸ç”¨æœ‰ç³»ç»Ÿèµ„æºï¼Œåªæœ‰å°‘é‡èµ„æºï¼Œå…±äº«å…¶æ‰€å±è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æº
> 

> 
> ã€å›é¡¾ã€‘
> 
> **è¿›ç¨‹æ˜¯æ‹¥æœ‰èµ„æºå’Œç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹æ˜¯ç³»ç»Ÿç‹¬ç«‹è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼ï¼ï¼**

#### çº¿ç¨‹çš„ç‰¹ç‚¹

>   * å•çº¿ç¨‹è¿›ç¨‹ï¼ŒåŒ…æ‹¬è¿›ç¨‹æ§åˆ¶å—å’Œç”¨æˆ·åœ°å€ç©ºé—´ï¼Œä»¥åŠç”¨æˆ·æ ˆå’Œå†…æ ¸æ ˆã€‚
>   * å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œæœ‰ä¸€ä¸ªä¸è¿›ç¨‹ç›¸å…³è”çš„è¿›ç¨‹æ§åˆ¶å—å’Œç”¨æˆ·åœ°å€ç©ºé—´ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ ˆå’Œç‹¬ç«‹çš„æ§åˆ¶å—ï¼ŒåŒ…å«å¯„å­˜å™¨å€¼ã€ä¼˜å…ˆçº§å’Œå…¶ä»–ä¸çº¿ç¨‹ç›¸å…³çš„çŠ¶æ€ä¿¡æ¯ã€‚
>   * è¿›ç¨‹ä¸­çš„æ‰€æœ‰çº¿ç¨‹å…±äº«è¯¥è¿›ç¨‹çš„èµ„æºï¼Œé©»ç•™åœ¨åŒä¸€å—åœ°å€ç©ºé—´ä¸­ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®åˆ°ç›¸åŒçš„æ•°æ®ã€‚
>   * çº¿ç¨‹é˜»å¡ä¸ä¸€å®šä¼šå¼•èµ·è¿›ç¨‹é˜»å¡ã€‚
> 

#### çº¿ç¨‹çš„çŠ¶æ€

>   * æ‰§è¡ŒçŠ¶æ€ã€é˜»å¡çŠ¶æ€ã€å°±ç»ªçŠ¶æ€ç­‰ 
>     * é˜»å¡ï¼šå½“çº¿ç¨‹éœ€è¦ç­‰å¾…ä¸€ä¸ªäº‹ä»¶æ—¶ï¼Œå®ƒå°†é˜»å¡ï¼Œæ­¤æ—¶å¤„ç†å™¨æ‰§è¡Œå¦ä¸€ä¸ªå°±ç»ªçº¿ç¨‹
>   * çº¿ç¨‹åˆ‡æ¢æ—¶ä¿å­˜çš„çº¿ç¨‹ä¿¡æ¯ï¼š 
>     * ä¸€ä¸ªæ‰§è¡Œæ ˆ
>     * æ¯ä¸ªçº¿ç¨‹é™æ€å­˜å‚¨å±€éƒ¨å˜é‡
>     * å¯¹å­˜å‚¨å™¨å’Œå…¶è¿›ç¨‹èµ„æºçš„è®¿é—®
>   * æ´¾ç”Ÿï¼šäº§ç”Ÿä¸€ä¸ªæ–°è¿›ç¨‹æ—¶ï¼ŒåŒæ—¶ä¸ºå…¶æ´¾ç”Ÿä¸€ä¸ªçº¿ç¨‹ï¼Œéšåè¿˜å¯ä»¥æ´¾ç”Ÿå¦ä¸€ä¸ªçº¿ç¨‹ï¼Œæ–°çº¿ç¨‹è¢«æ”¾ç½®åœ¨å°±ç»ªé˜Ÿåˆ—ä¸­
>   * ç»“æŸï¼šçº¿ç¨‹å®Œæˆæ—¶ï¼Œå…¶å¯„å­˜å™¨ä¿¡æ¯å’Œæ ˆéƒ½è¢«é‡Šæ”¾
> 

#### çº¿ç¨‹çš„åˆ†ç±»

>   * å†…æ ¸çº§çº¿ç¨‹ï¼šæ¯ä¸ªçº¿ç¨‹åœ¨å†…æ ¸çœ‹æ¥éƒ½æ˜¯ä¸€ä¸ªè¿›ç¨‹
>   * ç”¨æˆ·çº§çº¿ç¨‹ï¼šå†…æ ¸æ— æ³•æ„ŸçŸ¥ï¼Œç”¨æˆ·è‡ªå·±æ§åˆ¶
> 

> 
> ä¸åŒç‚¹ï¼š
> 
>   * è°ƒåº¦å¼€é”€ 
>     * å†…æ ¸çº§çº¿ç¨‹åˆ‡æ¢ç±»ä¼¼äºè¿›ç¨‹åˆ‡æ¢ï¼Œå¼€é”€è¾ƒå¤§
>     * ç”¨æˆ·çº§çº¿ç¨‹åˆ‡æ¢åœ¨åŒä¸€ç”¨æˆ·çº§è¿›ç¨‹ä¸­ï¼Œæ— éœ€è¿›å…¥å†…æ ¸ï¼Œæ›´å¿«
>   * æ‰§è¡Œæ—¶é—´ 
>     * ç”¨æˆ·çº§çº¿ç¨‹ä»¥è¿›ç¨‹ä¸ºå•ä½å¹³å‡åˆ†é…æ—¶é—´ï¼Œå¯¹çº¿ç¨‹é—´å¹¶å‘ä¸åˆ©ï¼ˆå•CPUï¼‰
>     * å†…æ ¸çº§çº¿ç¨‹ä»¥çº¿ç¨‹ä¸ºå•ä½åˆ†é…æ—¶é—´ï¼ˆå¤šCPUï¼‰
>   * å¹¶å‘æ•ˆç‡ 
>     * ç”¨æˆ·çº¿ç¨‹ï¼šçº¿ç¨‹é˜»å¡å¯¼è‡´è¿›ç¨‹é˜»å¡ï¼ˆå†…æ ¸ä¸çŸ¥é“çº¿ç¨‹çš„å­˜åœ¨ï¼‰
>     * å†…æ ¸çº¿ç¨‹ï¼šçº¿ç¨‹é˜»å¡ï¼Œå…¶ä»–è¿›ç¨‹/çº¿ç¨‹ä»å¯è¿è¡Œ
> 

* * *

## å¤„ç†æœºè°ƒåº¦

> åˆ†é…å¤„ç†æœºçš„ä»»åŠ¡ç”±è¿›ç¨‹è°ƒåº¦ç¨‹åºå®Œæˆ
> 
> å¤„ç†æœºæ˜¯æœ€é‡è¦çš„è®¡ç®—æœºèµ„æºï¼Œæé«˜å¤„ç†æœºçš„åˆ©ç”¨ç‡åŠæ”¹å–„ç³»ç»Ÿæ€§èƒ½ï¼ˆååé‡ã€å“åº”æ—¶é—´ï¼‰ï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºè¿›ç¨‹è°ƒåº¦æ€§èƒ½çš„å¥½å

* * *

### â­å•å¤„ç†æœºè°ƒåº¦ï¼ˆé‡ç‚¹ï¼‰

#### è°ƒåº¦åŸåˆ™

>   * é¢å‘ç”¨æˆ·çš„åŸåˆ™ 
>     * å‘¨è½¬æ—¶é—´ï¼šä½œä¸šæäº¤åˆ°å®Œæˆçš„æ—¶é—´ 
>       * å¹³å‡å‘¨è½¬æ—¶é—´ï¼š![T=\\frac{1}{n}\\sum_{i=1}^{n}T_{i}](https://latex.csdn.net/eq?T%3D%5Cfrac%7B1%7D%7Bn%7D%5Csum_%7Bi%3D1%7D%5E%7Bn%7DT_%7Bi%7D)
>       * å¹³å‡å¸¦æƒï¼š![T=\\frac{1}{n}\\sum_{i=1}^{n}\\frac{T_{i}}{T_{i,s}}](https://latex.csdn.net/eq?T%3D%5Cfrac%7B1%7D%7Bn%7D%5Csum_%7Bi%3D1%7D%5E%7Bn%7D%5Cfrac%7BT_%7Bi%7D%7D%7BT_%7Bi%2Cs%7D%7D) è¶Šæ¥è¿‘1è¶Šå¥½ï¼Œè¶Šå¤§è¶Šå·® 
>         * ![T_{i}](https://latex.csdn.net/eq?T_%7Bi%7D)ï¼šå‘¨è½¬æ—¶é—´
>         * ![T_{i,s}](https://latex.csdn.net/eq?T_%7Bi%2Cs%7D)ï¼šå®é™…è¿è¡Œæ—¶é—´ 
>     * å“åº”æ—¶é—´ï¼šï¼ˆäº¤äº’å¼ä½œä¸šï¼‰æäº¤è¯·æ±‚åˆ°é¦–æ¬¡å“åº”çš„æ—¶é—´
>     * æˆªæ­¢æ—¶é—´ï¼šå¼€å§‹/å®Œæˆæˆªæ­¢æ—¶é—´
>     * ä¼˜å…ˆçº§ï¼šéœ€è¦æŠ¢å /å‰¥å¤ºè°ƒåº¦
>   * é¢å‘ç³»ç»Ÿçš„åŸåˆ™ 
>     * ååé‡ï¼šå•ä½æ—¶é—´å®Œæˆä½œä¸šæ•°
>     * åˆ©ç”¨ç‡
>     * å…¬å¹³æ€§
>     * ä¼˜å…ˆçº§
> 

#### è°ƒåº¦ç®—æ³•ï¼šèµ„æºåˆ†é…é—®é¢˜

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/17969ea0597b.png)

> #### **å…ˆæ¥å…ˆæœåŠ¡ï¼šFCFS**
> 
> ç®€å•æ¥è¯´ï¼Œå®ƒå°±æ˜¯æŒ‰é¡ºåºæ‰§è¡Œã€‚
> 
> è¯„ä»·
> 
>   * éæŠ¢å è°ƒåº¦
>   * å¯¹é•¿è¿›ç¨‹æœ‰åˆ©ï¼Œä¸åˆ©äºçŸ­è¿›ç¨‹
>   * é€‚åˆCPUç¹å¿™å‹è¿›ç¨‹ï¼Œä¸é€‚åˆI/Oç¹å¿™å‹è¿›ç¨‹ï¼ˆç³»ç»Ÿè§’åº¦ï¼‰
>   * ä¸èƒ½ç›´æ¥ç”¨äºåˆ†æ—¶ç³»ç»Ÿ
>   * å¾€å¾€ä¸å…¶å®ƒè°ƒåº¦ç®—æ³•ç»¼åˆä½¿ç”¨
> 

> 
> **ä¾‹å­ï¼š**
> 
> **è¿›ç¨‹å** |  **äº§ç”Ÿ****æ—¶åˆ»** |  **æœåŠ¡æ—¶é—´**  
> ---|---|---  
> **P1** |  0 |  2  
> **P2** |  1 |  6  
> **P3** |  2 |  1  
> **P4** |  3 |  5  
>   
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/ad762feef13e.png)**å¹³å‡ å‘¨è½¬æ—¶é—´ï¼š((2-0)+(8-1)+(9-2)+(14-3))/4 = 6.75 **
> 
> **å¹³å‡ ç­‰å¾…æ—¶é—´ï¼š(0+1+6+6)/4 = 3.25 (æ³¨æ„åŒºåˆ†ï¼Œå¯èƒ½ä¼šå‡ºå®¡é¢˜æ€§é”™è¯¯)**
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/feb19e3905ef.png)

> #### çŸ­ä½œä¸šä¼˜å…ˆï¼šSPF/SJF
> 
> æ‰§è¡Œæ—¶é—´çŸ­çš„å…ˆæ‰§è¡Œ
> 
> è¯„ä»·
> 
>   * æœ‰åˆ©äºçŸ­è¿›ç¨‹ï¼Œæé«˜äº†å¹³å‡å‘¨è½¬æ—¶é—´
>   * é•¿è¿›ç¨‹å¯èƒ½è¢«é¥¿æ­»ï¼ˆstarvationï¼‰
>   * éœ€è¦çŸ¥é“æˆ–ä¼°è®¡æ¯ä¸ªè¿›ç¨‹çš„å¤„ç†æ—¶é—´ã€‚ 
> 

> 
> **ä¾‹å­ï¼š**
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/c0eb39d2dac7.png)
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/fd0b8ffcf879.png)**å¹³å‡å‘¨è½¬æ—¶é—´ï¼š(2+13+1+5)/4 = 5.25**
> 
> **å¹³å‡ç­‰å¾…æ—¶é—´ï¼š(0+7+0+0)/4 = 1.75**
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/1ad26e55b1a2.png)

> #### æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ï¼šTSRR
> 
> æ¯è¿‡å›ºå®šæ—¶é—´å°±æ¢ä¸‹ä¸€ä¸ªè¿›ç¨‹ï¼ˆæŒ‰FSCSï¼‰ 
> 
> ä¸“é—¨ä¸ºåˆ†æ—¶ç³»ç»Ÿè®¾è®¡ï¼ˆFCFSçš„ä¼˜åŒ–ï¼‰
> 
>   * æ—¶é—´ç‰‡é•¿åº¦å˜åŒ–çš„å½±å“ 
>     * è¿‡é•¿ï¼šé€€åŒ–ä¸ºFCFSï¼Œè¿›ç¨‹åœ¨ä¸€ä¸ªæ—¶é—´ç‰‡å†…æ‰§è¡Œå®Œ
>     * è¿‡çŸ­ï¼šç”¨æˆ·çš„ä¸€æ¬¡è¯·æ±‚éœ€è¦å¤šä¸ªæ—¶é—´ç‰‡æ‰èƒ½å¤„ç†å®Œï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°å¢åŠ 
>   * è¯„ä»· 
>     * ç›¸å¯¹å…¬å¹³
>     * åå‘äºCPUå‹çš„è¿›ç¨‹
>     * ä¸­æ–­å¼€é”€ 
> 

> 
> **ä¾‹å­ï¼š**
> 
> **qæŒ‡çš„æ˜¯æ—¶é—´ç‰‡é•¿åº¦**
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/dc8f33b923ce.png)
> 
> **å¹³å‡å‘¨è½¬æ—¶é—´ï¼š(4+16+12+13+5)/5 = 10**
> 
> **å¹³å‡ç­‰å¾…æ—¶é—´ï¼š(1+10+9+9+5)/5 = 6.8**
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/7c25db44a5e1.png)
> 
> **å¹³å‡å‘¨è½¬æ—¶é—´ï¼š(3+15+7+14+11)/5 = 10**
> 
> **å¹³å‡ç­‰å¾…æ—¶é—´ï¼š(0+9+3+9+9)/5 = 6**

> #### æœ€çŸ­å‰©ä½™æ—¶é—´è°ƒåº¦ï¼šSRT
> 
> å¯¹SJFåŠ å…¥å‰¥å¤ºæœºåˆ¶ï¼šå½“æ–°è¿›ç¨‹è¿›å…¥æ—¶ï¼Œå¯èƒ½æ¯”å½“å‰è¿è¡Œçš„è¿›ç¨‹å…·æœ‰æ›´çŸ­çš„å‰©ä½™æ—¶é—´
> 
>   * ä¼˜ç‚¹ 
>     * ä¸åçˆ±é•¿è¿›ç¨‹ï¼Œä¹Ÿä¸åƒRRäº§ç”Ÿé¢å¤–ä¸­æ–­ï¼Œå‡å°‘äº†å¼€é”€ã€‚
>     * å‘¨è½¬æ—¶é—´æ–¹é¢ï¼Œæ¯”SJFå¥½ï¼ŒçŸ­ä½œä¸šå¯ä»¥ç«‹å³è¢«é€‰æ‹©æ‰§è¡Œã€‚
>   * é—®é¢˜ 
>     * éœ€è¦çŸ¥é“æˆ–ä¼°è®¡æ¯ä¸ªè¿›ç¨‹æ‰€éœ€å¤„ç†æ—¶é—´ï¼›
>     * è‹¥æŒç»­æœ‰çŸ­è¿›ç¨‹å­˜åœ¨ï¼Œé•¿è¿›ç¨‹å¯èƒ½è¢«é¥¿æ­»ï¼›
>     * è®°å½•è¿‡å»çš„æœåŠ¡æ—¶é—´ï¼ˆä»¥ä¾¿è®¡ç®—å‰©ä½™æ—¶é—´ï¼‰â†’ å¢åŠ äº†å¼€é”€ã€‚
> 

> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/3655b6936e3f.png)

> #### åŸºäºä¼˜å…ˆæƒ/ä¼˜å…ˆçº§çš„è°ƒåº¦ç®—æ³•
> 
> å°±æ˜¯å…ˆè¿è¡Œä¼˜å…ˆçº§é«˜çš„
> 
>   * ä¼˜å…ˆçº§ 
>     * æ¯ä¸ªè¿›ç¨‹è®¾æœ‰ä¸€ä¸ªä¼˜å…ˆçº§ï¼Œè°ƒåº¦ç¨‹åºé€‰æ‹©å…·æœ‰è¾ƒé«˜ä¼˜å…ˆçº§çš„è¿›ç¨‹ã€‚
>   * é™æ€ä¼˜å…ˆçº§(static) 
>     * ä¼˜å…ˆæ•°åœ¨è¿›ç¨‹åˆ›å»ºæ—¶åˆ†é…ï¼Œç”Ÿå­˜æœŸå†…ä¸å˜ã€‚
>     * å“åº”é€Ÿåº¦æ…¢ï¼Œå¼€é”€å°ã€‚
>     * é€‚åˆæ‰¹å¤„ç†è¿›ç¨‹
>   * åŠ¨æ€ä¼˜å…ˆçº§(dynamic) 
>     * è¿›ç¨‹åˆ›å»ºæ—¶ç»§æ‰¿ä¼˜å…ˆçº§ï¼Œç”Ÿå­˜æœŸå†…å¯ä»¥ä¿®æ”¹ã€‚
>     * å“åº”é€Ÿåº¦å¿«ï¼Œå¼€é”€å¤§ã€‚
> 

> 
>   * é—®é¢˜ 
>     * ä½ä¼˜å…ˆçº§çš„è¿›ç¨‹å¯èƒ½ä¼šé¥¿æ­»ï¼ˆæ— ç©·é˜»å¡ï¼‰
>   * æ”¹è¿› 
>     * ä¸€ä¸ªè¿›ç¨‹çš„ä¼˜å…ˆçº§éšç€å®ƒçš„æ—¶é—´æˆ–æ‰§è¡Œå†å²è€Œå˜åŒ–â€”â€”è€åŒ–ç­–ç•¥(aging)ã€‚ 
>     * æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸æ–­è°ƒæ•´å…¶ä¼˜å…ˆçº§ ï¼ˆå¦‚ï¼šä¼˜å…ˆçº§éšæ‰§è¡Œæ—¶é—´å¢åŠ è€Œä¸‹é™ï¼Œéšç­‰å¾…æ—¶é—´å¢åŠ è€Œå‡é«˜ã€‚ï¼‰
>     * ä¼˜ç‚¹ï¼šé•¿çŸ­å…¼é¡¾
> 

> #### é«˜å“åº”æ¯”ä¼˜å…ˆç®—æ³•ï¼šHRRN
> 
> å“åº”æ¯”R = å‘¨è½¬æ—¶é—´/æœåŠ¡æ—¶é—´ = (w+s)/s 
> 
> (w: ç­‰å¾…æ—¶é—´ ï¼›s: æœåŠ¡æ—¶é—´)
> 
> å°±æ˜¯å…ˆè¿è¡Œå“åº”æ¯”é«˜çš„ï¼ˆ**ç»¼åˆè€ƒè™‘ç­‰å¾…æ—¶é—´å’Œä½œä¸šé•¿åº¦** ï¼‰
> 
>   * è¯„ä»· 
>     * FCFSå’ŒSJFçš„ç»“åˆï¼Œå…‹æœäº†ä¸¤ç§ç®—æ³•çš„ç¼ºç‚¹
>     * å…¬å¹³ï¼Œååç‡å¤§
>     * éœ€è¦ä¼°è®¡æœåŠ¡æ—¶é—´ï¼Œå¢åŠ äº†è®¡ç®—ï¼Œå¢åŠ äº†å¼€é”€
> 

> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/3187645b87f9.png)

> #### å¤šçº§é˜Ÿåˆ—è°ƒåº¦ç®—æ³•
> 
> å°†å°±ç»ªé˜Ÿåˆ—åˆ†æˆå¤šä¸ªç‹¬ç«‹é˜Ÿåˆ—ï¼Œè¿›ç¨‹æ‰€å±çš„é˜Ÿåˆ—å›ºå®šã€‚é€šè¿‡å¯¹å„é˜Ÿåˆ—çš„åŒºåˆ«å¯¹å¾…ï¼Œè¾¾åˆ°ä¸€ä¸ªç»¼åˆçš„è°ƒåº¦ç›®æ ‡ã€‚ 
> 
>   * ç­–ç•¥ 
>     * ä¸åŒé˜Ÿåˆ—å¯æœ‰ä¸åŒçš„è°ƒåº¦ç­–ç•¥ ï¼ˆå¦‚å‰å°é˜Ÿåˆ—ç”¨RRï¼Œåå°é˜Ÿåˆ—ç”¨FCFSã€‚ï¼‰
>     * é˜Ÿåˆ—ä¹‹é—´çš„åŒºåˆ«ï¼šé‡‡ç”¨å›ºå®šä¼˜å…ˆçº§ã€å¯æŠ¢å è°ƒåº¦æ¥å®ç° ï¼ˆå¦‚å‰å°é˜Ÿåˆ—ä¼˜å…ˆçº§é«˜äºåå°é˜Ÿåˆ—ä¼˜å…ˆçº§ã€‚ ï¼‰
>     * åªæœ‰ä¼˜å…ˆçº§é«˜çš„é˜Ÿåˆ—ä¸­æ²¡æœ‰è¿›ç¨‹æ—¶ï¼Œæ‰å¯ä»¥è°ƒåº¦ä¼˜å…ˆçº§ä½çš„é˜Ÿåˆ—ä¸­çš„è¿›ç¨‹ 
> 

> #### å¤šçº§åé¦ˆé˜Ÿåˆ—è°ƒåº¦ï¼šMFQ
> 
> å¤šçº§åé¦ˆé˜Ÿåˆ—ç®—æ³•æ˜¯å¤šçº§é˜Ÿåˆ—å’ŒåŠ¨æ€ä¼˜å…ˆçº§ç®—æ³•çš„ç»¼åˆå’Œå‘å±•ã€‚
> 
> æŒ‰æ—¶é—´ç‰‡ã€ç­‰å¾…æ—¶é—´ï¼Œä½¿ç”¨åŠ¨æ€ä¼˜å…ˆçº§æœºåˆ¶ï¼›è°ƒåº¦åŸºäºå‰¥å¤ºåŸåˆ™ã€‚
> 
>   * ç­–ç•¥ 
>     * ä¸åŒé˜Ÿåˆ—å¯æœ‰ä¸åŒçš„è°ƒåº¦ç­–ç•¥ ï¼ˆå¦‚å‰å°é˜Ÿåˆ—ç”¨RRï¼Œåå°é˜Ÿåˆ—ç”¨FCFSã€‚ï¼‰
>   * å¤šä¸ªå°±ç»ªé˜Ÿåˆ—ï¼Œè¿›ç¨‹æ‰€å±é˜Ÿåˆ—å¯å˜ï¼Œå³è¿›ç¨‹å¯ä»¥åœ¨ä¸åŒçš„å°±ç»ªé˜Ÿåˆ—ä¹‹é—´ç§»åŠ¨
>   * å¤šä¸ªå°±ç»ªé˜Ÿåˆ—åˆ†åˆ«èµ‹äºˆä¸åŒçš„ä¼˜å…ˆçº§
>   * é˜Ÿåˆ—ä¼˜å…ˆçº§é€çº§é™ä½ï¼Œè€Œæ—¶é—´ç‰‡é•¿åº¦é€çº§é€’å¢
> 

> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/b28addfca1b6.png)
> 
> è°ƒåº¦è¿‡ç¨‹
> 
>   1. æ–°è¿›ç¨‹è¿›å…¥åï¼Œå…ˆæ”¾å…¥é˜Ÿåˆ—0çš„æœ«å°¾ï¼ŒæŒ‰RRé¡ºåºè°ƒåº¦ï¼›
>   2. è‹¥æ‰§è¡Œè¿‡ç¨‹ä¸­é˜»å¡ï¼Œåˆ™ç¦»å¼€é˜Ÿåˆ—ï¼Œè¢«å”¤é†’åï¼Œæ”¾å…¥åŒä¸€ä¼˜å…ˆçº§é˜Ÿåˆ—å°¾éƒ¨ï¼›
>   3. è‹¥åœ¨è§„å®šæ—¶é—´ç‰‡æœªèƒ½æ‰§è¡Œå®Œï¼Œåˆ™é™ä½ä¼˜å…ˆçº§æŠ•å…¥é˜Ÿåˆ—1çš„æœ«å°¾ï¼ŒåŒæ ·æŒ‰RRç®—æ³•è°ƒåº¦ï¼›å¦‚æ­¤ä¸‹å»ï¼Œç›´åˆ°æœ€åçš„é˜Ÿåˆ—ï¼› 
>      1. è‹¥åªæœ‰1ä¸ªè¿›ç¨‹ï¼Œåˆ™ä¸é™çº§ï¼›
>      2. å¯æœ‰æ•ˆåº”å¯¹I/Oç¹å¿™è¿›ç¨‹ã€‚
>   4. æœ€åé˜Ÿåˆ—æŒ‰FCFSæˆ–è€…RRï¼ˆä½†ä¸å†é™çº§ï¼‰è°ƒåº¦ç›´åˆ°å®Œæˆï¼›
>   5. è‹¥åœ¨æœ€åé˜Ÿåˆ—ç­‰å¾…æ—¶é—´è¿‡é•¿ï¼Œæå‡ä¼˜å…ˆçº§ï¼›
>   6. ä»…å½“è¾ƒé«˜ä¼˜å…ˆçº§çš„é˜Ÿåˆ—ä¸ºç©ºï¼Œæ‰è°ƒåº¦è¾ƒä½ä¼˜å…ˆçº§çš„è¿›ç¨‹æ‰§è¡Œï¼› 
>      1. å½“å‰è¿›ç¨‹ä¸€æ—¦å¼€å§‹æ‰§è¡Œï¼Œæ—¶é—´ç‰‡ç»“æŸå‰ä¸è¢«æŠ¢å ï¼› 
>      2. è‹¥æŒ‰ä¼˜å…ˆçº§è°ƒåº¦çš„è¿›ç¨‹ä¸ºä¸Šä¸€ä¸ªè¢«æŠ¢å çš„è¿›ç¨‹ï¼Œåˆ™å¿½ç•¥ä¹‹ï¼Œè°ƒåº¦ä¸‹ä¸€ä¸ªå€™é€‰ï¼›
> 

> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/c3854d4d5eb9.png)
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/6e3dbf1c7027.png)

#### æ€»ç»“

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/e6821279a885.png)

* * *

### å®æ—¶è°ƒåº¦ 

#### åŸºæœ¬æ¡ä»¶

  * å°±ç»ªæ—¶é—´ï¼šæˆä¸ºå°±ç»ªçŠ¶æ€çš„æ—¶é—´
  * å¼€å§‹/å®Œæˆæˆªæ­¢æ—¶é—´
  * å¤„ç†æ—¶é—´
  * èµ„æºè¦æ±‚
  * ä¼˜å…ˆçº§

#### ç³»ç»Ÿå¤„ç†èƒ½åŠ›ä¸‹ç•Œ

å‡å®šç³»ç»Ÿä¸­æœ‰mä¸ªå‘¨æœŸæ€§çš„å®æ—¶ä»»åŠ¡ï¼Œå®ƒä»¬çš„å¤„ç†æ—¶é—´ä¸ºCiï¼Œå‘¨æœŸä¸ºPiï¼Œåˆ™åœ¨å•/å¤šå¤„ç†æœºæƒ…å†µä¸‹ï¼Œå¯è°ƒåº¦çš„å¿…è¦æ¡ä»¶ï¼š

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/582107065c05.png)![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/83d89d9e828c.png)

#### å®æ—¶è°ƒåº¦ç®—æ³•

  * åŸºäºæ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ 
    * ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/95fa64942f0f.png)
  * åŸºäºä¼˜å…ˆçº§çš„éæŠ¢å è°ƒåº¦ 
    * ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/7fa04490b9b0.png)
  * åŸºäºæŠ¢å ç‚¹çš„æŠ¢å è°ƒåº¦ 
    * ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/6f0f0f5ef7fd.png)
  * ç«‹å³æŠ¢å è°ƒåº¦ 
    * ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/f99667890346.png)
  * æœ€æ—©æˆªæ­¢æ—¶é—´ä¼˜å…ˆï¼ˆEDFï¼‰ 
    * å¯ä»¥æ˜¯æŠ¢å å¼æˆ–éæŠ¢å å¼
    * ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/a83c567f9254.png)
  * æœ€ä½æ¾å¼›åº¦ä¼˜å…ˆç®—æ³•ï¼ˆLLFï¼‰ 

    * ä¸»è¦ç”¨äºå¯æŠ¢å è°ƒåº¦æ–¹å¼
    * ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/0746b61faa41.png)
    * ä¾‹å­ï¼š
    * ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/bf723c45348c.png)
  * é€Ÿåº¦å•è°ƒè°ƒåº¦ 
    * ä»»åŠ¡å‘¨æœŸï¼šå‘¨æœŸæ€§ä»»åŠ¡
    * ä»»åŠ¡é€Ÿåº¦ï¼š1/ä»»åŠ¡å‘¨æœŸ
    * é€Ÿåº¦è¶Šå¿«ï¼Œä¼˜å…ˆçº§è¶Šé«˜

* * *

### å¤šå¤„ç†æœºè°ƒåº¦

#### åˆ†ç±»

>   * ç´§å¯†è€¦åˆ 
>     * å…±äº«RAMå’ŒI/O
>     * é«˜é€Ÿæ€»çº¿å’Œäº¤å‰å¼€å…³è¿æ¥
>   * æ¾å¼›è€¦åˆ 
>     * ç‹¬ç«‹RAMå’ŒI/O
>     * é€šé“å’Œé€šä¿¡çº¿è·¯è¿æ¥
>   * å¯¹ç§°å¤šå¤„ç†å™¨ç³»ç»Ÿ SMPï¼šSymmetric Multiprocessing
>   * éå¯¹ç§°å¤šå¤„ç†å™¨ç³»ç»Ÿ AMPï¼šAsymmetric Multiprocessing 
> 

#### è¿›ç¨‹åˆ†é…æ–¹å¼

>   * SMPä¸­è¿›ç¨‹åˆ†é…æ–¹å¼ 
>     * é™æ€åˆ†é…
>     * åŠ¨æ€åˆ†é…ï¼šå¯é˜²æ­¢ç³»ç»Ÿä¸­å¤šä¸ªå¤„ç†å™¨å¿™é—²ä¸å‡
>   * éSMPä¸­è¿›ç¨‹åˆ†é…æ–¹å¼ 
>     * è¿›ç¨‹è°ƒåº¦åœ¨ä¸»å¤„ç†å™¨ä¸Šæ‰§è¡Œ
>     * æœ‰æ½œåœ¨çš„ä¸å¯é æ€§
> 

#### å•é˜Ÿåˆ—å¤šå¤„ç†æœºè°ƒåº¦

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/c80c03319029.png)

å„ä¸ªå¤„ç†æœºè‡ªè¡Œåœ¨å°±ç»ªé˜Ÿåˆ—ä¸­å–ä»»åŠ¡ï¼ˆå…ˆçºµå‘çœ‹ï¼Œå†æ¨ªå‘çœ‹ï¼‰ã€‚

ä¼˜ç‚¹ï¼šç®€å•ï¼Œåˆ†å¸ƒå¼è°ƒåº¦ï¼Œå¤šä¸ªCPUåˆ©ç”¨ç‡éƒ½å¥½

ç¼ºç‚¹ï¼šç“¶é¢ˆé—®é¢˜ï¼ˆå•é˜Ÿåˆ—â†’å…±äº«èµ„æºâ†’é”ï¼‰ ä½æ•ˆæ€§ï¼šcache affinity ï¼ˆä¸‹å›¾ä¸ºæ”¹è¿›ï¼‰ 

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/f315ba3c47a9.png)

#### å¤šé˜Ÿåˆ—å¤šå¤„ç†æœºè°ƒåº¦

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/9895315e50ad.png)æ¯ä¸ªCPUä¸€ä¸ªé˜Ÿåˆ—ï¼šæ²¡æœ‰SQMSçš„é—®é¢˜ï¼Œä½†æ˜¯å¯èƒ½è´Ÿè½½ä¸å‡è¡¡ï¼Œå¯¼è‡´èµ„æºåˆ†é…ä¸åˆç†ã€‚

#### æˆç»„è°ƒåº¦

>   * ä¼˜ç‚¹ï¼š 
>     * å¯¹ç›¸äº’åˆä½œçš„è¿›ï¼ˆçº¿ï¼‰ç¨‹ç»„è°ƒåº¦ï¼Œå¯ä»¥å‡å°åˆ‡æ¢ï¼Œå‡å°ç³»ç»Ÿå¼€é”€ã€‚
>     * æ¯æ¬¡åˆ†é…ä¸€ç»„CPUï¼Œå‡å°‘äº†è°ƒåº¦é¢‘ç‡ã€‚
>   * åˆ†é…æ—¶é—´ 
>     * é¢å‘ç¨‹åº
>     * é¢å‘çº¿ç¨‹ï¼šä½¿å¤„ç†æœºåˆ©ç”¨ç‡æ›´é«˜ã€‚ 
> 

#### ä¸“ç”¨å¤„ç†æœºåˆ†é… 

>   * ç‰¹ç‚¹ï¼šæ¯ä¸ªè¿›ï¼ˆçº¿ï¼‰ç¨‹ä¸“ç”¨å¤„ç†æœºï¼Œä½¿å…¶åˆ‡æ¢å°ï¼Œæé«˜æ•ˆç‡ã€‚
>   * ä¸»è¦ç”¨äºå¤§å‹è®¡ç®—ï¼Œå®æ—¶ç³»ç»Ÿ 
>     * Sony PlayStation 3 (PPU/SPU) â†’ CELL
>     * ç¥å¨å¤ªæ¹–ä¹‹å…‰ï¼šä¼—æ ¸ï¼ˆ4+256)
> 

* * *

## è¿›ç¨‹å¹¶å‘æ§åˆ¶ï¼šäº’æ–¥ä¸åŒæ­¥

* * *

### è¿›ç¨‹/çº¿ç¨‹çš„å¹¶å‘æ§åˆ¶

è¿›ç¨‹/çº¿ç¨‹æ˜¯è®¡ç®—æœºä¸­çš„ç‹¬ç«‹ä¸ªä½“ï¼šå¼‚æ­¥æ€§ï¼ˆå¹¶å‘æ€§ï¼‰

èµ„æºæ˜¯è®¡ç®—æœºä¸­çš„ç¨€ç¼ºä¸ªä½“ï¼šç‹¬å æ€§ï¼ˆä¸å¯å¤ç”¨æ€§ï¼‰

è¿›ç¨‹/çº¿ç¨‹åä½œå®Œæˆä»»åŠ¡ï¼ˆåä½œï¼‰

å¹¶å‘æ§åˆ¶ï¼šè¿›ç¨‹/çº¿ç¨‹åœ¨æ¨è¿›æ—¶çš„ç›¸äº’åˆ¶çº¦å…³ç³»

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/a8a7222c77c3.png)

å¹¶å‘æ‰§è¡Œè¿›ç¨‹èƒ½æœ‰æ•ˆåœ°å…±äº«èµ„æºå’Œç›¸äº’åˆä½œï¼Œå¹¶æŒ‰ä¸€å®šé¡ºåºæ‰§è¡Œã€‚

* * *

### åŸºæœ¬æ¦‚å¿µ

>   * è¿›ç¨‹é—´çš„åˆ¶çº¦å…³ç³» 
>     * é—´æ¥åˆ¶çº¦ï¼šèµ„æºå…±äº«â†’äº’æ–¥
>     * ç›´æ¥åˆ¶çº¦ï¼šè¿›ç¨‹åˆä½œâ†’åŒæ­¥
>   * ä¸´ç•Œèµ„æºï¼ˆCritical Resourceï¼‰ 
>     * ä¸€æ¬¡ä»…å…è®¸ä¸€ä¸ªè¿›ç¨‹è®¿é—®çš„èµ„æº
>   * ä¸´ç•ŒåŒºï¼ˆCritical Sectionï¼‰ 
>     * è¿›ç¨‹ä¸­è®¿é—®ä¸´ç•Œèµ„æºçš„ä»£ç æ®µ
>   * å¿™ç­‰ã€é¥¥é¥¿ã€æ­»é” 
>     * ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/a7c10cb619dd.png)
>   * æ´»é” 
>     * ä¸¤ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ä¸æ–­æ›´æ”¹å…¶çŠ¶æ€ä»¥å“åº”å…¶ä»–è¿›ç¨‹çš„æ›´æ”¹è€Œä¸æ‰§è¡Œä»»ä½•æœ‰ç”¨å·¥ä½œçš„æƒ…å†µã€‚
>     * ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/03d6b070a199.png)
>   * åŒæ­¥åŸåˆ™ 
>     * ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/5929590ec513.png)
> 

* * *

### åŒæ­¥çš„è§£å†³ç­–ç•¥

#### è½¯ä»¶æ–¹æ³•

> è¿›ç¨‹é€šè¿‡æ‰§è¡Œç›¸åº”çš„ç¨‹åºæŒ‡ä»¤ï¼Œå®ç°ä¸å…¶ä»–è¿›ç¨‹çš„äº’æ–¥ä¸åŒæ­¥

#### ç¡¬ä»¶æ–¹æ³•

>   * å±è”½ä¸­æ–­ï¼šç¡®ä¿äº’æ–¥æ‰§è¡Œ 
>     * ç¼ºç‚¹ï¼š 
>       * ç³»ç»Ÿæ— æ³•å“åº”å¤–éƒ¨è¯·æ±‚
>       * æ— æ³•æ¥å—å¼‚å¸¸ï¼Œå¤„ç†ç³»ç»Ÿæ•…éšœ
>       * æ— æ³•åˆ‡æ¢è¿›ç¨‹â†’æ€§èƒ½ä¸‹é™
>       * ä¸æ”¯æŒå¤šå¤„ç†æœº
>   * æœºå™¨æŒ‡ä»¤ 
>     * åŸå­æ€§ï¼šall-or-nothing
>     * å•å¤„ç†å™¨ï¼šä¸€ä¸ªå‘¨æœŸå†…å®Œæˆçš„æŒ‡ä»¤
>     * å¤šå¤„ç†å™¨ï¼šLOCKæ€»çº¿ 
>       * Test & Set 
>         * æµ‹è¯•æŸä¸ªå˜é‡çš„å€¼ï¼Œå¦‚æœä¸º0ï¼Œåˆ™ç½®1ï¼Œå¹¶è¿”å›å½“å‰å€¼
>       * Exchange 
>         * åŸå­æ€§åœ°äº¤æ¢å¯„å­˜å™¨å’Œå†…å­˜çš„å€¼
>     * ä¼˜ç‚¹ï¼š 
>       * æ”¯æŒå¤šå¤„ç†æœº
>       * ç®€å•æ˜“è¯æ˜
>       * æ”¯æŒå¤šä¸´ç•ŒåŒº
>     * ç¼ºç‚¹ï¼š 
>       * å¿™ç­‰ç°è±¡
>       * é¥¥é¥¿ç°è±¡
>       * æ­»é”ç°è±¡
> 

#### ä¿¡å·é‡

>   * åŸç†ï¼š 
>     * å¤šè¿›ç¨‹é€šè¿‡ä¿¡å·ä¼ é€’åè°ƒå·¥ä½œï¼Œæ ¹æ®ä¿¡å·æŒ‡ç¤ºåœæ­¢æ‰§è¡Œï¼ˆé˜»å¡ç­‰å¾…ï¼‰æˆ–è€…å‘å‰æ¨è¿›ï¼ˆå”¤é†’ï¼‰ã€‚
>   * ä¿¡å·ï¼šä¿¡å·é‡s 
>     * +ï¼šèµ„æºæ•°é‡
>     * -ï¼šæ’é˜Ÿæ•°é‡
>   * åŸè¯­ï¼š 
>     * wait(s)ï¼šç­‰å¾…ä¿¡å·ï¼Œå¹¶å æœ‰èµ„æº â€”â€”>Pæ“ä½œ
>     * signal(s)ï¼šé‡Šæ”¾èµ„æºï¼Œå¹¶æ¿€å‘ä¿¡å· â€”â€”>Væ“ä½œ
>   * åˆ†ç±» 
>     * æ•´æ•°å‹ä¿¡å·é‡
>     * ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/c8902d143515.png)
>     * è®°å½•å‹ä¿¡å·é‡
>     * ANDå‹ä¿¡å·é‡ 
>       * å°†è¿›ç¨‹åœ¨æ•´ä¸ªè¿è¡Œè¿‡ç¨‹ä¸­éœ€è¦çš„æ‰€æœ‰èµ„æºï¼Œä¸€æ¬¡æ€§å…¨éƒ½åœ°åˆ†é…ç»™è¿›ç¨‹ï¼Œå¾…è¿›ç¨‹ä½¿ç”¨å®Œåå†ä¸€èµ·é‡Šæ”¾ã€‚ 
>         * åªè¦æœ‰ä¸€ä¸ªèµ„æºæœªèƒ½åˆ†é…ç»™è¿›ç¨‹ï¼Œå…¶å®ƒæ‰€æœ‰å¯èƒ½ä¸ºä¹‹åˆ†é…çš„èµ„æºï¼Œä¹Ÿä¸åˆ†é…ç»™å®ƒ
>       * åŸå­æ“ä½œ 
>         * è¦ä¹ˆå…¨éƒ¨åˆ†é…åˆ°è¿›ç¨‹ï¼Œè¦ä¹ˆå…¨ä¸åˆ†é…
>       * åœ¨waitæ“ä½œä¸­ï¼Œå¢åŠ ä¸€ä¸ªANDæ¡ä»¶ï¼Œæ•…ç§°ä¸ºANDåŒæ­¥ï¼Œæˆ–ç§°ä¸ºåŒæ—¶waitæ“ä½œ
>   * ä¿¡å·é‡æ­£è´Ÿçš„å«ä¹‰ 
>     * s.value â‰¥ 0ï¼šæ˜¯å¯ä»¥åœ¨ä¸æŒ‚èµ·çš„æƒ…å†µä¸‹æ‰§è¡Œç­‰å¾…çš„è¿›ç¨‹æ•°ã€‚
>     * s.value < 0ï¼šs.value çš„å¤§å°æ˜¯ s.queue ä¸­æŒ‚èµ·çš„è¿›ç¨‹æ•°ã€‚
>   * ä¿¡å·é‡é›† 
>     * é‡‡ç”¨ä¿¡å·é‡é›†æ¥æ§åˆ¶ï¼Œå¯ä»¥åˆ†é…å¤šä¸ªèµ„æº 
>       * swait(S1, t1, d1, â€¦, Sn, tn, dnï¼‰ tiï¼šèµ„æºä¸‹é™ï¼› diï¼šéœ€æ±‚é‡
>       * ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/3b412e88337e.png)
> 

#### ç®¡ç¨‹

> ç®¡ç¨‹çš„ç»„æˆ
> 
>   * å±€éƒ¨äºè¯¥ç®¡ç¨‹çš„å…±äº«æ•°æ®ï¼Œè¿™äº›æ•°æ®è¡¨ç¤ºäº†ç›¸åº”èµ„æºçš„çŠ¶æ€ï¼›
>   * é’ˆå¯¹ä¸Šè¿°æ•°æ®çš„ä¸€ç»„è¿‡ç¨‹ï¼›
>   * å¯¹å±€éƒ¨äºè¯¥ç®¡ç¨‹çš„æ•°æ®çš„åˆå§‹åŒ–ã€‚
> 

> 
> ç®¡ç¨‹çš„ç‰¹ç‚¹
> 
>   * æ¨¡å—åŒ–ï¼ˆModularizationï¼‰ 
>     * ç®¡ç¨‹æ˜¯ä¸€ä¸ªåŸºæœ¬ç¨‹åºå•ä½ï¼Œå¯ä»¥å•ç‹¬ç¼–è¯‘;
>   * æŠ½è±¡æ•°æ®ç±»å‹ï¼ˆAbstraction) 
>     * ç®¡ç¨‹ä¸­ä¸ä»…æœ‰æ•°æ®ï¼Œè€Œä¸”æœ‰å¯¹æ•°æ®çš„æ“ä½œ;
>   * ä¿¡æ¯éšè—ï¼ˆEncapsulationï¼‰ 
>     * ç®¡ç¨‹å¤–å¯ä»¥è°ƒç”¨ç®¡ç¨‹å†…éƒ¨å®šä¹‰çš„å‡½æ•°ï¼Œä½†å‡½æ•°å…·ä½“å®ç°å¤–éƒ¨ä¸å¯è§;
>     * å±€éƒ¨æ•°æ®å˜é‡åªèƒ½è¢«ç®¡ç¨‹çš„è¿‡ç¨‹è®¿é—®ï¼Œä»»ä½•å¤–éƒ¨è¿‡ç¨‹éƒ½ä¸èƒ½è®¿é—®ã€‚
> 

> 
> ç®¡ç¨‹çš„åŒæ­¥
> 
>   * è¿›ç¨‹é€šè¿‡è°ƒç”¨ç®¡ç¨‹çš„ä¸€ä¸ªè¿‡ç¨‹è¿›å…¥ç®¡ç¨‹ï¼›
>   * åœ¨ä»»ä½•æ—¶å€™ï¼Œåªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨ç®¡ç¨‹ä¸­æ‰§è¡Œï¼›è°ƒç”¨ç®¡ç¨‹çš„ä»»ä½•å…¶ä»–è¿›ç¨‹éƒ½è¢«æŒ‚èµ·ï¼Œä»¥ç­‰å¾…ç®¡ç¨‹å˜æˆå¯ç”¨ã€‚
>   * æ¡ä»¶å˜é‡æä¾›åŒæ­¥æ”¯æŒï¼ˆéé»˜è®¤é”ï¼‰ã€‚æ¡ä»¶å˜é‡åŒ…å«åœ¨ç®¡ç¨‹ä¸­ï¼Œå¹¶ä¸”åªæœ‰åœ¨ç®¡ç¨‹ä¸­æ‰èƒ½è¢«è®¿é—®ï¼š 
>     * cwait(x)ï¼šè°ƒç”¨è¿›ç¨‹çš„æ‰§è¡Œåœ¨æ¡ä»¶xä¸ŠæŒ‚èµ·ï¼Œç®¡ç¨‹ç°åœ¨å¯è¢«å¦ä¸€è¿›ç¨‹ä½¿ç”¨ã€‚
>     * csignal(x)ï¼šæ¢å¤é˜»å¡åœ¨xä¸Šçš„è¿›ç¨‹ã€‚
> 

* * *

## â­è¿›ç¨‹å¹¶å‘æ§åˆ¶ï¼šä¿¡å·é‡çš„åº”ç”¨ï¼ˆé‡ç‚¹ï¼‰

å±•ç¤ºä¸€äº›ä¿¡å·é‡å®ä¾‹ï¼Œä¹Ÿæ˜¯é‡ç‚¹è€ƒå¯Ÿçš„åœ°æ–¹

* * *

### è§‚å¯Ÿè€…é—®é¢˜

> è§‚å¯Ÿè€…å’ŒæŠ¥å‘Šè€…æ˜¯ä¸¤ä¸ªå¹¶å‘æ‰§è¡Œçš„è¿›ç¨‹ã€‚ è§‚å¯Ÿè€…ä¸æ–­è§‚å¯Ÿå¹¶å¯¹é€šè¿‡çš„å¡è½¦è®¡æ•°ï¼› æŠ¥å‘Šè€…ä¸åœåœ°å°†è§‚å¯Ÿè€…çš„è®¡æ•°æ‰“å°ï¼Œå¹¶å½’é›¶ã€‚ è¯·ç”¨Pã€VåŸè¯­è¿›è¡Œæ­£ç¡®æè¿°ã€‚
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/c796a0df5616.png)

* * *

### å›¾ä¹¦é¦†é—®é¢˜

> å›¾ä¹¦é¦†æœ‰Nä¸ªåº§ä½ï¼Œä¸€å¼ ç™»è®°è¡¨ï¼Œè¦æ±‚ï¼š è¯»è€…è¿›å…¥æ—¶éœ€å…ˆç™»è®°ï¼Œå–å¾—åº§ä½å·ï¼› å‡ºæ¥æ—¶æ³¨é”€ ç”¨Pã€VåŸè¯­æè¿°è¯»è€…çš„ä½¿ç”¨è¿‡ç¨‹ã€‚
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/61b9bc2b9f7d.png)

* * *

### å…¬äº¤è½¦é—®é¢˜

> å¸æœºå¯åŠ¨è½¦è¾†çš„åŠ¨ä½œå¿…é¡»äºå”®ç¥¨å‘˜å…³è½¦é—¨çš„åŠ¨ä½œå–å¾—åŒæ­¥ï¼›å”®ç¥¨å‘˜å¼€è½¦é—¨çš„åŠ¨ä½œä¹Ÿå¿…é¡»ä¸å¸æœºåœè½¦å–å¾—åŒæ­¥ã€‚
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/faa00c5d86ac.png)
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/0d43c88cf1dd.png)

* * *

### â­ç”Ÿäº§è€…/æ¶ˆè´¹è€…é—®é¢˜ï¼ˆé‡ç‚¹ï¼‰

> ç”Ÿäº§è€…/æ¶ˆè´¹è€…æ¨¡å‹ï¼š
> 
> ç”Ÿäº§è€…ï¼šæ»¡åˆ™ç­‰å¾…ï¼Œç©ºåˆ™å¡«å……
> 
> æ¶ˆè´¹è€…ï¼šç©ºåˆ™ç­‰å¾…ï¼Œæœ‰åˆ™è·å–
> 
> ä¸å…è®¸åŒæ—¶è¿›å…¥ç¼“å†²åŒº
> 
> æ— é™ç¼“å†²ï¼š
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/6545385448c6.png)
> 
> æœ‰é™å¾ªç¯/ç¯å½¢ç¼“å†²åŒºï¼š
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/2a7232ba32c4.png)![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/f8e8c9b4c0bf.png)

#### ä¾‹é¢˜ï¼š

> æœ‰3ä¸ªè¿›ç¨‹PAï¼ŒPBå’ŒPCåˆä½œè§£å†³æ–‡ä»¶æ‰“å°é—®é¢˜ï¼š
> 
> PAå°†æ–‡ä»¶è®°å½•ä»ç£ç›˜è¯»å…¥ä¸»å­˜çš„ç¼“å†²åŒº1ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡è¯»ä¸€ä¸ªè®°å½•;
> 
> PBå°†ç¼“å†²åŒº1çš„å†…å®¹å¤åˆ¶åˆ°ç¼“å†²åŒº2ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡å¤åˆ¶ä¸€ä¸ªè®°å½•ï¼›
> 
> PCå°†ç¼“å†²åŒº2çš„å†…å®¹æ‰“å°å‡ºæ¥ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡æ‰“å°ä¸€ä¸ªè®°å½•ã€‚
> 
> ç¼“å†²åŒºçš„å¤§å°ç­‰äºä¸€ä¸ªè®°å½•å¤§å°ã€‚
> 
> è¯·ç”¨Pï¼ŒVæ“ä½œæ¥ä¿è¯æ–‡ä»¶çš„æ­£ç¡®æ‰“å°ã€‚ 
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/83a983b86f84.png)
> 
> ä¿¡å·é‡ï¼šempty1ï¼Œempty2ï¼šåˆ†åˆ«è¡¨ç¤ºç¼“å†²åŒº1åŠç¼“å†²åŒº2æ˜¯å¦ä¸ºç©ºï¼Œåˆå€¼ä¸º1ã€‚
> 
> full1ï¼Œfull2ï¼šåˆ†åˆ«è¡¨ç¤ºç¼“å†²åŒº1åŠç¼“å†²åŒº2æ˜¯å¦æœ‰è®°å½•å¯ä¾›å¤„ç†ï¼Œåˆå€¼ä¸º0ã€‚
> 
> mutex1ï¼Œmutex2ï¼šåˆ†åˆ«è¡¨ç¤ºç¼“å†²åŒº1åŠç¼“å†²åŒº2çš„è®¿é—®æ§åˆ¶ï¼Œåˆå€¼ä¸º1ã€‚ 
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/0499d2677fe4.png)

#### å¯ç¤º

>   * èµ„æºæ•°é‡ï¼šèµ„æºä¿¡å·é‡
>   * èµ„æºè®¿é—®ï¼šäº’æ–¥ä¿¡å·é‡
>   * å…ˆç”³è¯·èµ„æºï¼Œå†ç”³è¯·è®¿é—®æƒ
>   * èµ„æºä¿¡å·é‡Pã€Væ“ä½œåˆ†å¸ƒåœ¨ä¸åŒè¿›ç¨‹
>   * äº’æ–¥ä¿¡å·é‡Pã€Væ“ä½œå‡ºç°åœ¨åŒä¸€è¿›ç¨‹ 
> 

* * *

### â­è¯»/å†™è€…é—®é¢˜ï¼ˆé‡ç‚¹ï¼‰

> ä¸‰ä¸ªè§’è‰²ï¼šä¸€ä¸ªå…±äº«çš„æ•°æ®åŒºï¼› Reader: åªè¯»å–è¿™ä¸ªæ•°æ®åŒºçš„è¿›ç¨‹ï¼› Writer: åªå¾€æ•°æ®åŒºä¸­å†™æ•°æ®çš„è¿›ç¨‹ï¼›
> 
> ä¸‰ä¸ªæ¡ä»¶ï¼šå¤šä¸ªReaderå¯åŒæ—¶è¯»æ•°æ®åŒºï¼› ä¸€æ¬¡åªæœ‰ä¸€ä¸ªWriterå¯ä»¥å¾€æ•°æ®åŒºå†™ï¼› æ•°æ®åŒºä¸å…è®¸åŒæ—¶è¯»å†™ã€‚ï¼ˆâ€œè¯»ï¼å†™â€ äº’æ–¥ï¼›â€œå†™ï¼å†™â€ äº’æ–¥ï¼›â€œè¯»ï¼è¯»â€ å…è®¸ï¼‰

#### è¯»è€…ä¼˜å…ˆ

ä¸€æ—¦æœ‰è¯»è€…æ­£åœ¨è¯»æ•°æ®ï¼Œåˆ™å…è®¸éšåçš„è¯»è€…è¿›å…¥è¯»æ•°æ®ï¼›åªæœ‰å½“å…¨éƒ¨è¯»è€…é€€å‡ºï¼Œæ‰å…è®¸å†™è€…è¿›å…¥å†™æ•°æ®ï¼›å¯¼è‡´**å†™è€…é¥¥é¥¿**

**ä¿¡å·é‡è®¾ç½®ï¼š**

wsemï¼šäº’æ–¥ä¿¡å·é‡ï¼Œç”¨äºWritersé—´äº’æ–¥ï¼ŒWriterså’ŒReadersäº’æ–¥

readcountï¼šç»Ÿè®¡åŒæ—¶è¯»æ•°æ®çš„Readersä¸ªæ•°

mutexï¼šå¯¹å˜é‡readcountäº’æ–¥ç®—æœ¯æ“ä½œ

```cpp int readcount=0ï¼› semaphore mutex = 1, wsem=1; void reader() { while (1) { P(mutex); readcount++; if (readcount==1) P(wsem); V(mutex); READ; P(mutex); readcount--; if (readcount==0) V(wsem); V(mutex); } } void writer() { while (1) { P(wsem); WRITE; V(wsem); } } ``` 

#### å†™è€…ä¼˜å…ˆ

å½“è‡³å°‘æœ‰ä¸€ä¸ªå†™è€…å£°æ˜æƒ³å†™æ•°æ®æ—¶ï¼Œåˆ™ä¸å†å…è®¸æ–°çš„è¯»è€…è¿›å…¥è¯»æ•°æ®ã€‚ä¾‹å¦‚ï¼šé˜Ÿåˆ—ï¼šï¼ˆå°¾)WWRRW(å¤´)ï¼Œè®©ä¸‰ä¸ªWè¿›ç¨‹èƒ½ä¼˜å…ˆäºRè¿›ç¨‹å†™æ•°æ®ã€‚è§£å†³äº†å†™è€…é¥¥é¥¿é—®é¢˜ï¼Œä½†**é™ä½äº†å¹¶å‘ç¨‹åº¦ï¼Œç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½è¾ƒå·®** ã€‚

**ä¿¡å·é‡è®¾ç½®:**

wsemï¼šäº’æ–¥ä¿¡å·é‡ï¼Œç”¨äºWritersé—´äº’æ–¥ï¼ŒReaderäº’æ–¥Writers

rsemï¼šäº’æ–¥ä¿¡å·é‡ï¼Œå½“è‡³å°‘æœ‰ä¸€ä¸ªå†™è€…ç”³è¯·å†™æ•°æ®æ—¶äº’æ–¥æ–°çš„è¯»è€…è¿›å…¥è¯»æ•°æ®ã€‚ç¬¬ä¸€ä¸ªå†™è€…å—rsemå½±å“ï¼Œä¸€æ—¦æœ‰ç¬¬ä¸€ä¸ªå†™è€…ï¼Œåç»­å†™è€…ä¸å—rsemå…¶å½±å“ã€‚ä½†æ˜¯è¯»è€…éœ€è¦åœ¨rsemä¸Šæ’é˜Ÿã€‚

mwcï¼šç”¨äºæ§åˆ¶writecountäº’æ–¥ç®—æœ¯æ“ä½œ

mrcï¼šç”¨äºæ§åˆ¶readcountäº’æ–¥ç®—æœ¯æ“ä½œ

z: å¯¹è¯»è€…è¿›è¡Œæ§åˆ¶ï¼Œé˜²æ­¢åœ¨rsemä¸Šå‡ºç°è¯»è¿›ç¨‹çš„é•¿é˜Ÿåˆ—ï¼Œå¦åˆ™å†™è¿›ç¨‹ä¸èƒ½è·³è¿‡è¿™ä¸ªé˜Ÿåˆ—

```cpp int readcount, writecount; semaphore mrc=l, mwc=1, z=1, wsem=1, rsem=l; void reader( ) { while (1) { P(z); P(rsem); P(mrc); readcount++; if (readcount == 1) P(wsem); V(mrc); V(rsem)ï¼› V(z); READ; P(mrc); readcount--; if (readcount == 0) V(wsem); V(mrc); } } void writer( ) { while (1) { P(mwc); writecount++; if (writecount == 1) P(rsem); V(mwc); P(wsem); WRITE; V(wsem); P(mwc); writecount--; if (writecount == 0) V(rsem); V(mwc); } } ``` 

#### å…¬å¹³ä¼˜å…ˆ

**å†™è¿‡ç¨‹ä¸­ï¼Œè‹¥å…¶å®ƒè¯»è€…ã€å†™è€…åˆ°æ¥ï¼Œåˆ™æŒ‰****åˆ°è¾¾é¡ºåºå¤„ç†**

**ä¿¡å·é‡è®¾ç½®ï¼š**

wï¼šäº’æ–¥ä¿¡å·é‡ï¼Œç”¨äºWritersé—´äº’æ–¥ï¼ŒReaderäº’æ–¥Writers

readcountï¼šç»Ÿè®¡åŒæ—¶è¯»æ•°æ®çš„Readersä¸ªæ•°

mrcï¼šå¯¹å˜é‡readcountäº’æ–¥ç®—æœ¯æ“ä½œ

rï¼šäº’æ–¥ä¿¡å·é‡ï¼Œç¡®å®šWriter ã€Readerè¯·æ±‚é¡ºåº

åœ¨è¯»è€…ä¼˜å…ˆä¸­ï¼Œwsemåªå¯¹ç¬¬ä¸€ä¸ªè¯»è€…èµ·é˜»å¡ä½œç”¨ï¼Œåç»­è¯»è€…ä¸å—å…¶å½±å“ã€‚ä¸ºäº†ä¿è¯æŒ‰ç…§åˆ°è¾¾é¡ºåºå¤„ç†ï¼Œæ•…å…¬å¹³ä¼˜å…ˆæ–¹å¼è®¾ç½®wrsem,è¯»è€…ï¼å†™è€…æŒ‰åˆ°è¾¾é¡ºåºåœ¨wrsemä¸Šæ’é˜Ÿã€‚

```cpp int readcount = 0; semaphore mrc = 1, r = 1, w = 1; READER { P(r); P(mrc); readcount++; if (readcount == 1) P(w); V(mrc); V(r); Read(); P(mrc); readcount--; if (readcount == 0) V(w); V(mrc); } WRITER { P(r); P(w); Write(); V(w); V(r); } ``` 

* * *

### â­ç†å‘å¸ˆé—®é¢˜ï¼ˆé‡ç‚¹ï¼‰

> è§’è‰²å’Œèµ„æºï¼šä¸€ä¸ªç†å‘å¸ˆ ä¸€ä¸ªç†å‘æ¤… ä¸€æ’åº§ä½ éšæœºåˆ°æ¥çš„å®¢æˆ·
> 
> åœºæ™¯ï¼šç†å‘å¸ˆï¼šæœ‰å®¢å¹²æ´»ï¼Œæ— å®¢ç¡è§‰ï¼›å®¢æˆ·ï¼šå”¤é†’ç†å‘å¸ˆï¼Œæœ‰ä½ç­‰å¾…ï¼Œæ— ä½ç¦»å¼€
> 
> æ­¤é—®é¢˜æ— æ­»é”ï¼Œæœ‰é¥¥é¥¿ï¼ˆä»¥æ’é˜Ÿæ–¹å¼è§£å†³é¥¥é¥¿é—®é¢˜ï¼‰

```cpp /* # of customers waiting */ semaphore customers = 0; /* barber status */ semaphore barbers = 0; /* mutual exclusion to access seats */ semaphore mutex = 1; /* # of available seats. */ int nas = N; void barber(void) { while (TRUE) { P(customers); P(mutex); nas++; V(barbers); V(mutex); cut_hair(); } } void customer(void) { P(mutex); if (nas > 0) { nas--; V(customers); V(mutex); P(barbers); get_haircut(); } else { V(mutex); leave_shop(); } } ``` 

* * *

### â­å“²å­¦å®¶é—®é¢˜ï¼ˆé‡ç‚¹ï¼‰

> å“²å­¦å®¶å°±é¤é—®é¢˜å¯ä»¥ç”¨æ¥è§£é‡Šæ­»é”å’Œèµ„æºè€—å°½ã€‚
> 
> æè¿°ï¼š5ä¸ªå“²å­¦å®¶å›´åä¸€å¼ é¤æ¡Œï¼›5åªé¤å‰ï¼ˆç­·å­ï¼‰é—´éš”æ‘†æ”¾ï¼›æ€è€ƒæˆ–è¿›é¤ï¼›è¿›é¤æ—¶å¿…é¡»åŒæ—¶æ‹¿åˆ°ä¸¤è¾¹çš„é¤å‰ï¼›æ€è€ƒæ—¶å°†é¤å‰æ”¾å›åŸå¤„ã€‚

```cpp #define N 5 #define LEFT (i-1+N)%N #define RIGHT (i+1)%N #define THINKING 0 #define HUNGRY 1 #define EATING 2 int state[N] = {0, 0, 0, 0, 0}; semaphore mutex = 1; semaphore s[N]={0,0,0,0,0}; void philosopher(int i){ while (TRUE) { think(); take_forks(i); eat(); put_forks(i); } } void take_forks(int i) { P(mutex); state[i] = HUNGRY; test(i); V(mutex); P(s[i]); } void put_forks(i) { P(mutex); state[i] = THINKING; test(LEFT); test(RIGHT); V(mutex); } void test(int i) { if (state[i] == HUNGRY && state[LEFT] != EATING && state[RIGHT] != EATING) { state[i] = EATING; V(s[i]); } } ``` 

* * *

### é‡ç‚¹çŸ¥è¯†ç‚¹å›é¡¾

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/313310aba8d2.png)

* * *

## è¿›ç¨‹å¹¶å‘æ§åˆ¶ï¼šç»ƒä¹ é¢˜

#### é—®é¢˜1

> æ¡Œå­ä¸Šæœ‰ä¸€åªç›˜å­ï¼Œæœ€å¤šå¯ä»¥æ”¾å…¥Nï¼ˆN>0ï¼‰ä¸ªæ°´æœ
> 
> çˆ¸çˆ¸éšæœºå‘ç›˜ä¸­æ”¾å…¥è‹¹æœæˆ–æ¡”å­ï¼› å„¿å­åªåƒç›˜ä¸­çš„æ¡”å­ï¼› å¥³å„¿åªåƒç›˜ä¸­çš„è‹¹æœï¼› åªæœ‰ç›˜å­ä¸­æ°´æœæ•°ç›®å°äºNæ—¶ï¼Œçˆ¸çˆ¸æ‰å¯ä»¥å‘ç›˜å­ä¸­æ”¾æ°´æœï¼› ä»…å½“ç›˜å­ä¸­æœ‰è‡ªå·±éœ€è¦çš„æ°´æœæ—¶ï¼Œå„¿å­æˆ–å¥³å„¿æ‰å¯ä»¥ä»ç›˜å­ä¸­å–å‡ºç›¸åº”çš„æ°´æœï¼› æ¯æ¬¡åªèƒ½æ”¾å…¥æˆ–å–å‡ºä¸€ä¸ªæ°´æœï¼Œä¸å…è®¸å¤šäººåŒæ—¶ä½¿ç”¨ç›˜å­ã€‚
> 
> ç”¨Pã€Væ“ä½œå®ç°çˆ¸çˆ¸ã€å„¿å­å’Œå¥³å„¿ä¹‹é—´çš„åŒæ­¥ä¸äº’æ–¥æ´»åŠ¨ã€‚
> 
> ```cpp semaphore mutex = 1; //ç›˜å­æ“ä½œäº’æ–¥ä¿¡å·é‡ semaphore apple = 0, orange = 0; //è‹¹æœã€æ¡”å­æ”¾å…¥ã€å–å‡ºçš„èµ„æºä¿¡å·é‡ semaphore empty = N; //ç›˜å­ä¸­å¯æ”¾å…¥çš„æ°´æœæ•°ç›® dad() { while (true) { result= prepare _fruit(); //å‡†å¤‡æ°´æœï¼Œresultä¸ºæ°´æœç±»å‹ P(empty); //ç›˜å­ä¸­å¯æ”¾å…¥çš„æ°´æœæ•°ç›®å‡1 P(mutex); //äº’æ–¥è®¿é—®ç›˜å­ put a fruit on the plate; //å°†ä¸€ä¸ªæ°´æœæ”¾å…¥ç›˜å­ V(mutex); //æ¢å¤è®¿é—®ç›˜å­ if (result == fruit_apple) //å‡†å¤‡çš„æ°´æœä¸ºè‹¹æœ V(apple); //å…è®¸å¥³å„¿å–è‹¹æœ else //å‡†å¤‡çš„æ°´æœä¸ºæ¡”å­ V(orange); //å…è®¸å„¿å­å–æ¡”å­ } } son() { while (true) { P(orange); //äº’æ–¥å–æ¡”å­ P(mutex); //äº’æ–¥è®¿é—®ç›˜å­ get an orage from plate(); //å–æ¡”å­ V(mutex); //æ¢å¤è®¿é—®ç›˜å­ V(empty); //ç›˜å­ä¸­å¯æ”¾å…¥çš„æ°´æœæ•°ç›®åŠ 1 } } daughter() { while (true) { P(apple); //äº’æ–¥å–æ°´æœ P(mutex); //äº’æ–¥è®¿é—®ç›˜å­ get an apple from plate(); //å–è‹¹æœ V(mutex); //æ¢å¤è®¿é—®ç›˜å­ V(empty); //ç›˜å­ä¸­å¯æ”¾å…¥çš„æ°´æœæ•°ç›®åŠ 1 } } ``` 

#### é—®é¢˜2

> æ¡Œå­ä¸Šæœ‰ä¸€åªç›˜å­ï¼Œåªèƒ½æ”¾ä¸€åªæ°´æœ
> 
> çˆ¸çˆ¸è´Ÿè´£å‘ç›˜ä¸­æ”¾è‹¹æœï¼Œå¦ˆå¦ˆè´Ÿè´£å‘ç›˜ä¸­æ”¾æ¡”å­ã€‚ å„¿å­åªåƒç›˜ä¸­çš„æ¡”å­ï¼Œå¥³å„¿åªåƒç›˜ä¸­çš„è‹¹æœã€‚ åªæœ‰ç›˜å­ä¸ºç©ºæ—¶ï¼Œçˆ¸çˆ¸æˆ–å¦ˆå¦ˆæ‰å¯ä»¥å‘ç›˜å­ä¸­æ”¾å…¥ä¸€ä¸ªæ°´æœã€‚ ä»…å½“ç›˜å­ä¸­æœ‰è‡ªå·±éœ€è¦çš„æ°´æœæ—¶ï¼Œå„¿å­æˆ–å¥³å„¿æ‰å¯ä»¥ä»ç›˜å­ä¸­å–å‡ºç›¸åº”çš„æ°´æœã€‚ åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªäººæ“ä½œç›˜å­
> 
> è¯·ç”¨ä¿¡å·é‡æœºåˆ¶å®ç°çˆ¸çˆ¸ã€å¦ˆå¦ˆã€å„¿å­å’Œå¥³å„¿ä¹‹é—´çš„åŒæ­¥ä¸äº’æ–¥æ´»åŠ¨ã€‚
> 
> ```cpp semaphore plate = 1; //ç›˜å­æ˜¯å¦æœ‰ç©ºé—´ semaphore mutex = 1; semaphore apple = 0, orange = 0; //ç›˜å­ä¸­æ˜¯å¦æœ‰è‹¹æœã€æ¡”å­ dad() { while (true) { prepare an apple; P(plate); P(mutex) put the apple on the plate; V(mutex) V(apple); } } mom() { while (true) { prepare an orange; P(plate); P(mutex); put the orange on the plate; V(mutex) V(orange); } } son() { while (true) { P(orange); P(mutex); get an orange; V(mutex); V(plate); } } daughter() { while (true) { P(apple); P(mutex); get an apple; V(mutex); V(plate); } } ``` 
> 
> å› ä¸ºç¼“å†²åŒºå¤§å°å°±ä¸º1ï¼Œæ‰€ä»¥å¯ä»¥çœç•¥mutexä¿¡å·é‡ã€‚

#### é—®é¢˜3

> æ¡Œå­ä¸Šæœ‰ä¸€åªç›˜å­ æœ€å¤šå¯ä»¥æ”¾å…¥2ä¸ªæ°´æœã€‚
> 
> çˆ¸çˆ¸è´Ÿè´£å‘ç›˜ä¸­æ”¾è‹¹æœï¼Œå¦ˆå¦ˆè´Ÿè´£å‘ç›˜ä¸­æ”¾æ¡”å­ï¼Œå¥³å„¿è´Ÿè´£å–å‡ºå¹¶æ¶ˆè´¹æ°´æœã€‚ å½“ä¸”ä»…å½“ç›˜å­ä¸­åŒæ—¶å­˜åœ¨è‹¹æœå’Œæ¡”å­æ—¶ï¼Œå¥³å„¿æ‰ä»ç›˜å­ä¸­å–å‡ºå¹¶æ¶ˆè´¹æ°´æœã€‚ ä¸å…å¤šäººåŒæ—¶ä½¿ç”¨ç›˜å­
> 
> è¯·ç”¨ä¿¡å·é‡æœºåˆ¶å®ç°çˆ¸çˆ¸ã€å¦ˆå¦ˆå’Œå¥³å„¿ä¹‹é—´çš„åŒæ­¥ä¸äº’æ–¥æ´»åŠ¨ã€‚
> 
> ```cpp semaphore apple = 0, orange = 0; //ç›˜å­ä¸­æ˜¯å¦æœ‰è‹¹æœã€æ¡”å­ semaphore empty_apple = 1, empty_orange = 1; //ç›˜å­æ˜¯å¦å¯æ”¾å…¥è‹¹æœã€æ¡”å­ semaphore mutex = 1; dad(){ while (true) { prepare an apple; P(empty_apple); P(mutex); put an apple on the plate; V(mutex); V(apple); } } mom(){ while (true) { prepare an orange; P(empty_orange); P(mutex); put an orange on the plate; V(mutex); V(orange); } } daughter() { while (true) { P(apple); P(orange); P(mutex); get an apple and an orange from plate; //å–æ°´æœ V(mutex); V(empty_apple); V(empty_orange); } } ``` 
> 
> è¿™é‡Œçš„mutexä¸å¯ä»¥çœç•¥ï¼Œç¼“å†²åŒºçš„å¤§å°ä¸ä¸º1ï¼Œèµ„æºä¿¡å·é‡æ— æ³•å…¼é¡¾äº’æ–¥ä¿¡å·é‡çš„å·¥ä½œã€‚

#### é—®é¢˜4

> å¥³å„¿ç”»ç”»ï¼Œçˆ¸çˆ¸ã€å¦ˆå¦ˆæ¬£èµã€‚
> 
> å¥³å„¿åœ¨ç™½æ¿ä¸Šç”»å®Œä¸€å¹…ç”»åï¼Œè¯·çˆ¸çˆ¸ã€å¦ˆå¦ˆå‡æ¬£èµè¿‡ä¸€éåï¼Œå†åˆ›ä½œæ–°ç”»ã€‚
> 
> è¯·ç”¨ä¿¡å·é‡æœºåˆ¶å®ç°å¥³å„¿ã€çˆ¸çˆ¸å’Œå¦ˆå¦ˆä¹‹é—´çš„åŒæ­¥ä¸äº’æ–¥æ´»åŠ¨ã€‚
> 
> ```cpp //çˆ¸çˆ¸ã€å¦ˆå¦ˆæ˜¯å¦å·²çœ‹è¿‡å¥³ç”»çš„æ–°ç”» semaphore empty_dad = 1, empty_mom = 1; //æ˜¯å¦å­˜åœ¨å¯ä¾›çˆ¸çˆ¸ã€å¦ˆå¦ˆçœ‹çš„æ–°ç”» semaphore full_dad = 0, full_mom = 0; daughter(){ while (true) { P(empty_dad); //çˆ¸çˆ¸æ˜¯å¦çœ‹è¿‡ P(empty_mom); //å¦ˆå¦ˆæ˜¯å¦çœ‹è¿‡ draw a new picture on the whiteboard; //ç”»ä¸€å¹…æ–°ç”» V(full_dad); //çˆ¸çˆ¸å¯ä»¥çœ‹äº† V(full_mom); //å¦ˆå¦ˆå¯ä»¥çœ‹äº† } } dad() { while (true) { P(full_dad); //ç™½æ¿ä¸Šæ˜¯å¦å­˜åœ¨æ²¡æœ‰çœ‹è¿‡çš„ç”» enjoy the picture on the whiteboard; //çœ‹ç”» V(empty_dad); //çˆ¸çˆ¸å·²çœ‹è¿‡æ–°ç”» } } mom() { while (true) { P(full_mom); //ç™½æ¿ä¸Šæ˜¯å¦å­˜åœ¨æ²¡æœ‰çœ‹è¿‡çš„ç”» enjoy the picture on the whiteboard; //çœ‹ç”» V(empty_mom); //å¦ˆå¦ˆå·²çœ‹è¿‡æ–°ç”» } } ``` 

#### é—®é¢˜5

> æœ‰ä¸€åº§ä¸œè¥¿æ–¹å‘çš„ç‹¬æœ¨æ¡¥ï¼Œæ¯æ¬¡åªèƒ½æœ‰ä¸€äººé€šè¿‡ï¼Œä¸”ä¸å…è®¸è¡Œäººåœ¨æ¡¥ä¸Šåœç•™ã€‚ä¸œã€è¥¿ä¸¤ç«¯å„æœ‰è‹¥å¹²è¡Œäººåœ¨ç­‰å¾…è¿‡æ¡¥ã€‚è¯·ç”¨Pã€Væ“ä½œæ¥å®ç°ä¸œè¥¿ä¸¤ç«¯è¡Œäººè¿‡æ¡¥é—®é¢˜ã€‚
> 
> ```cpp semaphore mutex = 1; //äº’æ–¥ä¿¡å·é‡ void east_west( ) { while (true) { P(mutex); //äº’æ–¥å…¶ä»–äººè¿‡æ¡¥ walk across the bridge from east to west;//è¡Œäººä»ä¸œå‘è¥¿è¿‡æ¡¥ V(mutex); //å…è®¸å…¶ä»–äººè¿‡æ¡¥ } } void west_east( ) { while (true) { P(mutex); //äº’æ–¥å…¶ä»–äººè¿‡æ¡¥ walk across the bridge from west to east;//è¡Œäººä»è¥¿å‘ä¸œè¿‡æ¡¥ V(mutex); //å…è®¸å…¶ä»–äººè¿‡æ¡¥ } } ``` 

#### é—®é¢˜6

> æœ‰ä¸€åº§ä¸œè¥¿æ–¹å‘çš„ç‹¬æœ¨æ¡¥
> 
> åŒä¸€æ–¹å‘çš„è¡Œäººå¯è¿ç»­è¿‡æ¡¥ã€‚å½“æŸä¸€æ–¹å‘æœ‰è¡Œäººè¿‡æ¡¥æ—¶ï¼Œå¦ä¸€æ–¹å‘è¡Œäººå¿…é¡»ç­‰å¾…ï¼Œç›´åˆ°å¯¹æ–¹å…¨éƒ¨é€šè¿‡ã€‚ æ¡¥ä¸Šæ²¡æœ‰è¡Œäººè¿‡æ¡¥æ—¶ï¼Œä»»ä½•ä¸€ç«¯çš„è¡Œäººå‡å¯ä¸Šæ¡¥ã€‚
> 
> è¯·ç”¨Pã€Væ“ä½œæ¥å®ç°ä¸œè¥¿ä¸¤ç«¯äººè¿‡æ¡¥é—®é¢˜ã€‚ 
> 
> ```cpp int countA=0, countB=0ï¼› semaphore mutex=1, muteA=1, mutexB=1; void east_west() { while (1) { P(mutexA); countA++; if (countA==1) P(mutex); V(mutexA); walk across the bridge from east to west; P(mutexA); countA--; if (countA==0) V(mutex); V(mutexA); } } void west_east() { while (1) { P(mutexB); countB++; if (countB==1) P(mutex); V(mutexB); walk across the bridge from west to east; P(mutexB); countB--; if (countB==0) V(mutex); V(mutexB); } } ``` 

#### é—®é¢˜7

> æœ‰ä¸€åº§ä¸œè¥¿æ–¹å‘çš„ç‹¬æœ¨æ¡¥ï¼Œ åŒä¸€æ–¹å‘çš„è¡Œäººå¯è¿ç»­è¿‡æ¡¥ã€‚
> 
> å½“æŸä¸€æ–¹å‘æœ‰è¡Œäººè¿‡æ¡¥æ—¶ï¼Œå¦ä¸€æ–¹å‘è¡Œäººå¿…é¡»ç­‰å¾…ã€‚ æ¡¥ä¸Šæ²¡æœ‰è¡Œäººæ—¶ï¼Œä»»ä½•ä¸€ç«¯çš„è¡Œäººå‡å¯ä¸Šæ¡¥ã€‚ å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œç‹¬æœ¨æ¡¥çš„æœ€å¤§æ‰¿é‡ä¸º4äººï¼Œå³åŒæ—¶ä½äºæ¡¥ä¸Šçš„è¡Œäººæ•°ç›®ä¸èƒ½è¶…è¿‡4ã€‚
> 
> è¯·ç”¨Pã€Væ“ä½œæ¥å®ç°ä¸œè¥¿ä¸¤ç«¯äººè¿‡æ¡¥é—®é¢˜ã€‚ 
> 
> ```cpp int countA=0, countB=0ï¼› semaphore mutex=1, muteA=1, mutexB=1,count=4; void east_west() { while (1) { P(mutexA); countA++; if (countA==1) P(mutex); V(mutexA); P(count); walk across the bridge from east to west; V(count); P(mutexA); countA--; if (countA==0) V(mutex); V(mutexA); } } void west_east() { while (1) { P(mutexB); countB++; if (countB==1) P(mutex); V(mutexB); P(count); walk across the bridge from west to east; V(count); P(mutexB); countB--; if (countB==0) V(mutex); V(mutexB); } } ``` 

#### é—®é¢˜8 

> æŸå¯ºåº™æœ‰å°å’Œå°šå’Œè€å’Œå°šå„è‹¥å¹²äººï¼Œæ°´ç¼¸ä¸€åªï¼Œç”±å°å’Œå°šææ°´å…¥ç¼¸ç»™è€å’Œå°šé¥®ç”¨ã€‚æ°´ç¼¸å¯å®¹æ°´mæ¡¶ï¼Œæ°´å–è‡ªåŒä¸€å£æ°´äº•ä¸­ã€‚æ°´äº•å¾„çª„ï¼Œæ¯æ¬¡ä»…èƒ½å®¹ä¸€åªæ°´æ¡¶å–æ°´ï¼Œæ°´æ¡¶æ€»æ•°ä¸ºnä¸ªã€‚è‹¥æ¯æ¬¡ææ°´ã€å–æ°´ä»…ä¸º1æ¡¶ï¼Œè¯•ç”¨P, Væ“ä½œæè¿°å°å’Œå°šå’Œè€å’Œå°šææ°´ã€å–æ°´çš„æ´»åŠ¨è¿‡ç¨‹
> 
> ```cpp semaphore mutex1=1, mutex2=1; semaphore empty=m, full=0; semaphore count=n; process å°å’Œå°š(i) (i=1ï¼Œ2ï¼Œâ€¦) begin repeat P(empty); //æ°´ç¼¸æ»¡å¦? P(count); //å–å¾—æ°´æ¡¶ P(mutex1); //äº’æ–¥ä»äº•ä¸­å–æ°´ ä»äº•ä¸­å–æ°´; V(mutex1); P(mutex2); //äº’æ–¥ä½¿ç”¨æ°´ç¼¸ å€’æ°´å…¥ç¼¸; V(mutex2); V(count); //å½’è¿˜æ°´æ¡¶ V(full); //å¤šäº†ä¸€æ¡¶æ°´ until false; end process è€å’Œå°š(å–æ°´)j(j=1ï¼Œ2ï¼Œâ€¦) begin repeat P(full); //æœ‰æ°´å—? P(count); //ç”³è¯·æ°´æ¡¶ P(mutex2); //äº’æ–¥å–æ°´ ä»ç¼¸ä¸­å–æ°´; V(mutex2); V(count); //å½’è¿˜æ°´æ¡¶ V(empty); //æ°´ç¼¸ä¸­å°‘äº†ä¸€æ¡¶æ°´ until false; end ``` 

#### é—®é¢˜9

> Nä¸ªç”Ÿäº§è€…è¿›ç¨‹å’ŒMä¸ªæ¶ˆè´¹è€…è¿›ç¨‹å…±äº«å¤§å°ä¸ºKçš„ç¼“å†²åŒºï¼Œéµå¾ªè§„åˆ™å¦‚ä¸‹ï¼š è¿›ç¨‹ä¹‹é—´å¿…é¡»ä»¥äº’æ–¥æ–¹å¼è®¿é—®ç¼“å†²åŒºï¼› å¯¹æ¯1æ¡æ”¾å…¥ç¼“å†²åŒºçš„æ•°æ®ï¼Œæ‰€æœ‰æ¶ˆè´¹è€…éƒ½å¿…é¡»æ¥æ”¶1æ¬¡ï¼› ç¼“å†²åŒºæ»¡æ—¶ï¼Œç”Ÿäº§è€…å¿…é¡»é˜»å¡ï¼› ç¼“å†²åŒºç©ºæ—¶ï¼Œæ¶ˆè´¹è€…å¿…é¡»é˜»å¡ã€‚ è¯·ç”¨Pã€Væ“ä½œå®ç°å…¶åŒæ­¥è¿‡ç¨‹ï¼Œé¡»è¯´æ˜ä¿¡å·é‡å«ä¹‰ã€‚
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/45fe74fd6f8b.png)![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/4e85f3c406c8.png)

* * *

## è¿›ç¨‹é—´é€šä¿¡

> Inter Process Communication: IPC æ˜¯æŒ‡è¿›ç¨‹ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢

* * *

### åŸºæœ¬æ¦‚å¿µ

> è¿›ç¨‹é€šä¿¡åˆ†ä¸ºä¸¤ç±»ï¼š
> 
>   * ä½çº§é€šä¿¡ï¼šä»¥ä¿¡å·é‡ä½œä¸ºé€šä¿¡å·¥å…·ï¼Œäº¤æ¢çš„ä¿¡æ¯é‡å°‘ã€‚
>   * é«˜çº§é€šä¿¡ï¼šæ“ä½œç³»ç»Ÿæ‰€æä¾›çš„ä¸€ç»„é€šä¿¡å‘½ä»¤ï¼Œé«˜æ•ˆåœ°ä¼ é€å¤§é‡æ•°æ®ã€‚ 
>     * å…±äº«å­˜å‚¨ï¼ˆShared Memoryï¼‰
>     * æ¶ˆæ¯ä¼ é€’/æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Passing/Message Queueï¼‰
>     * ç®¡é“ï¼ˆPipeï¼‰
>     * å¥—æ¥å­—ï¼ˆSocketï¼‰
>     * æ–‡ä»¶ï¼ˆFileï¼‰
>     * ä¿¡å·ï¼ˆSignalï¼‰
>     * å†…å­˜æ˜ å°„æ–‡ä»¶ï¼ˆMemory Mapped Fileï¼‰
> 

> 
> å…±äº«å­˜å‚¨ï¼š
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/82a798fff3c7.png)

* * *

### æ¶ˆæ¯ä¼ é€’

>   * æ•°æ®äº¤æ¢ä»¥æ ¼å¼åŒ–çš„æ¶ˆæ¯ä¸ºå•ä½ï¼›ç›´æ¥åˆ©ç”¨ç³»ç»Ÿæä¾›çš„ä¸€ç»„é€šä¿¡å‘½ä»¤ï¼ˆåŸè¯­ï¼‰è¿›è¡Œé€šä¿¡ã€‚ 
>     * é—´æ¥é€šä¿¡æ–¹å¼ ï¼ˆIndirect Communicationï¼‰ 
>       * ä¸­ä»‹ï¼šä¿¡ç®±ã€‚
>       * å‘é€è¿›ç¨‹å‘é€ç»™ç›®æ ‡è¿›ç¨‹çš„æ¶ˆæ¯å­˜æ”¾ä¿¡ç®±ï¼› æ¥æ”¶è¿›ç¨‹åˆ™ä»è¯¥ä¿¡ç®±ä¸­ï¼Œå–å‡ºå‘é€ç»™è‡ªå·±çš„æ¶ˆæ¯ï¼›
>       * æ¶ˆæ¯åœ¨ä¿¡ç®±ä¸­å®‰å…¨åœ°ä¿å­˜ï¼Œåªå…è®¸æ ¸å‡†çš„ç”¨æˆ·è¯»å–ã€‚
>       * ç³»ç»Ÿä¸ºä¿¡ç®±é€šä¿¡æä¾›äº†è‹¥å¹²æ¡åŸè¯­ï¼Œåˆ†åˆ«ç”¨äºä¿¡ç®±çš„åˆ›å»ºã€æ’¤æ¶ˆå’Œæ¶ˆæ¯çš„å‘é€ã€æ¥æ”¶ç­‰ã€‚
>     * ç›´æ¥é€šä¿¡æ–¹å¼ï¼ˆDirect Communicationï¼‰ 
>       * ç›´æ¥æŠŠæ¶ˆæ¯å‘é€ç»™ç›®æ ‡è¿›ç¨‹ã€‚
>   * è·¨èŠ‚ç‚¹çš„è¿›ç¨‹é—´é€šä¿¡ 
>     * å¥—æ¥å­—ï¼ˆsocketï¼‰ 
> 

* * *

### ç®¡é“ï¼ˆPipeï¼‰é€šä¿¡

ç”¨äºè¿æ¥ä¸€ä¸ªè¯»è¿›ç¨‹å’Œä¸€ä¸ªå†™è¿›ç¨‹ä»¥å®ç°ä»–ä»¬ä¹‹é—´é€šä¿¡çš„å…±äº«æ–‡ä»¶ï¼Œåˆåpipeæ–‡ä»¶ã€‚

  * æ— åç®¡é“ï¼ˆunnamed pipeï¼‰ 
    * $ ls | grep x
  * å‘½åç®¡é“ï¼ˆnamed pipeï¼‰ 
    * $ mkfifo mypipe

* * *

## æ­»é” 

> å¤šä¸ªè¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å› äº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§åƒµå±€ï¼ˆDeadly- Embraceï¼‰ï¼Œå½“è¿›ç¨‹å¤„äºè¿™ç§åƒµæŒçŠ¶æ€æ—¶ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½å°†æ— æ³•å‘å‰æ¨è¿›ã€‚

* * *

### äº§ç”Ÿæ­»é”çš„åŸå› 

>   * èµ„æºä¸è¶³å¯¼è‡´çš„èµ„æºç«äº‰ï¼šå¤šä¸ªè¿›ç¨‹æ‰€å…±äº«çš„èµ„æºä¸è¶³ï¼Œå¼•èµ·å®ƒä»¬å¯¹èµ„æºçš„ç«äº‰è€Œäº§ç”Ÿæ­»é”ã€‚
>   * å¹¶å‘æ‰§è¡Œçš„é¡ºåºä¸å½“ï¼šè¿›ç¨‹è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè¯·æ±‚å’Œé‡Šæ”¾èµ„æºçš„é¡ºåºä¸å½“ï¼Œè€Œå¯¼è‡´è¿›ç¨‹æ­»é”ã€‚
> 

* * *

### ç³»ç»Ÿæ¨¡å‹

>   * èµ„æºï¼ˆR1, R2, . . ., Rmï¼‰ 
>     * CPU, memory, I/O devices
>   * èµ„æºRiæ‹¥æœ‰çš„å®ä¾‹æ•° Wiï¼ˆinstanceï¼‰
>   * è¿›ç¨‹ä½¿ç”¨èµ„æºçš„æ–¹å¼ 
>     * è¯·æ±‚ï¼ˆrequestï¼‰
>     * å ç”¨/ä½¿ç”¨ï¼ˆuseï¼‰
>     * é‡Šæ”¾ï¼ˆreleaseï¼‰
> 

* * *

### èµ„æºç±»å‹

>   * é‡ç”¨å‹èµ„æºï¼ˆReusable Resourceï¼‰ 
>     * ä¸€æ¬¡åªèƒ½ä¾›ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ï¼Œä¸ä¼šç”±äºä½¿ç”¨è€Œè€—å°½
>     * ä¾‹: CPUã€ I/Oé€šé“ã€ä¸»å­˜å’Œè¾…å­˜ã€ è®¾å¤‡ã€æ–‡ä»¶ã€æ•°æ®åº“ã€ä¿¡å·é‡ç­‰æ•°æ®ç»“æ„
>   * æ¶ˆè´¹å‹èµ„æºï¼ˆConsumable Resourceï¼‰ 
>     * å¯ä»¥åˆ›å»ºå¹¶ä¸”å¯ä»¥é”€æ¯çš„èµ„æº æ•°ç›®æ²¡æœ‰é™åˆ¶ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹å¾—åˆ°ä¸€ä¸ªå¯æ¶ˆè´¹èµ„æºåï¼Œè¿™ä¸ªèµ„æºå°±ä¸å†å­˜åœ¨äº†
>     * ä¾‹: ä¸­æ–­ã€ä¿¡å·ã€ æ¶ˆæ¯ã€ I/Oç¼“å†²åŒºä¸­çš„ä¿¡æ¯
> 

* * *

### èµ„æºåˆ†é…å›¾

> RAG: Resource-Allocation Graph
> 
> è¿›ç¨‹ï¼šP = {P1, P2, â€¦, Pn}
> 
> èµ„æºï¼šR = {R1, R2, â€¦, Rm}
> 
> èµ„æºè¯·æ±‚è¾¹ï¼ˆrequestï¼‰ï¼š Pi â†’ Rj
> 
> èµ„æºåˆ†é…è¾¹ï¼ˆassignment ï¼‰ï¼šRj â†’ Pi 
> 
> ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/8f21565d71ac.png)

#### å®ä¾‹

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/04fdf8afd156.png) å®ä¾‹  ![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/1e7c9624e405.png) æ­»é” 

#### 

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/ae7a7ab11171.png) å¸¦ç¯ä½†æ— æ­»é” 

* * *

### æ­»é”çš„å……è¦æ¡ä»¶ 

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/2666d652b870.png)

> **äº’æ–¥æ¡ä»¶**
> 
> è¿›ç¨‹å¯¹æ‰€åˆ†é…åˆ°çš„èµ„æºè¿›è¡Œæ’å®ƒæ€§ä½¿ç”¨ã€‚å¦‚æœæ­¤æ—¶è¿˜æœ‰å…¶å®ƒè¿›ç¨‹ç”³è¯·è¯¥èµ„æºï¼Œåˆ™åªèƒ½é˜»å¡ï¼Œç›´è‡³å æœ‰è¯¥èµ„æºçš„è¿›ç¨‹é‡Šæ”¾ã€‚
> 
> **å æœ‰ä¸”ç­‰å¾…ï¼ˆè¯·æ±‚å’Œä¿æŒæ¡ä»¶ï¼‰**
> 
> è¿›ç¨‹å·²ç»å æœ‰äº†è‡³å°‘ä¸€ä¸ªèµ„æºï¼Œåˆæå‡ºäº†æ–°çš„èµ„æºè¦æ±‚ï¼Œè€Œè¯¥èµ„æºå·²è¢«å…¶å®ƒè¿›ç¨‹å æœ‰ï¼Œæ­¤æ—¶è¯·æ±‚è¿›ç¨‹é˜»å¡ï¼Œä¸”å¯¹å·²ç»è·å¾—çš„å…¶å®ƒèµ„æºä¿æŒä¸æ”¾ã€‚ 
> 
> **éæŠ¢å ï¼ˆéå‰¥å¤ºï¼‰æ¡ä»¶**
> 
> è¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½è¢«å‰¥å¤ºï¼Œåªèƒ½åœ¨ä½¿ç”¨å®Œæ—¶ç”±è‡ªå·±é‡Šæ”¾ã€‚
> 
> **å¾ªç¯ç­‰å¾…æ¡ä»¶**
> 
> åœ¨å‘ç”Ÿæ­»é”æ—¶ï¼Œå­˜åœ¨ä¸€ä¸ªè¿›ç¨‹â€”èµ„æºçš„å°é—­çš„ç¯å½¢é“¾ã€‚
> 
> ä»¥ä¸Šå››æ¡ç¼ºä¸€ä¸å¯ã€‚

* * *

### å¤„ç†æ­»é”çš„åŸºæœ¬æ–¹æ³• 

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/8d2635cc4a9c.png)

#### æ­»é”é¢„é˜²

> é€šè¿‡é™åˆ¶ç”³è¯·èµ„æºçš„æ–¹æ³•æ¥ç ´åäº§ç”Ÿæ­»é”çš„æ¡ä»¶ï¼ˆå››ä¸ªæ–¹é¢ï¼‰
> 
> **äº’æ–¥æ¡ä»¶**
> 
> ç”±èµ„æºçš„å›ºæœ‰ç‰¹æ€§æ‰€å†³å®šï¼Œä¸èƒ½è¢«ç ´åã€‚
> 
> **æ‰“ç ´â€œå æœ‰å’Œç­‰å¾…â€**
> 
> è¿›ç¨‹å¼€å§‹è¿è¡Œå‰ä¸€æ¬¡æ€§åœ°ç”³è¯·å…¨éƒ¨èµ„æºï¼Œå¯åŠ¨åä¸å†ç”³è¯·ã€‚
> 
> ä¼˜ç‚¹: ç®€å•ã€æ˜“äºå®ç°ã€å®‰å…¨
> 
> ç¼ºç‚¹: æ— æ³•é¢„çŸ¥æ‰€éœ€èµ„æºçš„å…¨é›†ï¼›è¿›ç¨‹å¯èƒ½è¢«é˜»å¡å¾ˆé•¿æ—¶é—´ï¼Œç­‰å¾…èµ„æºï¼Œå‘ç”Ÿé¥¥é¥¿ï¼›èµ„æºä¸¥é‡æµªè´¹ï¼ˆæŸä¸ªèµ„æºå¯èƒ½åªç”¨æçŸ­æ—¶é—´ï¼‰
> 
> **æ‰“ç ´â€œéæŠ¢å â€**
> 
> èµ„æºæ‹¥æœ‰è€…æ‹’ç»å…¶å®ƒè¯·æ±‚åé‡Šæ”¾èµ„æºï¼Œæˆ–ä»è¢«ç”³è¯·èµ„æºæ‹¥æœ‰è€…å¤„æŠ¢å 
> 
> é€‚ç”¨æ¡ä»¶ï¼šèµ„æºçš„çŠ¶æ€å¯ä¿å­˜å’Œæ¢å¤ï¼Œå¦‚CPUå¯„å­˜å™¨ã€å†…å­˜ç©ºé—´ï¼›ä¸é€‚ç”¨äºæ‰“å°æœºã€ç£å¸¦æœº
> 
> ç¼ºç‚¹ï¼šå®ç°å¤æ‚ï¼Œä»£ä»·å¤§ï¼Œåå¤ç”³è¯·/é‡Šæ”¾èµ„æºï¼Œå‘¨è½¬æ—¶é—´é•¿ï¼Œç³»ç»Ÿååé‡ä½ï¼›undoã€redo
> 
> **æ‰“ç ´â€œç¯è·¯ç­‰å¾…â€**
> 
> ç³»ç»ŸæŠŠæ‰€æœ‰èµ„æºæŒ‰ç±»å‹è¿›è¡Œçº¿æ€§æ’é˜Ÿï¼›æ‰€æœ‰è¿›ç¨‹å¯¹èµ„æºçš„è¯·æ±‚å¿…é¡»ä¸¥æ ¼æŒ‰èµ„æºåºå·é€’å¢çš„é¡ºåºæå‡ºï¼Œä¿è¯ä»»ä½•æ—¶åˆ»çš„èµ„æºåˆ†é…å›¾ä¸å‡ºç°ç¯è·¯ã€‚å³ï¼šå¦‚æœä¸€ä¸ªè¿›ç¨‹å·²ç»åˆ†é…äº†Rç±»å‹çš„èµ„æºï¼Œå®ƒæ¥ä¸‹æ¥è¯·æ±‚çš„èµ„æºåªèƒ½æ˜¯æ’åœ¨Rç±»å‹ä¹‹åçš„èµ„æºã€‚
> 
> æ‘’å¼ƒâ€œç¯è·¯ç­‰å¾…â€ æ–¹æ³•çš„é—®é¢˜ï¼šèµ„æºå˜åŒ–ï¼šèµ„æºåºå·è¦ç¨³å®šï¼› èµ„æºæµªè´¹ï¼š åªç”¨ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªèµ„æºï¼› ä½¿ç”¨é¡ºåºå’Œç”³è¯·é¡ºåºä¸ä¸€è‡´ï¼› ç¨‹åºè®¾è®¡ï¼šè€ƒè™‘ç”³è¯·é¡ºåºï¼Œç¼–å†™å›°éš¾

#### æ­»é”é¿å…

> ä¸éœ€äº‹å…ˆç ´åäº§ç”Ÿæ­»é”çš„æ¡ä»¶
> 
> åœ¨ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯¹è¿›ç¨‹å‘å‡ºçš„æ¯ä¸€ä¸ªèµ„æºç”³è¯·è¿›è¡Œæ£€æŸ¥ï¼Œå¹¶æ ¹æ®æ£€æŸ¥ç»“æœå†³å®šæ˜¯å¦åˆ†é…èµ„æºï¼Œè‹¥åˆ†é…åç³»ç»Ÿå¯èƒ½å‘ç”Ÿæ­»é”ï¼Œåˆ™ä¸äºˆåˆ†é…ï¼ˆé˜»å¡ï¼‰ï¼Œå¦åˆ™äºˆä»¥åˆ†é…ã€‚
> 
> é˜²æ­¢ç³»ç»Ÿè¿›å…¥**ä¸å®‰å…¨çŠ¶æ€** , ä»è€Œé¿å…å‘ç”Ÿæ­»é”ã€‚
> 
> **å®‰å…¨çŠ¶æ€ï¼š** å­˜åœ¨å®‰å…¨åºåˆ—çš„ç³»ç»ŸçŠ¶æ€
> 
> **å®‰å…¨åºåˆ—** ï¼šä¸€ä¸ªè¿›ç¨‹åºåˆ—{P1ï¼Œâ€¦ï¼ŒPn}æ˜¯å®‰å…¨çš„ï¼šå¦‚æœå¯¹äºæ¯ä¸€ä¸ªè¿›ç¨‹Pi(1â‰¤iâ‰¤nï¼‰ï¼Œå®ƒå°šéœ€è¦çš„èµ„æºé‡ä¸è¶…è¿‡ç³»ç»Ÿå½“å‰å‰©ä½™èµ„æºé‡ä¸æ‰€æœ‰è¿›ç¨‹Pj (j < i )å½“å‰å æœ‰èµ„æºé‡ä¹‹å’Œã€‚
> 
> **å®‰å…¨çŠ¶æ€æ—¶ä¸€å®šæ²¡æœ‰æ­»é”** ï¼ˆå½“å‰çŠ¶æ€éæ­»é”ï¼Œ**å¹¶ä¸ä¿è¯æœªæ¥** ï¼‰
> 
> **æ­»é”ä¸€å®šæ˜¯ä¸å®‰å…¨çŠ¶æ€** ï¼Œä½†ä¸å®‰å…¨çŠ¶æ€ä¸‹ä¸ä¸€å®šä¼šæ­»é”
> 
> æ€»ç»“
> 
>   * ä¼˜ç‚¹ 
>     * æ¯”æ­»é”é¢„é˜²é™åˆ¶å°‘
>     * æ— æ­»é”æ£€æµ‹æ–¹æ³•ä¸­çš„èµ„æºå‰¥å¤ºï¼Œè¿›ç¨‹é‡å¯
>   * ç¼ºç‚¹ 
>     * å¿…é¡»äº‹å…ˆå£°æ˜æ¯ä¸ªè¿›ç¨‹è¯·æ±‚çš„æœ€å¤§èµ„æº
>     * è¿›ç¨‹å¿…é¡»æ˜¯æ— å…³çš„ï¼šæ²¡æœ‰ä»»ä½•åŒæ­¥è¦æ±‚çš„é™åˆ¶
>     * è¿›ç¨‹æ•°é‡ä¿æŒä¸å˜ï¼Œåˆ†é…çš„èµ„æºæ•°ç›®å¿…é¡»æ˜¯å›ºå®šçš„
>     * åœ¨å æœ‰èµ„æºæ—¶ï¼Œè¿›ç¨‹ä¸èƒ½é€€å‡º
>     * ä¿å®ˆçš„åˆ†é…æ–¹æ¡ˆï¼ˆè®¾ç½®æ¡ä»¶ä¸¥æ ¼ï¼‰
> 

**é“¶è¡Œå®¶ç®—æ³•**

> å½“ç”¨æˆ·ç”³è¯·èµ„æºæ—¶ï¼Œç³»ç»Ÿåˆ¤æ–­å¦‚æœæŠŠè¿™äº›èµ„æºåˆ†å‡ºå»ï¼Œç³»ç»Ÿæ˜¯å¦è¿˜å¤„äºå®‰å…¨çŠ¶æ€ã€‚
> 
> è‹¥æ˜¯ï¼Œå°±å¯ä»¥åˆ†é…è¿™äº›èµ„æºï¼› å¦åˆ™ï¼Œæš‚æ—¶ä¸åˆ†é…ï¼Œé˜»å¡è¿›ç¨‹ã€‚ 

**å®‰å…¨æ€§ç®—æ³•**

>   1. è®¾Workå’ŒFinishåˆ†åˆ«æ˜¯é•¿åº¦ä¸ºmå’Œnçš„å‘é‡ï¼ŒæŒ‰å¦‚ä¸‹æ–¹å¼è¿›è¡Œåˆå§‹åŒ–:
> 

>   * Work = Available
>   * Finish[i] = false for i = 1,2, â€¦, n.
> 

>   1. æŸ¥æ‰¾è¿™æ ·çš„iä½¿å…¶æ»¡è¶³:
> 

>   * Finish[i] = false
>   * Need[i] <= Work
>   * å¦‚æœæœªæ‰¾åˆ°ï¼Œè½¬ç¬¬4æ­¥.
> 

>   1. Work = Work + Allocation[i]; Finish[i] = Trueï¼›è¿”å›ç¬¬2æ­¥
>   2. å¦‚æœå¯¹æ‰€æœ‰çš„i, Finish[i]==Trueï¼Œé‚£ä¹ˆå¤„äºå®‰å…¨çŠ¶æ€ï¼Œå¦åˆ™ä¸å®‰å…¨çŠ¶æ€ã€‚
> 

**èµ„æºåˆ†é…ç®—æ³•**

>   * Requestiä¸ºè¿›ç¨‹Piçš„è¯·æ±‚å‘é‡ã€‚å¦‚æœRequesti [j] = k é‚£ä¹ˆè¿›ç¨‹Pi æ‰€éœ€è¦çš„èµ„æºç±»å‹Rjçš„å®ä¾‹æ•°é‡ä¸ºkã€‚å½“è¿›ç¨‹Piåšå‡ºèµ„æºè¯·æ±‚æ—¶ï¼Œæ‰§è¡Œï¼š 
>     * è‹¥Requesti <=Needi è½¬1.2ï¼›å¦åˆ™ï¼Œå‡ºé”™é€€å‡ºï¼›
>     * è‹¥Requesti <=Available è½¬2ï¼› å¦åˆ™ Pié˜»å¡ï¼›
>   * å‡å®šç³»ç»Ÿå¯ä»¥åˆ†é…ç»™è¿›ç¨‹Piæ‰€è¯·æ±‚çš„èµ„æºï¼Œå¹¶æŒ‰å¦‚ä¸‹æ–¹å¼ä¿®æ”¹çŠ¶æ€: 
>     * Available = Available - Requesti;
>     * Allocationi = Allocationi + Requesti;
>     * Needi = Needi â€“ Requesti;
>   * ç³»ç»Ÿæ‰§è¡Œå®‰å…¨æ€§ç®—æ³• 
>     * å¦‚æœå¤„äºå®‰å…¨çŠ¶æ€ï¼Œé‚£ä¹ˆPiå¯åˆ†é…åˆ°å…¶æ‰€éœ€èµ„æº;
>     * å¦‚æœæ–°çŠ¶æ€ä¸å®‰å…¨ï¼Œé‚£ä¹ˆè¿›ç¨‹Piå¿…é¡»ç­‰å¾…ï¼Œå¹¶æ¢å¤åˆ°åŸå…ˆèµ„æºåˆ†é…çŠ¶æ€
> 

**å®ä¾‹**

![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/22ee0204fc78.png)![](/images/posts/ç”µå­ç§‘æŠ€å¤§å­¦æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè¿›ç¨‹ä¸å¹¶å‘æ§åˆ¶/b24aceee09e8.png)

#### æ­»é”æ£€æµ‹

å¦‚æœä¸€ä¸ªç³»ç»Ÿæ—¢ä¸é‡‡ç”¨æ­»é”é¢„é˜²ç®—æ³•ä¹Ÿä¸é‡‡ç”¨æ­»é”é¿å…ç®—æ³•ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå‡ºç°æ­»é”ã€‚å› æ­¤ï¼Œç³»ç»Ÿåº”è¯¥æä¾›ï¼šç”¨æ¥æ£€æŸ¥ç³»ç»ŸçŠ¶æ€æ˜¯å¦å‡ºç°æ­»é”çš„æ£€æµ‹ç®—æ³•ã€ä»æ­»é”çŠ¶æ€ä¸­æ¢å¤çš„æ–¹æ³•ã€‚

>   * æ­»é”æ£€æµ‹ 
>     * æ²¡æœ‰ä»»ä½•é¢„å…ˆé™åˆ¶æªæ–½
>     * èµ„æºåˆ†é…æ—¶ä¸æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦ä¼šè¿›å…¥ä¸å®‰å…¨çŠ¶æ€ï¼Œè¢«è¯·æ±‚çš„èµ„æºéƒ½è¢«æˆäºˆç»™è¿›ç¨‹
>     * ç³»ç»Ÿå¯èƒ½å‡ºç°æ­»é”
>     * å‘¨æœŸæ€§æ£€æµ‹æ˜¯å¦å‡ºç°æ­»é”ï¼ˆæ‰§è¡Œæ£€æµ‹ç®—æ³•ï¼‰
>   * æ£€æµ‹æ—¶æœº 
>     * åœ¨æ¯ä¸ªèµ„æºè¯·æ±‚æ—¶éƒ½è¿›è¡Œ
>     * å®šæ—¶æ£€æµ‹
>     * ç³»ç»Ÿèµ„æºåˆ©ç”¨ç‡ä¸‹é™æ—¶æ£€æµ‹æ­»é”
>   * ç®€åŒ–èµ„æºåˆ†é…å›¾ 
>     * ç®€åŒ–è§„åˆ™ï¼šè‹¥å·²åˆ†é…å’Œç”³è¯·èƒ½æ»¡è¶³éœ€æ±‚ï¼Œåˆ™åˆ é™¤è¾¹ï¼Œä½¿å…¶æˆä¸ºå­¤ç«‹ç‚¹â†’è¿è¡Œå®Œæ¯•åèµ„æºé‡Šæ”¾ï¼›
>     * åœ¨ç»è¿‡ä¸€ç³»åˆ—çš„ç®€åŒ–åï¼Œè‹¥èƒ½æ¶ˆå»å›¾ä¸­çš„æ‰€æœ‰è¾¹ï¼Œä½¿æ‰€æœ‰çš„è¿›ç¨‹éƒ½æˆä¸ºå­¤ç«‹ç»“ç‚¹ï¼Œåˆ™ç§°è¯¥å›¾æ˜¯å¯å®Œå…¨ç®€åŒ–çš„ï¼›åä¹‹çš„æ˜¯ä¸å¯å®Œå…¨ç®€åŒ–çš„ã€‚
>     * æ­»é”å®šç†ï¼š**æ­»é”çŠ¶æ€çš„å……è¦æ¡ä»¶ï¼šèµ„æºåˆ†é…å›¾ä¸å¯å®Œå…¨ç®€åŒ–**
>   * æ­»é”å®šç†ä¸ä¸å®‰å…¨çŠ¶æ€çš„å…³ç³» 
>     * æ­»é”å®šç†ï¼šå½“å‰è¯·æ±‚ï¼ˆrequestï¼‰ 
>     * ä¸å®‰å…¨çŠ¶æ€ï¼šæ‰€æœ‰å‰©ä½™è¯·æ±‚ï¼ˆneedï¼‰
> 

#### æ­»é”è§£é™¤

>   * æ’¤é”€è¿›ç¨‹ 
>     * ç»ˆæ­¢æ‰€æœ‰çš„æ­»é”è¿›ç¨‹
>     * ä¸€æ¬¡ç»ˆæ­¢ä¸€ä¸ªè¿›ç¨‹ç›´åˆ°å–æ¶ˆæ­»é”å¾ªç¯â†’åŸºäºæŸç§æœ€å°ä»£ä»·åŸåˆ™
>   * é€‰æ‹©åŸåˆ™ 
>     * å·²æ¶ˆè€—CPUæ—¶é—´æœ€å°‘
>     * åˆ°ç›®å‰ä¸ºæ­¢äº§ç”Ÿçš„è¾“å‡ºé‡æœ€å°‘
>     * é¢„è®¡å‰©ä½™çš„æ—¶é—´æœ€é•¿
>     * ç›®å‰ä¸ºæ­¢åˆ†é…çš„èµ„æºæ€»é‡æœ€å°‘
>     * ä¼˜å…ˆçº§æœ€ä½
>   * èµ„æºå‰¥å¤ºï¼šé€æ­¥ä»è¿›ç¨‹ä¸­æŠ¢å èµ„æºç»™å…¶å®ƒè¿›ç¨‹ï¼Œç›´åˆ°æ­»é”ç¯è¢«æ‰“ç ´ä¸ºæ­¢ ã€‚ 
>     * é€‰æ‹©ä¸€ä¸ªç‰ºç‰²å“ï¼šæŠ¢å å“ªäº›èµ„æºå’Œå“ªä¸ªè¿›ç¨‹ï¼Œç¡®å®šæŠ¢å é¡ºåºä»¥ä½¿ä»£ä»·æœ€å°ã€‚
>     * é¥¥é¥¿ï¼šç¡®ä¿èµ„æºä¸ä¼šæ€»æ˜¯ä»åŒä¸€ä¸ªè¿›ç¨‹ä¸­è¢«æŠ¢å 
>   * è¿›ç¨‹å›é€€ï¼šæŠŠæ¯ä¸ªæ­»é”è¿›ç¨‹å¤‡ä»½åˆ°å‰é¢å®šä¹‰çš„æŸäº›æ£€æŸ¥ç‚¹ï¼Œå¹¶ä¸”é‡æ–°å¯åŠ¨æ‰€æœ‰è¿›ç¨‹ï¼éœ€è¦ç³»ç»Ÿæ„é€ é‡æ–°è¿è¡Œå’Œé‡æ–°å¯åŠ¨æœºåˆ¶
> 

#### æ­»é”å¿½ç•¥

é€šå¸¸å®é™…ä¸­é‡‡ç”¨çš„æ–¹å¼...æ‘†çƒ‚çš„æˆæœ¬æœ€ä½ã€‚ 

* * *

## å†™åœ¨æœ€å

ç»ˆäºå†™å®Œè¿™ä¸€éƒ¨åˆ†äº†ï¼Œæ˜¯çœŸçš„å¤šï¼Œæ•´æ•´20è¯¾æ—¶çš„å†…å®¹å•Šï¼
