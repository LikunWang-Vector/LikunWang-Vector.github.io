---
title: "25. å®æˆ˜ï¼šæŠ“å–ã€Šæœªé—»èŠ±åã€‹è§†é¢‘ï¼ˆxpath+çº¿ç¨‹æ± ï¼‰"
date: 2023-01-15
updated: 2023-01-15
categories:
  - Pythonçˆ¬è™«å…¥é—¨ã€è¿›é˜¶ä¸å®æˆ˜
tags:
  - éŸ³è§†é¢‘
  - çˆ¬è™«
  - çº¿ç¨‹æ± 
  - xpath
csdn_views: 447
csdn_likes: 5
csdn_comments: 3
csdn_favorites: 9
csdn_url: https://blog.csdn.net/m0_59180666/article/details/128694344
cover: /images/posts/25.-å®æˆ˜ï¼šæŠ“å–ã€Šæœªé—»èŠ±åã€‹è§†é¢‘ï¼ˆxpath+çº¿ç¨‹æ± ï¼‰/9bdef1a7a700.jpeg
lang_pair:
  en: "25. Practical: Scraping Anime Video with XPath + Thread Pool"
---

> æœ¬æ–‡è¿ç§»è‡ªCSDNåšå®¢
> åŸæ–‡é“¾æ¥ï¼š[25. å®æˆ˜ï¼šæŠ“å–ã€Šæœªé—»èŠ±åã€‹è§†é¢‘ï¼ˆxpath+çº¿ç¨‹æ± ï¼‰](https://blog.csdn.net/m0_59180666/article/details/128694344)
> ğŸ“Š 447 é˜…è¯» | ğŸ‘ 5 ç‚¹èµ | ğŸ’¬ 3 è¯„è®º | â­ 9 æ”¶è—

**ç›®å½•**

å‰è¨€ ï¼ˆ**é“¾æ¥åœ¨è¯„è®ºåŒº** ï¼‰ï¼ˆ**é“¾æ¥åœ¨è¯„è®ºåŒº** ï¼‰ï¼ˆ**é“¾æ¥åœ¨è¯„è®ºåŒº** ï¼‰

ç›®çš„

æ€è·¯

é¦–å…ˆï¼Œäº†è§£ä¸€ä¸‹ä¸€èˆ¬è§†é¢‘ç½‘ç«™æ˜¯å¦‚ä½•æ“ä½œè§†é¢‘èµ„æºçš„

å¦‚ä½•å®ç°ä¸Šè¿°åŠŸèƒ½ï¼Ÿ

æ ¸å¿ƒæ˜ç¡®

æ€è·¯æµç¨‹

ä»£ç å®ç°

å®Œæ•´ä»£ç 

è¿è¡Œæ•ˆæœ

æ€»ç»“

* * *

### å‰è¨€

æˆ‘ä»¬å·²ç»å­¦ä¹ äº†çˆ¬è™«çš„è®¸å¤šæ–¹æ³•ï¼Œæœ¬èŠ‚è¾ƒä¸ºç»¼åˆï¼Œå®ç°æŠ“å–æŸç½‘ç«™ï¼ˆ**é“¾æ¥åœ¨è¯„è®ºåŒº** ï¼‰çš„è§†é¢‘ã€‚æœ¬èŠ‚ä»¥ã€Šæœªé—»èŠ±åã€‹ä¸ºä¾‹ï¼Œå…¶ä»–èµ„æºå¯ä»¥è‡ªè¡Œä¿®æ”¹URLè¿›è¡ŒæŠ“å–ï¼Œå¤§åŒå°å¼‚ã€‚

![](/images/posts/25.-å®æˆ˜ï¼šæŠ“å–ã€Šæœªé—»èŠ±åã€‹è§†é¢‘ï¼ˆxpath+çº¿ç¨‹æ± ï¼‰/9bdef1a7a700.jpeg)

æœ¬èŠ‚åªå¯¹ä¸€é›†è¿›è¡ŒæŠ“å–ï¼Œå¯¹äºå…¶ä»–å‰§é›†å¯ä»¥é€šè¿‡åµŒå¥—å¾ªç¯ç®€å•åœ°å®Œæˆï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°ã€‚

* * *

### ç›®çš„

æŠ“å–æŸç½‘ç«™ï¼ˆ**é“¾æ¥åœ¨è¯„è®ºåŒº** ï¼‰ã€Šæœªé—»èŠ±åã€‹å‰§é›†

* * *

### æ€è·¯

#### é¦–å…ˆï¼Œäº†è§£ä¸€ä¸‹ä¸€èˆ¬è§†é¢‘ç½‘ç«™æ˜¯å¦‚ä½•æ“ä½œè§†é¢‘èµ„æºçš„

ç”¨æˆ·ä¸Šä¼  -> è½¬ç (æŠŠè§†é¢‘åšå¤„ç†, 2K, 1080, æ ‡æ¸…) -> åˆ‡ç‰‡å¤„ç†(æŠŠå•ä¸ªçš„æ–‡ä»¶è¿›è¡Œæ‹†åˆ†) -> ç”¨æˆ·æ‹‰åŠ¨è¿›åº¦æ¡è‡ªåŠ¨è¯»å–é™„è¿‘åˆ‡ç‰‡å¹¶åŠ è½½ 

#### å¦‚ä½•å®ç°ä¸Šè¿°åŠŸèƒ½ï¼Ÿ

éœ€è¦ä¸€ä¸ªæ–‡ä»¶æ¥è®°å½•ï¼šM3U8ã€‚å®ƒå®é™…ä¸Šè®°å½•äº†æ¯ä¸€ä¸ªåˆ‡ç‰‡ï¼ˆtsæ–‡ä»¶ï¼‰çš„åœ°å€ã€‚

> M3Uï¼ˆMoving Picture Experts Group Audio Layer 3 Uniform Resource Locatorï¼‰è¿™ç§[æ–‡ä»¶æ ¼å¼](https://baike.baidu.com/item/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/6156907?fromModule=lemma_inlink "æ–‡ä»¶æ ¼å¼")ï¼Œæœ¬è´¨ä¸Šè¯´ä¸æ˜¯éŸ³é¢‘æ–‡ä»¶ï¼Œå®ƒå¹¶ä¸èƒ½åœ¨è„±æœºæ¨¡å¼ä¸‹è¯»å–ç½‘ç»œèµ„æºéŸ³é¢‘ï¼Œå®ƒæ˜¯éŸ³é¢‘æ–‡ä»¶çš„åˆ—è¡¨æ–‡ä»¶ï¼Œæ˜¯[çº¯æ–‡æœ¬æ–‡ä»¶](https://baike.baidu.com/item/%E7%BA%AF%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6/4865229?fromModule=lemma_inlink "çº¯æ–‡æœ¬æ–‡ä»¶")ã€‚ä½ ä¸‹è½½ä¸‹æ¥æ‰“å¼€å®ƒï¼Œæ’­æ”¾è½¯ä»¶å¹¶ä¸æ˜¯æ’­æ”¾å®ƒï¼Œè€Œæ˜¯æ ¹æ®å®ƒçš„è®°å½•æ‰¾åˆ°ç½‘ç»œåœ°å€è¿›è¡Œåœ¨çº¿æ’­æ”¾ã€‚

è€ŒM3U8æ˜¯å¯¹M3Uæ–‡ä»¶çš„utf-8ç¼–ç ã€‚

#### æ ¸å¿ƒæ˜ç¡®

1\. æ‰¾åˆ°m3u8 (å„ç§æ‰‹æ®µ)  
2\. é€šè¿‡m3u8ä¸‹è½½åˆ°tsæ–‡ä»¶  
3\. å¯ä»¥é€šè¿‡å„ç§æ‰‹æ®µ(ä¸ä»…æ˜¯ç¼–ç¨‹æ‰‹æ®µ) æŠŠtsæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªmp4æ–‡ä»¶

#### æ€è·¯æµç¨‹

1\. æ‹¿åˆ°è§†é¢‘ç½‘ç«™çš„é¡µé¢æºä»£ç   
2\. ä»æºä»£ç ä¸­æå–åˆ°m3u8çš„url  
3\. ä¸‹è½½m3u8  
4\. è¯»å–m3u8æ–‡ä»¶, ä¸‹è½½è§†é¢‘  
5\. åˆå¹¶è§†é¢‘

* * *

### ä»£ç å®ç°

**å…ˆå¯¼åŒ…**

```python import requests from lxml import etree ``` 

**è®¿é—®é¡µé¢**

```python headers = { "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.192 Safari/537.36" } url = "è§è¯„è®ºåŒº" resp = requests.get(url, headers=headers) ``` 

**æŸ¥çœ‹é¡µé¢æºä»£ç ** ï¼Œæ‰¾m3u8

æ–¹æ³•ä¸€ï¼š

![](/images/posts/25.-å®æˆ˜ï¼šæŠ“å–ã€Šæœªé—»èŠ±åã€‹è§†é¢‘ï¼ˆxpath+çº¿ç¨‹æ± ï¼‰/0c7059c96e57.png)

æœç´¢m3u8ï¼Œæœç„¶æœ‰ä¸¤ä¸ªç»“æœã€‚æˆ‘ä»¬å®šç›ä¸€çœ‹ï¼šurlä¸next_urlï¼Œå®ƒä¸å°±æ˜¯æœ¬é›†å’Œä¸‹ä¸€é›†çš„m3u8åœ°å€å—ï¼Ÿç›´æ¥æ‰¾åˆ°äº†ç›®æ ‡ã€‚

æ–¹æ³•äºŒï¼š

æˆ‘ä»¬çœ‹åˆ°é¡µé¢ä¸­æœ‰ä¸€ä¸ªæ’­æ”¾å™¨

![](/images/posts/25.-å®æˆ˜ï¼šæŠ“å–ã€Šæœªé—»èŠ±åã€‹è§†é¢‘ï¼ˆxpath+çº¿ç¨‹æ± ï¼‰/76dcf07f1d05.png)

è¿™ä¸ªå…¶å®å°±æ˜¯ç½‘é¡µä¸­åµŒå¥—çš„æ’­æ”¾å™¨ï¼Œæ˜¯ç½‘é¡µä¸­çš„ç½‘é¡µï¼Œä¹Ÿå«åšâ€œ[iframe](https://blog.csdn.net/m0_59180666/article/details/128443203 "iframe")â€ã€‚å…¶å®å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªç½‘é¡µçš„å†…è”æ¡†æ¶ï¼Œä¸€èˆ¬ä¼šåœ¨å†…è”æ¡†æ¶ä¸­å…³è”ç½‘é¡µURLä»è€Œå®ç°ç½‘é¡µçš„åµŒå¥—ã€‚

**æ£€æŸ¥é¡µé¢** ï¼š

![](/images/posts/25.-å®æˆ˜ï¼šæŠ“å–ã€Šæœªé—»èŠ±åã€‹è§†é¢‘ï¼ˆxpath+çº¿ç¨‹æ± ï¼‰/078339e648d7.png)

èƒ½å¾—åˆ°iframeä¸­çš„urlï¼ˆå³æ’­æ”¾å™¨çš„é“¾æ¥ï¼Œä¹Ÿèƒ½å‘ç°åœ¨å…¶ä¸­éšè—çš„m3u8æ–‡ä»¶åœ°å€ï¼‰ 

ä½†æˆ‘ä»¬åœ¨æºä»£ç ä¸­æœç´¢iframeï¼š

![](/images/posts/25.-å®æˆ˜ï¼šæŠ“å–ã€Šæœªé—»èŠ±åã€‹è§†é¢‘ï¼ˆxpath+çº¿ç¨‹æ± ï¼‰/23a53fa7fdfc.png)

å´æœç´¢ä¸åˆ°ï¼Œè¯´æ˜ç½‘ç«™**æ²¡æœ‰ç›´æ¥æŠŠå†…è”æ¡†æ¶å†™åœ¨æºä»£ç ä¸­** ï¼Œè€Œæ˜¯é€šè¿‡åŠ¨æ€è¯·æ±‚ã€‚

æˆ‘ä»¬**è§æ‹›æ‹†æ‹›** ï¼Œæˆ‘ä»¬åœ¨F12ä¸­åˆ‡æ¢åˆ°ç½‘ç»œï¼Œåˆ·æ–°ä¸€ä¸‹ï¼š

![](/images/posts/25.-å®æˆ˜ï¼šæŠ“å–ã€Šæœªé—»èŠ±åã€‹è§†é¢‘ï¼ˆxpath+çº¿ç¨‹æ± ï¼‰/e8caf49fb69c.png)

![](/images/posts/25.-å®æˆ˜ï¼šæŠ“å–ã€Šæœªé—»èŠ±åã€‹è§†é¢‘ï¼ˆxpath+çº¿ç¨‹æ± ï¼‰/9f2848490d4e.png)

çœ‹åˆ°äº†index.m3u8è¿™ä¸ªé€‰é¡¹ï¼ŒåŒæ ·èƒ½æ‹¿åˆ°å®ƒçš„urlï¼Œä½†è¿™æ ·**ä¸å…·æœ‰æ™®é€‚æ€§** ï¼Œå› ä¸ºæ— æ³•é€šè¿‡ç›´æ¥çš„ç½‘ç»œè¯·æ±‚åœ¨æºä»£ç ä¸­æ‰¾åˆ°ã€‚ 

æ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯**é€‰ç”¨æ–¹æ³•ä¸€** æ¥æã€‚

```python html = etree.HTML(resp.text) dic_str = html.xpath("/html/body/div[4]/div/script[1]/text()")[0].strip("var player_aaaa=") dic = json.loads(dic_str) # å°†å­—ç¬¦ä¸²è½¬ä¸ºå­—å…¸æ‹¿ä¿¡æ¯ # print(dic.get('url')) # å¾—åˆ°çš„æ˜¯urlå±æ€§å¯¹åº”çš„m3u8é“¾æ¥ m3u8_url = dic.get('url') # æ‹¿åˆ°m3u8çš„åœ°å€ # print(m3u8_url) ``` 

ç”¨xpathå…ˆæŠ“æ¥scriptçš„æ–‡æœ¬å†…å®¹ï¼Œä¸ç†Ÿæ‚‰xpathçš„åŒå­¦å¯ä»¥å›å»çœ‹[XPathè§£æå…¥é—¨](https://blog.csdn.net/m0_59180666/article/details/128519694 "XPathè§£æå…¥é—¨")ã€‚

æŠ“åˆ°æ–‡æœ¬ä»¥åå‘ç°æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œä½†æ˜¯æ­¤æ—¶å®ƒè¿˜æ˜¯å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æŠŠå®ƒè½¬ä¸ºå­—å…¸ï¼š

**å¯¼åŒ…**

```python import json ``` 

ç”¨json.loads()å¤„ç†ä¸ºå­—å…¸ï¼Œç„¶åç”¨getæ–¹æ³•è·å¾—urlåé¢çš„å€¼ï¼Œæ‹¿åˆ°m3u8åœ°å€ã€‚

ç„¶å**ç›´æ¥ä¸‹è½½** å°±å®Œäº‹äº†

```python # ä¸‹è½½m3u8æ–‡ä»¶ resp2 = requests.get(m3u8_url, headers=headers) with open("æœªé—»èŠ±å.m3u8", mode="wb") as f: f.write(resp2.content) resp2.close() print("ä¸‹è½½å®Œæ¯•") ``` 

å¸¦ä¸å¸¦headerséƒ½è¡Œï¼Œä¸€èˆ¬æœ€å¥½èƒ½å¸¦ä¸Šï¼Œä¹Ÿä¸éº»çƒ¦ï¼Œæˆ‘æ²¡æœ‰æµ‹è¯•ä¸å¸¦headersä¼šä¸ä¼šæ‹¦æˆªï¼Œå¤§å®¶ç”¨ä¸Šheaderså°±å¥½äº†ï¼Œåœ¨è¯·æ±‚æ ‡å¤´é‡Œéƒ½èƒ½æ‹¿åˆ°ã€‚

![](/images/posts/25.-å®æˆ˜ï¼šæŠ“å–ã€Šæœªé—»èŠ±åã€‹è§†é¢‘ï¼ˆxpath+çº¿ç¨‹æ± ï¼‰/f284835c74fe.png)

æ‰“å¼€ä¸‹è½½å¥½çš„m3u8æ–‡ä»¶ï¼Œæˆ‘ä»¬å‘ç°tsçš„åœ°å€éƒ½æ˜¯ç²¾ç®€ç‰ˆçš„ï¼Œæˆ‘ä»¬éœ€è¦**è¡¥é½å‰é¢çš„åŸŸå** ï¼š

```python domain = m3u8_url.split("index")[0] # æ‹¿åˆ°ä¸»åŸŸåï¼Œåé¢æ‹¼æ¥tsæ–‡ä»¶é“¾æ¥è¦ç”¨ # print(domain) ``` 

ç°åœ¨å¯ä»¥**ä¸‹è½½è§†é¢‘ç‰‡æ®µ** äº† 

```python # ä¸‹è½½è§†é¢‘ç‰‡æ®µ def download(url): resp3 = requests.get(domain + url) fp = open(f"ã‚ã®èŠ±_video/{url}", mode="wb") fp.write(resp3.content) fp.close() resp3.close() print("å®Œæˆ1ç‰‡") ``` 

**è§£æm3u8æ–‡ä»¶**

```python # è§£æm3u8æ–‡ä»¶ lst = [] with open("æœªé—»èŠ±å.m3u8", mode="r", encoding="utf-8") as f: for line in f: line = line.strip() # å…ˆå»æ‰ç©ºæ ¼, ç©ºç™½, æ¢è¡Œç¬¦ if line.startswith("#"): # å¦‚æœä»¥#å¼€å¤´. æˆ‘ä¸è¦ continue else: lst.append(line) ``` 

è§‚å¯Ÿå‘ç°åœ°å€éƒ½æ˜¯ä¸å¸¦â€œ#â€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬**ä»¥â€œ#â€ä½œä¸ºç­›é€‰** ï¼Œå–å‡ºä¸å¸¦äº•å·çš„è¡Œä½œä¸ºåœ°å€åŠ å…¥åˆ—è¡¨ã€‚

ç”±äºæœ‰å…­ç™¾å¤šä¸ªtsæ–‡ä»¶ï¼Œå¦‚æœä¸²è¡Œä¸‹è½½çš„è¯ä¼šå¾ˆè€—æ—¶é—´ï¼Œæ•ˆç‡ä½ä¸‹ï¼Œæ‰€ä»¥ç”¨çº¿ç¨‹æ± çš„æ–¹æ³•æ¥åš

**å¯¼åŒ…**

```python from concurrent.futures import ThreadPoolExecutor ``` 

**åˆ›å»ºçº¿ç¨‹æ± **

```python # åˆ›å»ºçº¿ç¨‹æ±  with ThreadPoolExecutor(50) as t: for i in lst: t.submit(download, f"{i}") print("Clear All") ``` 

åœ¨ä¸‹è½½åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹éƒ½è°ƒç”¨åˆšå†™å¥½çš„**downloadå‡½æ•°** ï¼ŒæŠŠå‚æ•°ä¼ å…¥ï¼Œåœ¨**å‡½æ•°ä¸­æ‹¼æ¥æˆå®Œæ•´çš„url** ï¼Œè¿›è¡Œä¸‹è½½ã€ä¿å­˜ã€‚

**éå†æ–‡ä»¶å¤¹** ï¼Œè°ƒç”¨osåº“ï¼ŒæŠŠts**æ‹¼æ¥æˆä¸€ä¸ªmp4** æ–‡ä»¶

**å¯¼åŒ…**

```python import os ``` 

**åˆæˆè§†é¢‘**

```python # print(os.listdir("ã‚ã®èŠ±_video")) # åˆæˆè§†é¢‘ with open("ã‚ã®èŠ±_video/ã‚ã®èŠ±_video.mp4", "ab+") as fv: for file in os.listdir("ã‚ã®èŠ±_video"): with open(f"ã‚ã®èŠ±_video/{file}", "rb") as fvp: fv.write(fvp.read()) ``` 

* * *

### å®Œæ•´ä»£ç 

```python # <video src="some_video.mp4"></video> # ä¸€èˆ¬çš„è§†é¢‘ç½‘ç«™æ˜¯æ€ä¹ˆåšçš„? # ç”¨æˆ·ä¸Šä¼  -> è½¬ç (æŠŠè§†é¢‘åšå¤„ç†, 2K, 1080, æ ‡æ¸…) -> åˆ‡ç‰‡å¤„ç†(æŠŠå•ä¸ªçš„æ–‡ä»¶è¿›è¡Œæ‹†åˆ†) 60 # ç”¨æˆ·åœ¨è¿›è¡Œæ‹‰åŠ¨è¿›åº¦æ¡çš„æ—¶å€™ # ================================= # éœ€è¦ä¸€ä¸ªæ–‡ä»¶è®°å½•: 1.è§†é¢‘æ’­æ”¾é¡ºåº, 2.è§†é¢‘å­˜æ”¾çš„è·¯å¾„. # M3U8 txt json => æ–‡æœ¬ # æƒ³è¦æŠ“å–ä¸€ä¸ªè§†é¢‘: # 1. æ‰¾åˆ°m3u8 (å„ç§æ‰‹æ®µ) # 2. é€šè¿‡m3u8ä¸‹è½½åˆ°tsæ–‡ä»¶ # 3. å¯ä»¥é€šè¿‡å„ç§æ‰‹æ®µ(ä¸ä»…æ˜¯ç¼–ç¨‹æ‰‹æ®µ) æŠŠtsæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªmp4æ–‡ä»¶ """ æµç¨‹: 1\. æ‹¿åˆ°vod-play-id-61824-sid-1-nid-1.htmlçš„é¡µé¢æºä»£ç  2\. ä»æºä»£ç ä¸­æå–åˆ°m3u8çš„url 3\. ä¸‹è½½m3u8 4\. è¯»å–m3u8æ–‡ä»¶, ä¸‹è½½è§†é¢‘ 5\. åˆå¹¶è§†é¢‘ """ import os import json import requests from lxml import etree from concurrent.futures import ThreadPoolExecutor headers = { "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.192 Safari/537.36" } url = "http://www.i110dy.com/vod-play-id-61824-sid-1-nid-1.html" resp = requests.get(url, headers=headers) html = etree.HTML(resp.text) dic_str = html.xpath("/html/body/div[4]/div/script[1]/text()")[0].strip("var player_aaaa=") dic = json.loads(dic_str) # å°†å­—ç¬¦ä¸²è½¬ä¸ºå­—å…¸æ‹¿ä¿¡æ¯ # print(dic.get('url')) # å¾—åˆ°çš„æ˜¯urlå±æ€§å¯¹åº”çš„m3u8é“¾æ¥ m3u8_url = dic.get('url') # æ‹¿åˆ°m3u8çš„åœ°å€ # print(m3u8_url) domain = m3u8_url.split("index")[0] # æ‹¿åˆ°ä¸»åŸŸåï¼Œåé¢æ‹¼æ¥tsæ–‡ä»¶é“¾æ¥è¦ç”¨ # print(domain) resp.close() # ä¸‹è½½m3u8æ–‡ä»¶ resp2 = requests.get(m3u8_url, headers=headers) with open("æœªé—»èŠ±å.m3u8", mode="wb") as f: f.write(resp2.content) resp2.close() print("ä¸‹è½½å®Œæ¯•") # ä¸‹è½½è§†é¢‘ç‰‡æ®µ def download(url): resp3 = requests.get(domain + url) fp = open(f"ã‚ã®èŠ±_video/{url}", mode="wb") fp.write(resp3.content) fp.close() resp3.close() print("å®Œæˆ1ç‰‡") # è§£æm3u8æ–‡ä»¶ lst = [] with open("æœªé—»èŠ±å.m3u8", mode="r", encoding="utf-8") as f: for line in f: line = line.strip() # å…ˆå»æ‰ç©ºæ ¼, ç©ºç™½, æ¢è¡Œç¬¦ if line.startswith("#"): # å¦‚æœä»¥#å¼€å¤´. æˆ‘ä¸è¦ continue else: lst.append(line) # åˆ›å»ºçº¿ç¨‹æ±  with ThreadPoolExecutor(50) as t: for i in lst: t.submit(download, f"{i}") print("Clear All") # print(os.listdir("ã‚ã®èŠ±_video")) # åˆæˆè§†é¢‘ with open("ã‚ã®èŠ±_video/ã‚ã®èŠ±_video.mp4", "ab+") as fv: for file in os.listdir("ã‚ã®èŠ±_video"): with open(f"ã‚ã®èŠ±_video/{file}", "rb") as fvp: fv.write(fvp.read()) ``` 

* * *

### è¿è¡Œæ•ˆæœ

![](/images/posts/25.-å®æˆ˜ï¼šæŠ“å–ã€Šæœªé—»èŠ±åã€‹è§†é¢‘ï¼ˆxpath+çº¿ç¨‹æ± ï¼‰/85b2ab4767bc.png)

å¯ä»¥çœ‹åˆ°ç‰‡æ®µä¸‹è½½å®Œæ¯•ï¼Œåœ¨æ–‡ä»¶å¤¹æœ€åä¹Ÿåˆæˆäº†å®Œæ•´è§†é¢‘ã€‚

![](/images/posts/25.-å®æˆ˜ï¼šæŠ“å–ã€Šæœªé—»èŠ±åã€‹è§†é¢‘ï¼ˆxpath+çº¿ç¨‹æ± ï¼‰/f2aedc778e9b.png)

* * *

### æ€»ç»“

æœ¬èŠ‚è¾ƒä¸ºç»¼åˆï¼Œè¿ç”¨å¤šæ–¹é¢çŸ¥è¯†å¯¹æŸç½‘ç«™ï¼ˆ**é“¾æ¥åœ¨è¯„è®ºåŒº** ï¼‰ï¼ˆ**é“¾æ¥åœ¨è¯„è®ºåŒº** ï¼‰ï¼ˆ**é“¾æ¥åœ¨è¯„è®ºåŒº** ï¼‰ã€Šæœªé—»èŠ±åã€‹åŠ¨æ¼«ä½œäº†ç®€å•çš„çˆ¬å–ï¼Œé€‚åˆæ–°æ‰‹å°ç™½è®­ç»ƒï¼Œæ¶‰åŠå¤šä¸ªæ¨¡å—ï¼Œå¯ä»¥é”»ç‚¼èƒ½åŠ›ã€‚
